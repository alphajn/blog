import{s as d,e as f,h as c}from"./kline.B1p7I8zf.js";import{L as u,W as g}from"./Watermark.DwtGmn0m.js";import{d as w,ah as k,v as P,q as r,al as _,c as y,o as i,b as n,e as h,_ as D}from"./framework.Cghu_Lar.js";const x=w({inheritAttrs:!1,__name:"Simple",props:d,setup(p,{expose:m}){const a=p,o=k({el:null,chart:null}),s={applyNewData(e){var t;(t=o.chart)==null||t.applyNewData(e,a.list.length>=a.limitSize)},loadMore(e){var t;e.type==="forward"?a.loadMore((t=e.data)==null?void 0:t.time,l=>{e.callback(l,l.length>=a.limitSize)}):e.callback([],!1)},setPrecision(){var e,t;(e=o.chart)==null||e.setPriceVolumePrecision(a.pricePrecision,a.quantityPrecision),(t=o.chart)==null||t.$updateTooltip()},setGraph(e){var t;(t=o.chart)==null||t.$setGraph(e)}};return P(()=>{var t;const e={theme:a.theme,showMa:a.showMa,showVol:a.showVol,locale:a.lang};o.chart=f(o.el,e),s.setPrecision(),s.setGraph(a.graph),a.list.length&&s.applyNewData(a.list),(t=o.chart)==null||t.setLoadDataCallback(s.loadMore)}),r(()=>a.latestData,e=>{var t;e&&((t=o.chart)==null||t.updateData(e))}),r(()=>a.list,(e,t)=>{!e.length&&!t||s.applyNewData(e)},{immediate:!0}),r(()=>a.lang,e=>{var t;e&&((t=o.chart)==null||t.setLocale(c.Lang[e]?a.lang:c.lang))}),r(()=>a.theme,e=>{var t;e&&((t=o.chart)==null||t.$setTheme(e))}),r(()=>a.pricePrecision,()=>{s.setPrecision()}),r(()=>a.quantityPrecision,()=>{s.setPrecision()}),r(()=>a.graph,e=>{s.setGraph(e)}),m({chart:_(o,"chart")}),(e,t)=>(i(),y("section",{ref:l=>o.el=l,class:"simple-chart"},[a.loading?(i(),n(u,{key:0,color:a.loadingColor},null,8,["color"])):h("",!0),a.watermark?(i(),n(g,{key:1,text:a.watermark},null,8,["text"])):h("",!0)],512))}}),N=D(x,[["__scopeId","data-v-f93cb5a5"]]);export{N as S};
