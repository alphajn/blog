import{_ as H}from"./chunks/Button.DCbzwyqF.js";import{_ as U}from"./chunks/Select.eafu8-XS.js";import{_ as R}from"./chunks/Symbol.vue_vue_type_script_setup_true_lang.BtyPAB4z.js";import{K as G,h as J,z as F,M as W,p as X,u as Y,a as Q}from"./chunks/kline.D_mXtW50.js";import{d as K,a6 as $,h as Z,y as ss,a1 as is,o as E,c as A,I as r,M as v,b as I,e as B,a8 as ts,a9 as as,_ as V,j as e,k as l,a7 as P,w as D,a as k,n as w,a5 as ns,D as T}from"./chunks/framework.VWMa53FW.js";import{S as es}from"./chunks/Simple.BjerYpBF.js";import{T as ls}from"./chunks/Tv.-05BA8Rh.js";import{i as hs}from"./chunks/index.DWkN9pYn.js";import"./chunks/index.BbVwo5FL.js";import"./chunks/config.C3IDp1Hm.js";import"./chunks/Watermark.BenGLZU5.js";const ks=K({__name:"Kline",props:G,emits:["selectInterval","editInterval","showIndicator","selectGraph","set","screenshot","fullScreen","plusClick"],setup(b,{emit:y}){const t=b,h=y,{getStore:u,setStore:m}=X,s=$({el:null,tv:null,simple:null,fullscreen:!1,store:{interval:void 0,intervals:J.showIntervals,simple_graph:1,tv_graph:1}}),d=Z(()=>`${t.storeKey}_config`),n={getStore(){var a;const i=u(d.value)||{};Object.prototype.toString.call(i)==="[object Object]"&&((a=i.intervals)!=null&&a.length&&(i.intervals=t.intervals.filter(p=>i.intervals.includes(p))),s.store=Object.assign(s.store,i)),t.intervals.includes(s.store.interval)||([s.store.interval]=t.intervals),h("selectInterval",s.store.interval,!0)},setStore(){m(d.value,s.store)},selectIntervalHandle(i,a){s.store.interval=i,n.setStore(),h("selectInterval",i,a)},editInterval(i){s.store.intervals=i,n.setStore(),h("editInterval",i)},selectGraph(i){t.type==="tv"?s.store.tv_graph=i:s.store.simple_graph=i,n.setStore(),h("selectGraph",i)},showIndicator(){var i;if(t.type==="tv"){const a=(i=s.tv.chart)==null?void 0:i.activeChart();a==null||a.executeActionById("insertIndicator")}h("showIndicator")},set(){var i;if(t.type==="tv"){const a=(i=s.tv.chart)==null?void 0:i.activeChart();a==null||a.executeActionById("chartProperties")}h("set")},screenshot(){var i,a;t.type==="tv"?(i=s.tv.chart)==null||i.takeScreenshot():(a=s.simple.chart)==null||a.$screenshot(),h("screenshot")},fullScreen(){s.fullscreen&&F.exitFullscreen?F.exitFullscreen():F.requestFullscreen(s.el)},onFullscreenChange(){s.fullscreen=!s.fullscreen,h("fullScreen",s.fullscreen)}};return ss(()=>{n.getStore(),F.addEventListener("fullscreenchange",n.onFullscreenChange,!1)}),is(()=>{F.removeEventListener("fullscreenchange",n.onFullscreenChange,!1)}),(i,a)=>(E(),A("section",{ref:p=>s.el=p,class:"kline"},[r(W,v(t,{fullscreen:s.fullscreen,"selected-intervals":s.store.intervals,interval:s.store.interval,graph:t.type==="tv"?s.store.tv_graph:s.store.simple_graph,onSelectInterval:n.selectIntervalHandle,onEditInterval:n.editInterval,onSet:n.set,onScreenshot:n.screenshot,onFullScreen:n.fullScreen,onShowIndicator:n.showIndicator,onSelectGraph:n.selectGraph}),null,16,["fullscreen","selected-intervals","interval","graph","onSelectInterval","onEditInterval","onSet","onScreenshot","onFullScreen","onShowIndicator","onSelectGraph"]),t.types.includes("simple")&&t.type==="simple"?(E(),I(es,v({key:0,ref:p=>s.simple=p},t,{graph:s.store.simple_graph}),null,16,["graph"])):B("",!0),t.types.includes("tv")?ts((E(),I(ls,v({key:1,ref:p=>s.tv=p},t,{interval:s.store.interval,graph:s.store.tv_graph,onPlusClick:a[0]||(a[0]=p=>h("plusClick",p))}),null,16,["interval","graph"])),[[as,t.type==="tv"]]):B("",!0)],512))}}),ps=V(ks,[["__scopeId","data-v-495d2f14"]]),ds={class:"flex gap-10px mb-10px"},rs={class:"flex-1"},os=e("p",{class:"text-12px !my-0 !lh-14px font-500 c-#6f75ff !mb-6px"}," 交易对 ",-1),gs={class:"mt-18px ml-20px flex bg-#6f75ff rd-5px p-4px"},cs=K({__name:"Kline",setup(b){const y="/blog/charting_library/",{theme:t,lang:h,langList:u,intervals:m}=Y("tv"),{interval:s,symbol:d,symbols:n,changeSymbol:i,loading:a,limitSize:p,list:O,latestData:j,loadMore:L,init:z}=Q(),g=$({type:"simple",types:["simple","tv"]}),f={selectInterval(C){s.value=C,d.value&&z()},plusClickHandle(C){hs.info(JSON.stringify(C,null,4),{autoClose:2e3,theme:t.value==="dark"?"light":"dark"})}};return(C,o)=>{var q,x,S;const M=R,N=U,_=H;return E(),A("section",null,[e("div",ds,[e("div",rs,[os,r(M,{modelValue:l(d),"onUpdate:modelValue":o[0]||(o[0]=c=>P(d)?d.value=c:null),onOnChange:l(i)},null,8,["modelValue","onOnChange"])]),r(N,{modelValue:l(h),"onUpdate:modelValue":o[1]||(o[1]=c=>P(h)?h.value=c:null),options:l(u),label:"支持语言"},null,8,["modelValue","options"]),e("div",gs,[r(_,{class:w(["bg-#f8b200 !rd-r-0",{"!bg-#6dd230":g.type==="simple"}]),onClick:o[2]||(o[2]=c=>g.type="simple")},{default:D(()=>[k(" 基础版 ")]),_:1},8,["class"]),r(_,{class:w(["bg-#f8b200 !rd-l-0",{"!bg-#6dd230":g.type==="tv"}]),onClick:o[3]||(o[3]=c=>g.type="tv")},{default:D(()=>[k(" 专业版 ")]),_:1},8,["class"])])]),r(l(ps),{class:"h-400px b-1px b-solid b-#6f75ff rd-5px bg-[var(--vp-c-bg)]",types:g.types,type:g.type,"library-path":y,exchange:"exchange",watermark:"alpha",theme:l(t),lang:l(h),symbol:(q=l(n))==null?void 0:q.symbolId,"price-precision":(x=l(n))==null?void 0:x.priceDecimal,"quantity-precision":(S=l(n))==null?void 0:S.qtyDecimal,intervals:l(m),loading:l(a),"loading-color":"#6f75ff","limit-size":l(p),list:l(O),"latest-data":l(j),"load-more":l(L),onSelectInterval:f.selectInterval,onPlusClick:f.plusClickHandle},null,8,["types","type","theme","lang","symbol","price-precision","quantity-precision","intervals","loading","limit-size","list","latest-data","load-more","onSelectInterval","onPlusClick"]),B("",!0)])}}}),Ks=JSON.parse('{"title":"便捷使用","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"npm/kline.md","filePath":"npm/kline.md","lastUpdated":1723338953000}'),Fs={name:"npm/kline.md"},Es=e("h1",{id:"便捷使用",tabindex:"-1"},[k("便捷使用 "),e("a",{class:"header-anchor",href:"#便捷使用","aria-label":'Permalink to "便捷使用"'},"​")],-1),ys=e("a",{href:"https://cn.tradingview.com/widget/advanced-chart/",target:"_blank",rel:"noreferrer"},"Tradingview",-1),us=e("a",{href:"https://www.tradingview.com/charting-library-docs/",target:"_blank",rel:"noreferrer"},"官方文档",-1),ms=e("a",{href:"https://klinecharts.com/",target:"_blank",rel:"noreferrer"},"KlineChart",-1),Cs=e("div",{class:"warning custom-block"},[e("p",{class:"custom-block-title"},"注意"),e("p",null,"只支持vue3版本。"),e("p",null,"支持同时使用 和 支持单独使用(基础版、专业版)")],-1),bs=e("h2",{id:"demo",tabindex:"-1"},[k("Demo "),e("a",{class:"header-anchor",href:"#demo","aria-label":'Permalink to "Demo"'},"​")],-1),vs=ns("",24);function Bs(b,y,t,h,u,m){const s=T("el-tag"),d=T("Badge"),n=cs;return E(),A("div",null,[Es,e("ol",null,[e("li",null,[k("专业版：基于 "),ys,k(),r(s,{round:"",small:""},{default:D(()=>[k("26.003")]),_:1}),k(" 开发，"),us,k("。")]),e("li",null,[k("基础版：基于 "),ms,k(),r(d,{type:"tip",text:"^9.8.10"}),k("开发, 自适应移动端。")])]),Cs,bs,r(n),vs])}const $s=V(Fs,[["render",Bs]]);export{Ks as __pageData,$s as default};
