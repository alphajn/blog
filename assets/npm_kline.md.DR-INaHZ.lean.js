import{_ as H}from"./chunks/Button.RA-lQ-dH.js";import{_ as M}from"./chunks/Select.BAs6jzUF.js";import{_ as U}from"./chunks/Symbol.vue_vue_type_script_setup_true_lang.BwClXDJS.js";import{d as K,ah as T,h as G,v as R,$ as J,c as D,o as y,G as g,b as I,e as B,aj as W,K as v,ak as X,_ as V,j as l,k as h,ai as P,n as w,w as A,a as d,C as Y,ag as Q}from"./chunks/framework.Df0lKNsS.js";import{K as Z,h as ss,k as E,M as is,p as ts,u as as,a as ns}from"./chunks/kline.BsXOq4Me.js";import{S as ls}from"./chunks/Simple.DoOMrDpS.js";import{T as es}from"./chunks/Tv.xl3NV6oQ.js";import{l as hs}from"./chunks/index.BX0bY5Bo.js";import"./chunks/index.B8mzIwg2.js";import"./chunks/config.DQYcQSxY.js";import"./chunks/Watermark.Bgg0zAxU.js";const ks=K({__name:"Kline",props:Z,emits:["selectInterval","editInterval","showIndicator","selectGraph","set","screenshot","fullScreen","plusClick"],setup(b,{emit:i}){const a=b,k=i,{getStore:u,setStore:m}=ts,s=T({el:null,tv:null,simple:null,fullscreen:!1,store:{interval:void 0,intervals:ss.showIntervals,simple_graph:1,tv_graph:1}}),o=G(()=>`${a.storeKey}_config`),e={getStore(){var n;const t=u(o.value)||{};Object.prototype.toString.call(t)==="[object Object]"&&((n=t.intervals)!=null&&n.length&&(t.intervals=a.intervals.filter(r=>t.intervals.includes(r))),s.store=Object.assign(s.store,t)),a.intervals.includes(s.store.interval)||([s.store.interval]=a.intervals),k("selectInterval",s.store.interval,!0)},setStore(){m(o.value,s.store)},selectIntervalHandle(t,n){s.store.interval=t,e.setStore(),k("selectInterval",t,n)},editInterval(t){s.store.intervals=t,e.setStore(),k("editInterval",t)},selectGraph(t){a.type==="tv"?s.store.tv_graph=t:s.store.simple_graph=t,e.setStore(),k("selectGraph",t)},showIndicator(){var t;if(a.type==="tv"){const n=(t=s.tv.chart)==null?void 0:t.activeChart();n==null||n.executeActionById("insertIndicator")}k("showIndicator")},set(){var t;if(a.type==="tv"){const n=(t=s.tv.chart)==null?void 0:t.activeChart();n==null||n.executeActionById("chartProperties")}k("set")},screenshot(){var t,n;a.type==="tv"?(t=s.tv.chart)==null||t.takeScreenshot():(n=s.simple.chart)==null||n.$screenshot(),k("screenshot")},fullScreen(){s.fullscreen&&E.exitFullscreen?E.exitFullscreen():E.requestFullscreen(s.el)},onFullscreenChange(){s.fullscreen=!s.fullscreen,k("fullScreen",s.fullscreen)}};return R(()=>{e.getStore(),E.addEventListener("fullscreenchange",e.onFullscreenChange,!1)}),J(()=>{E.removeEventListener("fullscreenchange",e.onFullscreenChange,!1)}),(t,n)=>(y(),D("section",{ref:r=>s.el=r,class:"kline"},[g(is,v(a,{fullscreen:s.fullscreen,"selected-intervals":s.store.intervals,interval:s.store.interval,graph:a.type==="tv"?s.store.tv_graph:s.store.simple_graph,onSelectInterval:e.selectIntervalHandle,onEditInterval:e.editInterval,onSet:e.set,onScreenshot:e.screenshot,onFullScreen:e.fullScreen,onShowIndicator:e.showIndicator,onSelectGraph:e.selectGraph}),null,16,["fullscreen","selected-intervals","interval","graph","onSelectInterval","onEditInterval","onSet","onScreenshot","onFullScreen","onShowIndicator","onSelectGraph"]),a.types.includes("simple")&&a.type==="simple"?(y(),I(ls,v({key:0,ref:r=>s.simple=r},a,{graph:s.store.simple_graph}),null,16,["graph"])):B("",!0),a.types.includes("tv")?W((y(),I(es,v({key:1,ref:r=>s.tv=r},a,{interval:s.store.interval,graph:s.store.tv_graph,onPlusClick:n[0]||(n[0]=r=>k("plusClick",r))}),null,16,["interval","graph"])),[[X,a.type==="tv"]]):B("",!0)],512))}}),ps=V(ks,[["__scopeId","data-v-77059b36"]]),ds={class:"flex gap-10px mb-10px"},rs={class:"flex-1"},os={class:"mt-18px ml-20px flex bg-#6f75ff rd-5px p-4px"},gs=K({__name:"Kline",setup(b){const i="/blog/charting_library/",{theme:a,lang:k,langList:u,intervals:m}=as("tv"),{interval:s,symbol:o,symbols:e,changeSymbol:t,loading:n,limitSize:r,list:$,latestData:O,loadMore:j,init:L}=ns(),F=T({type:"simple",types:["simple"]}),f={selectInterval(C){s.value=C,o.value&&L()},plusClickHandle(C){hs.info(JSON.stringify(C,null,4),{autoClose:2e3,theme:a.value==="dark"?"light":"dark"})}};return F.types.push("tv"),(C,p)=>{var x,S,_;const N=U,z=M,q=H;return y(),D("section",null,[l("div",ds,[l("div",rs,[p[4]||(p[4]=l("p",{class:"text-12px !my-0 !lh-14px font-500 c-#6f75ff !mb-6px"}," 交易对 ",-1)),g(N,{modelValue:h(o),"onUpdate:modelValue":p[0]||(p[0]=c=>P(o)?o.value=c:null),onOnChange:h(t)},null,8,["modelValue","onOnChange"])]),g(z,{modelValue:h(k),"onUpdate:modelValue":p[1]||(p[1]=c=>P(k)?k.value=c:null),options:h(u),label:"支持语言"},null,8,["modelValue","options"]),l("div",os,[g(q,{class:w(["bg-#f8b200 !rd-r-0",{"!bg-#6dd230":F.type==="simple"}]),onClick:p[2]||(p[2]=c=>F.type="simple")},{default:A(()=>p[5]||(p[5]=[d(" 基础版 ")])),_:1},8,["class"]),g(q,{class:w(["bg-#f8b200 !rd-l-0",{"!bg-#6dd230":F.type==="tv"}]),onClick:p[3]||(p[3]=c=>F.type="tv")},{default:A(()=>p[6]||(p[6]=[d(" 专业版 ")])),_:1},8,["class"])])]),g(h(ps),{class:"h-400px b-1px b-solid b-#6f75ff rd-5px bg-[var(--vp-c-bg)]",types:F.types,type:F.type,"library-path":i,exchange:"exchange",watermark:"alpha",theme:h(a),lang:h(k),symbol:(x=h(e))==null?void 0:x.symbolId,"price-precision":(S=h(e))==null?void 0:S.priceDecimal,"quantity-precision":(_=h(e))==null?void 0:_.qtyDecimal,intervals:h(m),loading:h(n),"loading-color":"#6f75ff","limit-size":h(r),list:h($),"latest-data":h(O),"load-more":h(j),onSelectInterval:f.selectInterval,onPlusClick:f.plusClickHandle},null,8,["types","type","theme","lang","symbol","price-precision","quantity-precision","intervals","loading","limit-size","list","latest-data","load-more","onSelectInterval","onPlusClick"]),B("",!0)])}}}),qs=JSON.parse('{"title":"便捷使用","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"npm/kline.md","filePath":"npm/kline.md","lastUpdated":1723536692000}'),Fs={name:"npm/kline.md"};function cs(b,i,a,k,u,m){const s=Y("Badge"),o=gs;return y(),D("div",null,[i[11]||(i[11]=l("h1",{id:"便捷使用",tabindex:"-1"},[d("便捷使用 "),l("a",{class:"header-anchor",href:"#便捷使用","aria-label":'Permalink to "便捷使用"'},"​")],-1)),l("ol",null,[l("li",null,[i[1]||(i[1]=d("专业版：基于 ")),i[2]||(i[2]=l("a",{href:"https://cn.tradingview.com/widget/advanced-chart/",target:"_blank",rel:"noreferrer"},"Tradingview",-1)),i[3]||(i[3]=d()),g(s,{round:"",small:""},{default:A(()=>i[0]||(i[0]=[d("26.003")])),_:1}),i[4]||(i[4]=d(" 开发，")),i[5]||(i[5]=l("a",{href:"https://www.tradingview.com/charting-library-docs/",target:"_blank",rel:"noreferrer"},"官方文档",-1)),i[6]||(i[6]=d("。"))]),l("li",null,[i[7]||(i[7]=d("基础版：基于 ")),i[8]||(i[8]=l("a",{href:"https://klinecharts.com/",target:"_blank",rel:"noreferrer"},"KlineChart",-1)),i[9]||(i[9]=d()),g(s,{type:"tip",text:"^9.8.10"}),i[10]||(i[10]=d("开发, 自适应移动端。"))])]),i[12]||(i[12]=l("div",{class:"warning custom-block"},[l("p",{class:"custom-block-title"},"注意"),l("p",null,"只支持vue3版本。"),l("p",null,"支持同时使用 和 支持单独使用(基础版、专业版)")],-1)),i[13]||(i[13]=l("h2",{id:"demo",tabindex:"-1"},[d("Demo "),l("a",{class:"header-anchor",href:"#demo","aria-label":'Permalink to "Demo"'},"​")],-1)),g(o),i[14]||(i[14]=Q("",24))])}const xs=V(Fs,[["render",cs]]);export{qs as __pageData,xs as default};
