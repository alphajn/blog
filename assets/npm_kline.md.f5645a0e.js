import{l as u,u as $}from"./chunks/index.88dc1bbd.js";import"./chunks/el-button.4ed993c7.js";import{_ as S,a as L}from"./chunks/el-tag.a2d2cde6.js";import"./chunks/el-option.4ed993c7.js";import{_ as x,d as q,o as v,D as T,E as h,c as k,F as I,R as K,J as c,u as N,a5 as M,l as _,k as z,a6 as V,C as p,a as i,b as J,S as O,U as R,V as U}from"./chunks/framework.810436bc.js";import{_ as G}from"./chunks/Kline.vue_vue_type_style_index_0_scoped_913d5e6b_lang.37cd29b6.js";import{E as H}from"./chunks/index.e286162c.js";import"./chunks/index.70f4c496.js";import"./chunks/index.dc0a6508.js";import"./chunks/index.b36400a7.js";const j=x(G,[["__scopeId","data-v-913d5e6b"]]);const X=q({__name:"Exchange",props:{exchange:{type:String,default:"meex"}},emits:["change"],setup(D,{emit:g}){const d=g,n=["meex"];return(C,m)=>{const y=u.ElOption,s=u.ElSelect;return v(),T(s,{class:"w-100%","model-value":D.exchange,size:"small",onChange:m[0]||(m[0]=r=>d("change",r))},{default:h(()=>[(v(),k(I,null,K(n,r=>c(y,{key:r,label:r,value:r},null,8,["label","value"])),64))]),_:1},8,["model-value"])}}}),f=D=>(O("data-v-4ee42cd8"),D=D(),R(),D),Y={class:"options pb-8px! text-12px border-b-solid border-b border-amber mb-8px!"},Q=f(()=>p("p",{class:"m-0! text-12px lh-12px! mb-4px!"}," 交易所 ",-1)),Z=f(()=>p("p",{class:"m-0! text-12px lh-12px! mb-4px!"}," 交易对 ",-1)),W=f(()=>p("p",{class:"m-0! text-12px lh-12px! mb-4px!"}," 语言 ",-1)),ss={class:""},ts=f(()=>p("p",{class:"m-0! text-12px lh-12px! mb-4px!"}," Kline类型 ",-1)),as=q({__name:"Kline",setup(D){const{isDark:g}=N(),d=new $("wss://ws.meex.com/kline-api/ws",{name:"kline-ws-meex",retry:100,connect:!1});let n=null,C=null;const m={interval_map:{1:"1min",5:"5min",15:"15min",30:"30min",60:"60min",240:"4h","1D":"1day","1W":"1week","1M":"1month"}},y={interval_map:{1:"1m",3:"3m",5:"5m",15:"15m",30:"30m",60:"1h",120:"2h",240:"4h",360:"6h",720:"12h","1D":"1d","1W":"1w","1M":"1M"}},s=M({exchange:"meex",symbols:{},lang:"zh-CN",type:"simple",types:["simple","tv"],theme:"light",loading:!0,interval:"",list:[],sub_list:[],latest_data:null,page_size:300,library_path:"/blog/charting_library/"}),r=_(()=>{var t;return`market_${(t=s.symbols.symbol)==null?void 0:t.toLowerCase()}_kline_${m.interval_map[s.interval]}`}),A=_(()=>`symbol=${s.symbols.symbol}&interval=${y.interval_map[s.interval]}&limit=${s.page_size}`),b=_(()=>({topic:`kline_${y.interval_map[s.interval]}`,id:`kline_301${s.symbols.symbol}${y.interval_map[s.interval]}`,params:{binary:!1,limit:1},symbol:s.symbols.symbol,event:"sub"})),B=_(()=>["1","5","15","30","60","240","1D","1W","1M"]),l={getKline(){if(s.loading=!0,s.sub_list=[],s.latest_data=null,l.subKline(),s.exchange==="meex")d.send({event:"req",params:{channel:r.value}},t=>{var a,e;if(s.loading=!1,s.list=[],t.success&&t.channel===r.value){const o=l.formatMeexList(t.data);if(s.sub_list.length){const F=(a=o.slice(-1)[0])==null?void 0:a.timestamp;((e=s.sub_list[0])==null?void 0:e.timestamp)>F&&o.push(...s.sub_list),s.sub_list=[]}s.list=o}});else{const t=A.value;fetch(`https://api.bybit.com/spot/api/quote/v2/klines?${t}`).then(a=>a.json()).then(a=>{s.loading=!1,a.ret_code===0&&t===A.value&&(s.list=l.formatBybitList(a.result))})}},subKline(){if(s.exchange==="meex")d.init(),d.send({event:"sub",params:{channel:r.value}},t=>{if(t.success&&t.channel===r.value){const a=l.formatMeexList([t.tick]);s.loading?s.sub_list=a:([s.latest_data]=a,l.updateListLastData())}});else{n=n||new WebSocket("wss://ws2.bybit.com/spot/ws/quote/v1");const t=()=>{C=setTimeout(()=>{n==null||n.send(JSON.stringify({ping:Date.now()}))},5e3)};n.readyState===1&&(n==null||n.send(JSON.stringify(b.value)),t()),n.onopen=()=>{n==null||n.send(JSON.stringify(b.value)),t()},n.onmessage=a=>{const e=JSON.parse(a.data);if(e.id===b.value.id){const o=l.formatBybitList(e.data);s.loading?s.sub_list=o:([s.latest_data]=o,l.updateListLastData())}else e.pong&&t()}}},loadMore(t,a){if(!t){a([]);return}if(s.exchange==="meex")d.send({event:"req",params:{channel:r.value,endIdx:t/1e3-1,pageSize:s.page_size}},e=>{if(e.success&&e.channel===r.value){const o=l.formatMeexList(e.data);a(o),s.list.unshift(...o)}});else{const e=A.value;fetch(`https://api.bybit.com/spot/api/quote/v2/klines?${e}&to=${t-1e3}`).then(o=>o.json()).then(o=>{if(o.ret_code===0&&e===A.value){const F=l.formatBybitList(o.result);a(F),s.list.unshift(...F)}})}},updateListLastData(){var t;if(s.latest_data){const a=s.latest_data.time,e=(t=s.list.slice(-1)[0])==null?void 0:t.time;a===e?s.list.splice(-1,1,s.latest_data):a&&(!e||a>e)&&s.list.push(s.latest_data)}},unsub(t){s.exchange==="meex"?d.send({event:"unsub",params:{channel:r.value}},t):(C&&clearTimeout(C),(n==null?void 0:n.readyState)===1&&(n==null||n.send(JSON.stringify({...b.value,event:"cancel"}))))},changeExchange(t){l.unsub(()=>{}),s.exchange=t,s.latest_data=null,s.loading=!0},changeSymbol(t){l.unsub(()=>{}),s.symbols=t,s.interval&&l.getKline()},changeLang(t){s.lang=t},selectType(t){s.type=t},selectInterval(t){l.unsub(()=>{}),s.interval=t,s.symbols.symbol&&l.getKline()},formatMeexList(t){return t.map(a=>({id:`${s.symbols.symbol}_${s.interval}`,timestamp:a.id*1e3,time:a.id*1e3,open:a.open,close:a.close,high:a.high,low:a.low,volume:a.vol}))},formatBybitList(t){return t.map(a=>({id:`${s.symbols.symbol}_${s.interval}`,timestamp:a.t,time:a.t,open:Number(a.o),close:Number(a.c),high:Number(a.h),low:Number(a.l),volume:Number(a.v)}))},onPlusClick(t){H({title:"点击加号返回数据",message:JSON.stringify(t,null,4),type:"info"})}};return z(()=>{s.theme=g.value?"dark":"light"}),V(()=>{l.unsub(()=>{}),d.close()}),(t,a)=>{const e=X,o=S,F=L,E=u.ElButton,w=u.ElButtonGroup;return v(),k("section",null,[p("ul",Y,[p("li",null,[Q,c(e,{exchange:s.exchange,onChange:l.changeExchange},null,8,["exchange","onChange"])]),p("li",null,[Z,c(o,{exchange:s.exchange,onChange:l.changeSymbol},null,8,["exchange","onChange"])]),p("li",null,[W,c(F,{lang:s.lang,onChange:l.changeLang},null,8,["lang","onChange"])]),p("li",ss,[ts,c(w,null,{default:h(()=>[c(E,{size:"small",plain:s.type!=="simple",type:s.type==="simple"?"danger":"primary",onClick:a[0]||(a[0]=P=>l.selectType("simple"))},{default:h(()=>[i(" 基础版 ")]),_:1},8,["plain","type"]),c(E,{size:"small",plain:s.type!=="tv",type:s.type==="tv"?"danger":"primary",onClick:a[1]||(a[1]=P=>l.selectType("tv"))},{default:h(()=>[i(" TradingView ")]),_:1},8,["plain","type"])]),_:1})])]),c(J(j),{class:"h-400px",types:s.types,loading:s.loading,theme:s.theme,lang:s.lang,type:s.type,symbol:s.symbols.symbol,"price-precision":s.symbols.pricePrecision,"quantity-precision":s.symbols.quantityPrecision,exchange:s.exchange,intervals:B.value,list:s.list,"latest-data":s.latest_data,"load-more":l.loadMore,"library-path":s.library_path,"limit-size":s.page_size,watermark:"水印","on-plus-click":l.onPlusClick,onSelectInterval:l.selectInterval},null,8,["types","loading","theme","lang","type","symbol","price-precision","quantity-precision","exchange","intervals","list","latest-data","load-more","library-path","limit-size","on-plus-click","onSelectInterval"])])}}});const ns=x(as,[["__scopeId","data-v-4ee42cd8"]]),bs=JSON.parse('{"title":"带菜单合并版本","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"npm/kline.md","lastUpdated":1703486231000}'),ls={name:"npm/kline.md"},es=p("h1",{id:"带菜单合并版本",tabindex:"-1"},[i("带菜单合并版本 "),p("a",{class:"header-anchor",href:"#带菜单合并版本","aria-label":'Permalink to "带菜单合并版本"'},"​")],-1),os=p("a",{href:"https://cn.tradingview.com/widget/advanced-chart/",target:"_blank",rel:"noreferrer"},"Tradingview",-1),ps=p("a",{href:"https://www.tradingview.com/charting-library-docs/",target:"_blank",rel:"noreferrer"},"官方文档",-1),rs=p("h2",{id:"demo",tabindex:"-1"},[i("Demo "),p("a",{class:"header-anchor",href:"#demo","aria-label":'Permalink to "Demo"'},"​")],-1),cs=U(`<h2 id="install" tabindex="-1">Install <a class="header-anchor" href="#install" aria-label="Permalink to &quot;Install&quot;">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 如果需要使用简版kline需要下载以下依赖</span></span>
<span class="line"><span style="color:#FFCB6B;">@fe/number</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">klinecharts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 使用 npm</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@fe/kline</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 使用 yarn</span></span>
<span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@fe/kline</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 使用 pnpm</span></span>
<span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@fe/kline</span></span></code></pre></div><h2 id="使用" tabindex="-1">使用 <a class="header-anchor" href="#使用" aria-label="Permalink to &quot;使用&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">注意</p><ol><li>如果使用 <code>TradingView</code> 需要把对应版本的 <code>charting_library</code> 放到静态文件目录下，并设置 <code>libraryPath</code> 属性为 <code>charting_library</code> 路径</li><li>如果需要自定义样式需要把对应 <code>css</code> 文件放到 <code>charting_library</code> 目录下，并设置 <code>custom_css_url</code> 属性为文件名</li></ol></div><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">setup</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Kline</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@fe/kline/vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">Kline</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">h-400px</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:loading</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">loading</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:theme</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">theme</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">lang</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">watermark</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">水印</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">type</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">library-path</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/public/charting_library/</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:price-precision</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pricePrecision</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:quantity-precision</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">quantityPrecision</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:symbol</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">symbol</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:list</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">state.list</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:latest-data</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">state.latest_data</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:load-more</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">methods.loadMore</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><h3 id="图表支持类型" tabindex="-1">图表支持类型 <a class="header-anchor" href="#图表支持类型" aria-label="Permalink to &quot;图表支持类型&quot;">​</a></h3><table><thead><tr><th>类型序号</th><th>描述</th><th>专业版</th><th>简版</th></tr></thead><tbody><tr><td>0</td><td>美国线</td><td>支持</td><td>支持</td></tr><tr><td>1</td><td>K线图</td><td>支持</td><td>支持</td></tr><tr><td>2</td><td>线形图</td><td>支持</td><td>-</td></tr><tr><td>3</td><td>面积图</td><td>支持</td><td>支持</td></tr><tr><td>8</td><td>平均K线</td><td>支持</td><td>-</td></tr><tr><td>9</td><td>空心K线图</td><td>支持</td><td>支持</td></tr><tr><td>10</td><td>基准线</td><td>支持</td><td>-</td></tr><tr><td>12</td><td>高-低</td><td>支持</td><td>-</td></tr><tr><td>13</td><td>柱状图</td><td>支持</td><td>-</td></tr><tr><td>14</td><td>带标记线</td><td>支持</td><td>-</td></tr><tr><td>15</td><td>阶梯线</td><td>支持</td><td>-</td></tr><tr><td>16</td><td>HLC 区域</td><td>支持</td><td>-</td></tr></tbody></table><h2 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h2><h3 id="属性" tabindex="-1">属性 <a class="header-anchor" href="#属性" aria-label="Permalink to &quot;属性&quot;">​</a></h3><table><thead><tr><th>属性名</th><th>说明</th><th>类型</th><th>默认值</th></tr></thead><tbody><tr><td><strong>loading</strong></td><td>数据获取中展示loading样式</td><td><code>boolean</code></td><td><code>false</code></td></tr><tr><td><strong>theme</strong></td><td>主题</td><td><code>string</code></td><td><code>dark</code></td></tr><tr><td><strong>lang</strong></td><td>语言</td><td><code>string</code></td><td><code>en-US</code></td></tr><tr><td><strong>storeKey</strong></td><td>localStorage缓存key</td><td><code>string</code></td><td><code>kline_chart</code></td></tr><tr><td><strong>watermark</strong></td><td>水印</td><td><code>HTMLElement | string</code></td><td>&#39;&#39;</td></tr><tr><td><strong>exchange</strong></td><td>交易所名称</td><td><code>string</code></td><td>&#39;&#39;</td></tr><tr><td><strong>type</strong></td><td>当前展示图表</td><td><code>simple | tv</code></td><td><code>simple</code></td></tr><tr><td><strong>types</strong></td><td>支持图表列表</td><td><code>type[]</code></td><td><code>[&#39;simple&#39;, &#39;tv&#39;]</code></td></tr><tr><td><strong>libraryPath</strong></td><td>tradingView文件路径</td><td><code>string</code></td><td>&#39;&#39;</td></tr><tr><td><strong>customCssUrl</strong></td><td>tradingView自定义样式文件名</td><td><code>string</code></td><td><code>theme.css</code></td></tr><tr><td><strong>showMa</strong></td><td>默认展示ma指标</td><td><code>boolean</code></td><td><code>true</code></td></tr><tr><td><strong>showVol</strong></td><td>默认展示成交量指标</td><td><code>boolean</code></td><td><code>true</code></td></tr><tr><td><strong>limitSize</strong></td><td>分页条数，判断是否还有更多</td><td><code>number</code></td><td><code>1000</code></td></tr><tr><td><strong>pricePrecision</strong></td><td>价格精度</td><td><code>number</code></td><td>4</td></tr><tr><td><strong>quantityPrecision</strong></td><td>数量精度</td><td><code>number</code></td><td>4</td></tr><tr><td><strong>symbol</strong></td><td>交易对</td><td><code>string</code></td><td>&#39;&#39;</td></tr><tr><td><strong>intervals</strong></td><td>可用周期列表</td><td><code>Interval[]</code></td><td><code>[&#39;1&#39;, &#39;3&#39;, &#39;5&#39;, &#39;15&#39;, &#39;30&#39;, &#39;60&#39;, &#39;120&#39;, &#39;240&#39;, &#39;360&#39;, &#39;720&#39;, &#39;1D&#39;, &#39;3D&#39;, &#39;1W&#39;, &#39;1M&#39;]</code></td></tr><tr><td><strong>list</strong></td><td>初始列表</td><td><code>Array&lt;KlineData&gt;</code></td><td>[]</td></tr><tr><td><strong>latestData</strong></td><td>最新数据</td><td><code>KlineData</code></td><td><code>null</code></td></tr><tr><td><strong>loadMore</strong></td><td>加载历史数据回调</td><td><code>(ts: number | null, cb: (list: KLineData[]) =&gt; void): void</code></td><td><code>() =&gt; void</code></td></tr><tr><td><strong>onPlusClick</strong></td><td><code>tradingView</code>点击鼠标 hover 加号触发</td><td>(plusClickParams: <a href="#plusclickparams类型">PlusClickParams</a>) =&gt; void</td><td></td></tr></tbody></table><h3 id="theme类型" tabindex="-1">Theme类型 <a class="header-anchor" href="#theme类型" aria-label="Permalink to &quot;Theme类型&quot;">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Theme</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dark</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">light</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="lang类型" tabindex="-1">Lang类型 <a class="header-anchor" href="#lang类型" aria-label="Permalink to &quot;Lang类型&quot;">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Lang</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">en-US</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">zh-CN</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">zh-TW</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ja-JP</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vi-VN</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">es-ES</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ru-RU</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">tr-TR</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pt-BR</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fr-FR</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">th-TH</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">id-ID</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="klinedata类型" tabindex="-1">KlineData类型 <a class="header-anchor" href="#klinedata类型" aria-label="Permalink to &quot;KlineData类型&quot;">​</a></h3><table><thead><tr><th>字段</th><th>说明</th><th>类型</th><th>专业版</th><th>简版</th></tr></thead><tbody><tr><td>id</td><td>唯一id，用来对比返回数据是否跟当前请求一致，例如：<code>\${symbol}_\${interval}</code></td><td><code>string</code></td><td>必填</td><td>-</td></tr><tr><td>time</td><td>时间戳，毫秒</td><td><code>number</code></td><td>必填</td><td>-</td></tr><tr><td>timestamp</td><td>时间戳，毫秒</td><td><code>number</code></td><td>-</td><td>必填</td></tr><tr><td>open</td><td>开盘价</td><td><code>number</code></td><td>必填</td><td>必填</td></tr><tr><td>high</td><td>最高价</td><td><code>number</code></td><td>必填</td><td>必填</td></tr><tr><td>low</td><td>最低价</td><td><code>number</code></td><td>必填</td><td>必填</td></tr><tr><td>close</td><td>收盘价</td><td><code>number</code></td><td>必填</td><td>必填</td></tr><tr><td>volume</td><td>成交量</td><td><code>number</code></td><td>如果不展示成交量非必填</td><td>如果不展示成交量非必填</td></tr></tbody></table><h3 id="interval类型" tabindex="-1">Interval类型 <a class="header-anchor" href="#interval类型" aria-label="Permalink to &quot;Interval类型&quot;">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Interval</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">5</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">15</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">30</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">60</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">120</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">240</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">360</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">720</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1D</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">3D</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1W</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1M</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="plusclickparams类型" tabindex="-1">PlusClickParams类型 <a class="header-anchor" href="#plusclickparams类型" aria-label="Permalink to &quot;PlusClickParams类型&quot;">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">PlusClickParams</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">clientX</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">clientY</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">pageX</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">pageY</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">screenX</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">screenY</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">symbol</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">null</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">price</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h2 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-label="Permalink to &quot;Events&quot;">​</a></h2><table><thead><tr><th>事件名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>selectInterval</td><td>选择周期，初始化后会立即调用</td><td><code>(interval: Interval, first: boolean) =&gt; void</code></td></tr><tr><td>editInterval</td><td>编辑默认展示周期保存调用</td><td><code>(intervals: Interval[]) =&gt; void</code></td></tr><tr><td>showIndicator</td><td>点击指标图标调用</td><td><code>() =&gt; void</code></td></tr><tr><td>set</td><td>点击设置图标调用</td><td><code>() =&gt; void</code></td></tr><tr><td>screenshot</td><td>点击截屏调用</td><td><code>() =&gt; void</code></td></tr><tr><td>fullScreen</td><td>点击全屏调用</td><td><code>(fullScreen: boolean) =&gt; void</code></td></tr><tr><td>selectGraph</td><td>选择图表类型调用</td><td><code>(graph: number) =&gt; void</code></td></tr></tbody></table>`,22);function ds(D,g,d,n,C,m){const y=u.ElTag,s=ns;return v(),k("div",null,[es,p("p",null,[i("基于 "),os,i(),c(y,{round:"",small:""},{default:h(()=>[i("26.003")]),_:1}),i(" 开发，"),ps,i("。")]),rs,c(s),cs])}const _s=x(ls,[["render",ds]]);export{bs as __pageData,_s as default};
