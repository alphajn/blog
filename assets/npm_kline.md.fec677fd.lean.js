import{l as Zi}from"./chunks/el-button.714582fa.js";import{a5 as Ji,d as Qi,u as en,a6 as tn,q as on,w as nn,o as Ro,c as Vo,C as Do,J as Dt,E as Po,a as Fo,F as rn,_ as zo,V as an}from"./chunks/framework.8982f19e.js";import{x as Oo,a as Wo,l as sn,w as ln,g as Mo,s as ze}from"./chunks/index.574a0076.js";import"./chunks/index.9098e909.js";var No={exports:{}},Pt={exports:{}};/**
 * @license
 * KLineChart v9.2.2
 * Copyright (c) 2019 lihu.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */(function(U,I){(function(m,j){j(I)})(Ji,function(m){function j(n,e){if(O(n)||O(e)){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var o=n[t],i=e[t];O(i)&&O(o)&&!W(i)&&!W(o)?j(o,i):Y(e[t])&&(n[t]=e[t])}}}function V(n){if(!O(n)||!W(n))return n;var e;for(var t in e=W(n)?[]:{},n)if(Object.prototype.hasOwnProperty.call(n,t)){var o=n[t];e[t]=O(o)?V(o):o}return e}function W(n){return Object.prototype.toString.call(n)==="[object Array]"}function G(n){return typeof n=="function"}function O(n){return typeof n=="object"}function he(n){return typeof n=="number"&&!isNaN(n)}function Y(n){return n!=null}function Ge(n){return typeof n=="boolean"}function de(n){return typeof n=="string"}var Ft,rt,at,Mt,st,Ue,Ae,kt,lt,Le,Yo=/\\(\\)?/g,Ho=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g");function K(n,e,t){if(Y(n)){var o=[];e.replace(Ho,function(a){for(var l=[],u=1;arguments.length>u;u++)l[u-1]=arguments[u];var c=a;return Y(l[1])?c=l[2].replace(Yo,"$1"):Y(l[0])&&(c=l[0].trim()),o.push(c),""});for(var i=n,r=0,s=o.length;Y(i)&&s>r;)i=i==null?void 0:i[o[r++]];return Y(i)?i:t??"--"}return t??"--"}function At(n,e,t){var o=n.format(new Date(e)).split(", "),i=o[0].split("/"),r=o[1].split(":"),s={YYYY:i[2],MM:i[0],DD:i[1],HH:r[0]==="24"?"00":r[0],mm:r[1],ss:r[2]};return t.replace(/YYYY|MM|DD|HH|mm|ss/g,function(a){return s[a]})}function $(n,e){var t=+n;return he(t)?t.toFixed(e??2):"".concat(n)}function Lt(n){var e=+n;if(he(e)){if(e>1e9)return"".concat(+(e/1e9).toFixed(3),"B");if(e>1e6)return"".concat(+(e/1e6).toFixed(3),"M");if(e>1e3)return"".concat(+(e/1e3).toFixed(3),"K")}return"".concat(n)}function Z(n,e){var t="".concat(n);if(e.length===0)return t;if(t.includes(".")){var o=t.split(".");return"".concat(o[0].replace(/(\d)(?=(\d{3})+$)/g,function(i){return"".concat(i).concat(e)}),".").concat(o[1])}return t.replace(/(\d)(?=(\d{3})+$)/g,function(i){return"".concat(i).concat(e)})}m.LineType=void 0,(Ft=m.LineType||(m.LineType={})).Dashed="dashed",Ft.Solid="solid",m.PolygonType=void 0,(rt=m.PolygonType||(m.PolygonType={})).Stroke="stroke",rt.Fill="fill",rt.StrokeFill="stroke_fill",m.TooltipShowRule=void 0,(at=m.TooltipShowRule||(m.TooltipShowRule={})).Always="always",at.FollowCross="follow_cross",at.None="none",m.TooltipShowType=void 0,(Mt=m.TooltipShowType||(m.TooltipShowType={})).Standard="standard",Mt.Rect="rect",m.TooltipIconPosition=void 0,(st=m.TooltipIconPosition||(m.TooltipIconPosition={})).Left="left",st.Middle="middle",st.Right="right",function(n){n.Fixed="fixed",n.Pointer="pointer"}(Ue||(Ue={})),m.CandleType=void 0,(Ae=m.CandleType||(m.CandleType={})).CandleSolid="candle_solid",Ae.CandleStroke="candle_stroke",Ae.CandleUpStroke="candle_up_stroke",Ae.CandleDownStroke="candle_down_stroke",Ae.Ohlc="ohlc",Ae.Area="area",m.YAxisPosition=void 0,(kt=m.YAxisPosition||(m.YAxisPosition={})).Left="left",kt.Right="right",m.YAxisType=void 0,(lt=m.YAxisType||(m.YAxisType={})).Normal="normal",lt.Percentage="percentage",lt.Log="log",m.FormatDateType=void 0,(Le=m.FormatDateType||(m.FormatDateType={}))[Le.Tooltip=0]="Tooltip",Le[Le.Crosshair=1]="Crosshair",Le[Le.XAxis=2]="XAxis";var ut=function(n,e){return ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},ut(n,e)};function L(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+e+" is not a constructor or null");function t(){this.constructor=n}ut(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Te,F=function(){return F=Object.assign||function(n){for(var e,t=1,o=arguments.length;o>t;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},F.apply(this,arguments)};function $e(n,e,t,o){return new(t||(t=Promise))(function(i,r){function s(u){try{l(o.next(u))}catch(c){r(c)}}function a(u){try{l(o.throw(u))}catch(c){r(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof t?c:new t(function(h){h(c)})).then(s,a)}l((o=o.apply(n,e||[])).next())})}function Ze(n,e){var t,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function a(l){return function(u){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,c[0]&&(s=0)),s;)try{if(t=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,o=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||c[0]!==6&&c[0]!==2)){s=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&i[3]>c[1])){s.label=c[1];break}if(c[0]===6&&i[1]>s.label){s.label=i[1],i=c;break}if(i&&i[2]>s.label){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(n,s)}catch(h){c=[6,h],o=0}finally{t=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([l,u])}}}function We(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],o=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ee(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var o,i,r=t.call(n),s=[];try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(i)throw i.error}}return s}function Bt(n,e,t){if(t||arguments.length===2)for(var o,i=0,r=e.length;r>i;i++)!o&&i in e||(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return n.concat(o||Array.prototype.slice.call(e))}m.ActionType=void 0,(Te=m.ActionType||(m.ActionType={})).OnZoom="onZoom",Te.OnScroll="onScroll",Te.OnVisibleRangeChange="onVisibleRangeChange",Te.OnTooltipIconClick="onTooltipIconClick",Te.OnCrosshairChange="onCrosshairChange",Te.OnCandleBarClick="onCandleBarClick",Te.OnPaneDrag="onPaneDrag";var Je,Xo=function(){function n(){this._callbacks=[]}return n.prototype.subscribe=function(e){var t;0>((t=this._callbacks.indexOf(e))!==null&&t!==void 0?t:-1)&&this._callbacks.push(e)},n.prototype.unsubscribe=function(e){var t;if(e!==void 0){var o=(t=this._callbacks.indexOf(e))!==null&&t!==void 0?t:-1;o>-1&&this._callbacks.splice(o,1)}else this._callbacks=[]},n.prototype.execute=function(e){this._callbacks.forEach(function(t){t(e)})},n.prototype.isEmpty=function(){return this._callbacks.length===0},n}(),jo=new(function(){function n(){this._baseId=1}return n.prototype.next=function(e){var t=new Date().getTime();return t===this._prevIdTimestamp?++this._baseId:this._baseId=1,this._prevIdTimestamp=t,"".concat(e??"").concat(t,"_").concat(this._baseId)},n}());function Rt(n){return jo.next(n)}function pe(n,e){var t,o=document.createElement(n),i=e??{};for(var r in i)o.style[r]=(t=i[r])!==null&&t!==void 0?t:"";return o}function Ee(n){var e,t,o;return(o=(t=(e=n.ownerDocument)===null||e===void 0?void 0:e.defaultView)===null||t===void 0?void 0:t.devicePixelRatio)!==null&&o!==void 0?o:2}function xe(n,e,t){return"".concat(e??"normal"," ").concat(n??12,"px ").concat(t??"Helvetica Neue")}function ct(n,e,t,o){if(Je===void 0){var i=document.createElement("canvas"),r=Ee(i);(Je=i.getContext("2d")).scale(r,r)}return Je.font=xe(e,t,o),Math.round(Je.measureText(n).width)}function ht(n,e,t){var o=0,i=0;for(i=n.length-1;o!==i;){var r=Math.floor((i+o)/2),s=i-o,a=n[r][e];if(t===n[o][e])return o;if(t===n[i][e])return i;if(t===a)return r;if(t>a?o=r:i=r,2>=s)break}return o}function Vt(n,e){return e==null&&(e=10),+(+n).toFixed(e=Math.min(Math.max(0,e),20))}function zt(n,e,t){var o=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER];return n.forEach(function(i){var r,s;o[0]=Math.max((r=i[e])!==null&&r!==void 0?r:i,o[0]),o[1]=Math.min((s=i[t])!==null&&s!==void 0?s:i,o[1])}),o}function Ne(n){return Math.log(n)/Math.log(10)}function Ie(n){return Math.pow(10,n)}var dt,Ko=1,qo=50,Go=function(){function n(e){this._dateTimeFormat=this._buildDateTimeFormat(),this._zoomEnabled=!0,this._scrollEnabled=!0,this._loading=!0,this._loadMoreCallback=null,this._more=!0,this._totalBarSpace=0,this._barSpace=6,this._offsetRightDistance=50,this._startScrollOffsetRightBarCount=0,this._minVisibleBarCount={left:2,right:2},this._visibleRange={from:0,to:0,realFrom:0,realTo:0},this._chartStore=e,this._gapBarSpace=this._calcGapBarSpace(),this._offsetRightBarCount=this._offsetRightDistance/this._barSpace}return n.prototype._calcGapBarSpace=function(){return Math.max(1,Math.min(Math.floor(.82*this._barSpace),Math.floor(this._barSpace)-1))},n.prototype.adjustVisibleRange=function(){var e,t=this._chartStore.getDataList(),o=t.length,i=this._totalBarSpace/this._barSpace,r=i-Math.min(this._minVisibleBarCount.left,o);this._offsetRightBarCount>r&&(this._offsetRightBarCount=r);var s=-o+Math.min(this._minVisibleBarCount.right,o);s>this._offsetRightBarCount&&(this._offsetRightBarCount=s);var a=Math.round(this._offsetRightBarCount+o+.5);a>o&&(a=o);var l=Math.round(a-i)-1;if(0>l&&(l=0),this._visibleRange={from:l,to:a,realFrom:this._offsetRightBarCount>0?Math.round(o+this._offsetRightBarCount-i)-1:l,realTo:a},this._chartStore.getActionStore().execute(m.ActionType.OnVisibleRangeChange,this._visibleRange),this._chartStore.adjustVisibleDataList(),l===0&&this._more&&!this._loading&&this._loadMoreCallback!==null){this._loading=!0;var u=t[0];this._loadMoreCallback((e=u==null?void 0:u.timestamp)!==null&&e!==void 0?e:null)}},n.prototype.setMore=function(e){return this._more=e,this},n.prototype.setLoading=function(e){return this._loading=e,this},n.prototype.getDateTimeFormat=function(){return this._dateTimeFormat},n.prototype._buildDateTimeFormat=function(e){var t={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};e!==void 0&&(t.timeZone=e);var o=null;try{o=new Intl.DateTimeFormat("en",t)}catch{}return o},n.prototype.setTimezone=function(e){var t=this._buildDateTimeFormat(e);t!==null&&(this._dateTimeFormat=t)},n.prototype.getTimezone=function(){return this._dateTimeFormat.resolvedOptions().timeZone},n.prototype.getBarSpace=function(){return{bar:this._barSpace,halfBar:this._barSpace/2,gapBar:this._gapBarSpace,halfGapBar:this._gapBarSpace/2}},n.prototype.setBarSpace=function(e,t){Ko>e||e>qo||this._barSpace===e||(this._barSpace=e,this._gapBarSpace=this._calcGapBarSpace(),t==null||t(),this.adjustVisibleRange(),this._chartStore.getCrosshairStore().recalculate(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0))},n.prototype.setTotalBarSpace=function(e){return this._totalBarSpace!==e&&(this._totalBarSpace=e,this.adjustVisibleRange(),this._chartStore.getCrosshairStore().recalculate(!0)),this},n.prototype.setOffsetRightDistance=function(e,t){return this._offsetRightDistance=e,this._offsetRightBarCount=e/this._barSpace,t!=null&&t&&(this.adjustVisibleRange(),this._chartStore.getCrosshairStore().recalculate(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0)),this},n.prototype.resetOffsetRightDistance=function(){this.setOffsetRightDistance(this._offsetRightDistance)},n.prototype.getInitialOffsetRightDistance=function(){return this._offsetRightDistance},n.prototype.getOffsetRightDistance=function(){return Math.max(0,this._offsetRightBarCount*this._barSpace)},n.prototype.getOffsetRightBarCount=function(){return this._offsetRightBarCount},n.prototype.setOffsetRightBarCount=function(e){return this._offsetRightBarCount=e,this},n.prototype.setLeftMinVisibleBarCount=function(e){return this._minVisibleBarCount.left=e,this},n.prototype.setRightMinVisibleBarCount=function(e){return this._minVisibleBarCount.right=e,this},n.prototype.getVisibleRange=function(){return this._visibleRange},n.prototype.startScroll=function(){this._startScrollOffsetRightBarCount=this._offsetRightBarCount},n.prototype.scroll=function(e){if(this._scrollEnabled){var t=e/this._barSpace;this._chartStore.getActionStore().execute(m.ActionType.OnScroll),this._offsetRightBarCount=this._startScrollOffsetRightBarCount-t,this.adjustVisibleRange(),this._chartStore.getCrosshairStore().recalculate(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0)}},n.prototype.getDataByDataIndex=function(e){var t;return(t=this._chartStore.getDataList()[e])!==null&&t!==void 0?t:null},n.prototype.coordinateToFloatIndex=function(e){var t=this._chartStore.getDataList().length;return Math.round(1e6*(t+this._offsetRightBarCount-(this._totalBarSpace-e)/this._barSpace))/1e6},n.prototype.dataIndexToTimestamp=function(e){var t,o=this.getDataByDataIndex(e);return(t=o==null?void 0:o.timestamp)!==null&&t!==void 0?t:null},n.prototype.timestampToDataIndex=function(e){var t=this._chartStore.getDataList();return t.length===0?0:ht(t,"timestamp",e)},n.prototype.dataIndexToCoordinate=function(e){var t=this._chartStore.getDataList().length;return this._totalBarSpace-(t+this._offsetRightBarCount-e-.5)*this._barSpace},n.prototype.coordinateToDataIndex=function(e){return Math.ceil(this.coordinateToFloatIndex(e))-1},n.prototype.zoom=function(e,t){var o,i=this;if(this._zoomEnabled){if((t==null?void 0:t.x)===void 0){var r=this._chartStore.getCrosshairStore().get();t={x:(o=r==null?void 0:r.x)!==null&&o!==void 0?o:this._totalBarSpace/2}}this._chartStore.getActionStore().execute(m.ActionType.OnZoom);var s=this.coordinateToFloatIndex(t.x);this.setBarSpace(this._barSpace+e*(this._barSpace/10),function(){i._offsetRightBarCount+=s-i.coordinateToFloatIndex(t==null?void 0:t.x)})}},n.prototype.setZoomEnabled=function(e){return this._zoomEnabled=e,this},n.prototype.getZoomEnabled=function(){return this._zoomEnabled},n.prototype.setScrollEnabled=function(e){return this._scrollEnabled=e,this},n.prototype.getScrollEnabled=function(){return this._scrollEnabled},n.prototype.setLoadMoreCallback=function(e){return this._loadMoreCallback=e,this},n.prototype.clear=function(){this._more=!0,this._loading=!0,this._visibleRange={from:0,to:0,realFrom:0,realTo:0}},n}();function pt(n,e,t,o,i){var r,s,a,l=e.result,u=e.figures,c=e.styles,h=K(c,"circles",o.circles),p=h.length,d=K(c,"bars",o.bars),g=d.length,v=K(c,"lines",o.lines),f=v.length,y=0,x=0,_=0,w=0;u.forEach(function(C){var S,b,T,E;switch(C.type){case"circle":s=(r=h[y%p]).style,a=r.noChangeColor,w=y,y++;break;case"bar":s=(r=d[x%g]).style,a=r.noChangeColor,w=x,x++;break;case"line":s=(r=v[_%f]).style,a=r.color,w=_,_++}if(Y(r)){var D=(b=(S=C.styles)===null||S===void 0?void 0:S.call(C,{prev:{kLineData:n[t-1],indicatorData:l[t-1]},current:{kLineData:n[t],indicatorData:l[t]},next:{kLineData:n[t+1],indicatorData:l[t+1]}},e,o))!==null&&b!==void 0?b:{style:s,color:a};i(C,{style:(T=D.style)!==null&&T!==void 0?T:s,color:(E=D.color)!==null&&E!==void 0?E:a},r,w)}})}m.IndicatorSeries=void 0,(dt=m.IndicatorSeries||(m.IndicatorSeries={})).Normal="normal",dt.Price="price",dt.Volume="volume";var Ot=function(){function n(e){this.result=[],this._precisionFlag=!1;var t=e.name,o=e.shortName,i=e.series,r=e.calcParams,s=e.figures,a=e.precision,l=e.shouldOhlc,u=e.shouldFormatBigNumber,c=e.visible,h=e.minValue,p=e.maxValue,d=e.styles,g=e.extendData,v=e.regenerateFigures,f=e.createTooltipDataSource,y=e.draw;this.name=t,this.shortName=o??t,this.series=i??m.IndicatorSeries.Normal,this.precision=a??4,this.calcParams=r??[],this.figures=s??[],this.shouldOhlc=l!=null&&l,this.shouldFormatBigNumber=u!=null&&u,this.visible=c==null||c,this.minValue=h??null,this.maxValue=p??null,this.styles=d??null,this.extendData=g,this.regenerateFigures=v??null,this.createTooltipDataSource=f??null,this.draw=y??null}return n.prototype.setShortName=function(e){return this.shortName!==e&&(this.shortName=e,!0)},n.prototype.setSeries=function(e){return this.series!==e&&(this.series=e,!0)},n.prototype.setPrecision=function(e,t){var o=t!=null&&t,i=Math.floor(e);return!(i===this.precision||0>e||o&&(!o||this._precisionFlag))&&(this.precision=i,o||(this._precisionFlag=!0),!0)},n.prototype.setCalcParams=function(e){var t,o;return this.calcParams=e,this.figures=(o=(t=this.regenerateFigures)===null||t===void 0?void 0:t.call(this,e))!==null&&o!==void 0?o:this.figures,!0},n.prototype.setShouldOhlc=function(e){return this.shouldOhlc!==e&&(this.shouldOhlc=e,!0)},n.prototype.setShouldFormatBigNumber=function(e){return this.shouldFormatBigNumber!==e&&(this.shouldFormatBigNumber=e,!0)},n.prototype.setVisible=function(e){return this.visible!==e&&(this.visible=e,!0)},n.prototype.setStyles=function(e){return this.styles!==e&&(this.styles=e,!0)},n.prototype.setExtendData=function(e){return this.extendData!==e&&(this.extendData=e,!0)},n.prototype.setFigures=function(e){return this.figures!==e&&(this.figures=e,!0)},n.prototype.setMinValue=function(e){return this.minValue!==e&&(this.minValue=e,!0)},n.prototype.setMaxValue=function(e){return this.maxValue!==e&&(this.maxValue=e,!0)},n.prototype.setRegenerateFigures=function(e){return this.regenerateFigures!==e&&(this.regenerateFigures=e,!0)},n.prototype.setCreateTooltipDataSource=function(e){return this.createTooltipDataSource!==e&&(this.createTooltipDataSource=e,!0)},n.prototype.setDraw=function(e){return this.draw!==e&&(this.draw=e,!0)},n.prototype.calcIndicator=function(e){return $e(this,void 0,void 0,function(){var t;return Ze(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.calc(e,this)];case 1:return t=o.sent(),this.result=t,[2,!0];case 2:return o.sent(),[2,!1];case 3:return[2]}})})},n.extend=function(e){return function(t){function o(){return t.call(this,e)||this}return L(o,t),o.prototype.calc=function(i,r){return e.calc(i,r)},o}(n)},n}(),Uo={name:"AVP",shortName:"AVP",series:m.IndicatorSeries.Price,precision:2,figures:[{key:"avp",title:"AVP: ",type:"line"}],calc:function(n){var e=0,t=0;return n.map(function(o){var i,r,s={},a=(i=o==null?void 0:o.turnover)!==null&&i!==void 0?i:0,l=(r=o==null?void 0:o.volume)!==null&&r!==void 0?r:0;return e+=a,(t+=l)!==0&&(s.avp=e/t),s})}},$o={name:"EMA",shortName:"EMA",series:m.IndicatorSeries.Price,calcParams:[6,12,20],precision:2,shouldOhlc:!0,figures:[{key:"ema1",title:"EMA6: ",type:"line"},{key:"ema2",title:"EMA12: ",type:"line"},{key:"ema3",title:"EMA20: ",type:"line"}],regenerateFigures:function(n){return n.map(function(e,t){return{key:"ema".concat(t+1),title:"EMA".concat(e,": "),type:"line"}})},calc:function(n,e){var t=e.calcParams,o=e.figures,i=0,r=[];return n.map(function(s,a){var l={},u=s.close;return i+=u,t.forEach(function(c,h){c-1>a||(r[h]=a>c-1?(2*u+(c-1)*r[h])/(c+1):i/c,l[o[h].key]=r[h])}),l})}},Zo={name:"MA",shortName:"MA",series:m.IndicatorSeries.Price,calcParams:[5,10,30,60],precision:2,shouldOhlc:!0,figures:[{key:"ma5",title:"MA5: ",type:"line"},{key:"ma10",title:"MA10: ",type:"line"},{key:"ma30",title:"MA30: ",type:"line"},{key:"ma60",title:"MA60: ",type:"line"}],regenerateFigures:function(n){return n.map(function(e,t){return{key:"ma".concat(t+1),title:"MA".concat(e,": "),type:"line"}})},calc:function(n,e){var t=e.calcParams,o=e.figures,i=[];return n.map(function(r,s){var a={},l=r.close;return t.forEach(function(u,c){var h;i[c]=((h=i[c])!==null&&h!==void 0?h:0)+l,u-1>s||(a[o[c].key]=i[c]/u,i[c]-=n[s-(u-1)].close)}),a})}},Jo={name:"RSI",shortName:"RSI",calcParams:[6,12,24],figures:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regenerateFigures:function(n){return n.map(function(e,t){var o=t+1;return{key:"rsi".concat(o),title:"RSI".concat(o,": "),type:"line"}})},calc:function(n,e){var t=e.calcParams,o=e.figures,i=[],r=[];return n.map(function(s,a){var l,u={},c=((l=n[a-1])!==null&&l!==void 0?l:s).close,h=s.close-c;return t.forEach(function(p,d){var g,v,f;if(h>0?i[d]=((g=i[d])!==null&&g!==void 0?g:0)+h:r[d]=((v=r[d])!==null&&v!==void 0?v:0)+Math.abs(h),a>=p-1){u[o[d].key]=r[d]!==0?100-100/(1+i[d]/r[d]):0;var y=n[a-(p-1)],x=(f=n[a-p])!==null&&f!==void 0?f:y,_=y.close-x.close;_>0?i[d]-=_:r[d]-=Math.abs(_)}}),u})}},Qo={name:"VOL",shortName:"VOL",series:m.IndicatorSeries.Volume,calcParams:[5,10,20],shouldFormatBigNumber:!0,precision:0,minValue:0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA20: ",type:"line"},{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(n,e,t){var o=n.current.kLineData;return{color:o.close>o.open?K(e.styles,"bars[0].upColor",t.bars[0].upColor):o.open>o.close?K(e.styles,"bars[0].downColor",t.bars[0].downColor):K(e.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor)}}}],regenerateFigures:function(n){var e=n.map(function(t,o){return{key:"ma".concat(o+1),title:"MA".concat(t,": "),type:"line"}});return e.push({key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(t,o,i){var r=t.current.kLineData;return{color:r.close>r.open?K(o.styles,"bars[0].upColor",i.bars[0].upColor):r.open>r.close?K(o.styles,"bars[0].downColor",i.bars[0].downColor):K(o.styles,"bars[0].noChangeColor",i.bars[0].noChangeColor)}}}),e},calc:function(n,e){var t=e.calcParams,o=e.figures,i=[];return n.map(function(r,s){var a,l=(a=r.volume)!==null&&a!==void 0?a:0,u={volume:l};return t.forEach(function(c,h){var p,d;i[h]=((p=i[h])!==null&&p!==void 0?p:0)+l,c-1>s||(u[o[h].key]=i[h]/c,i[h]-=(d=n[s-(c-1)].volume)!==null&&d!==void 0?d:0)}),u})}},ei={name:"WR",shortName:"WR",calcParams:[6,10,14],figures:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regenerateFigures:function(n){return n.map(function(e,t){return{key:"wr".concat(t+1),title:"WR".concat(t+1,": "),type:"line"}})},calc:function(n,e){var t=e.calcParams,o=e.figures;return n.map(function(i,r){var s={},a=i.close;return t.forEach(function(l,u){var c=l-1;if(r>=c){var h=zt(n.slice(r-c,r+1),"high","low"),p=h[0],d=p-h[1];s[o[u].key]=d===0?0:(a-p)/d*100}}),s})}},Qe={},ti=[Uo,{name:"AO",shortName:"AO",calcParams:[5,34],figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:function(n,e,t){var o,i,r,s,a=(i=(o=n.prev.indicatorData)===null||o===void 0?void 0:o.ao)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER,l=(s=(r=n.current.indicatorData)===null||r===void 0?void 0:r.ao)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER;return{color:l>a?K(e.styles,"bars[0].upColor",t.bars[0].upColor):K(e.styles,"bars[0].downColor",t.bars[0].downColor),style:l>a?"stroke":"fill"}}}],calc:function(n,e){var t=e.calcParams,o=Math.max(t[0],t[1]),i=0,r=0,s=0,a=0;return n.map(function(l,u){var c,h={},p=(l.low+l.high)/2;return i+=p,r+=p,u<t[0]-1||(s=i/t[0],i-=((c=n[u-(t[0]-1)]).low+c.high)/2),u<t[1]-1||(a=r/t[1],r-=((c=n[u-(t[1]-1)]).low+c.high)/2),o-1>u||(h.ao=s-a),h})}},{name:"BIAS",shortName:"BIAS",calcParams:[6,12,24],figures:[{key:"bias1",title:"BIAS6: ",type:"line"},{key:"bias2",title:"BIAS12: ",type:"line"},{key:"bias3",title:"BIAS24: ",type:"line"}],regenerateFigures:function(n){return n.map(function(e,t){return{key:"bias".concat(t+1),title:"BIAS".concat(e,": "),type:"line"}})},calc:function(n,e){var t=e.calcParams,o=e.figures,i=[];return n.map(function(r,s){var a={},l=r.close;return t.forEach(function(u,c){var h;if(i[c]=((h=i[c])!==null&&h!==void 0?h:0)+l,s>=u-1){var p=i[c]/t[c];a[o[c].key]=(l-p)/p*100,i[c]-=n[s-(u-1)].close}}),a})}},{name:"BOLL",shortName:"BOLL",series:m.IndicatorSeries.Price,calcParams:[20,2],precision:2,shouldOhlc:!0,figures:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calc:function(n,e){var t=e.calcParams,o=t[0]-1,i=0;return n.map(function(r,s){var a={};if(i+=r.close,s>=o){a.mid=i/t[0];var l=function(u,c){var h=u.length,p=0;return u.forEach(function(d){var g=d.close-c;p+=g*g}),Math.sqrt((p=Math.abs(p))/h)}(n.slice(s-o,s+1),a.mid);a.up=a.mid+t[1]*l,a.dn=a.mid-t[1]*l,i-=n[s-o].close}return a})}},{name:"BRAR",shortName:"BRAR",calcParams:[26],figures:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calc:function(n,e){var t=e.calcParams,o=0,i=0,r=0,s=0;return n.map(function(a,l){var u,c,h={},p=a.high,d=a.low,g=a.open,v=((u=n[l-1])!==null&&u!==void 0?u:a).close;if(r+=p-g,s+=g-d,o+=p-v,i+=v-d,l>=t[0]-1){h.ar=s!==0?r/s*100:0,h.br=i!==0?o/i*100:0;var f=n[l-(t[0]-1)],y=f.high,x=f.low,_=f.open,w=((c=n[l-t[0]])!==null&&c!==void 0?c:n[l-(t[0]-1)]).close;o-=y-w,i-=w-x,r-=y-_,s-=_-x}return h})}},{name:"BBI",shortName:"BBI",series:m.IndicatorSeries.Price,precision:2,calcParams:[3,6,12,24],shouldOhlc:!0,figures:[{key:"bbi",title:"BBI: ",type:"line"}],calc:function(n,e){var t=e.calcParams,o=Math.max.apply(Math,Bt([],ee(t),!1)),i=[],r=[];return n.map(function(s,a){var l={},u=s.close;if(t.forEach(function(h,p){var d;i[p]=((d=i[p])!==null&&d!==void 0?d:0)+u,h-1>a||(r[p]=i[p]/h,i[p]-=n[a-(h-1)].close)}),a>=o-1){var c=0;r.forEach(function(h){c+=h}),l.bbi=c/4}return l})}},{name:"CCI",shortName:"CCI",calcParams:[20],figures:[{key:"cci",title:"CCI: ",type:"line"}],calc:function(n,e){var t=e.calcParams,o=t[0]-1,i=0,r=[];return n.map(function(s,a){var l={},u=(s.high+s.low+s.close)/3;if(i+=u,r.push(u),a>=o){var c=i/t[0],h=r.slice(a-o,a+1),p=0;h.forEach(function(g){p+=Math.abs(g-c)});var d=p/t[0];l.cci=d!==0?(u-c)/d/.015:0,i-=(n[a-o].high+n[a-o].low+n[a-o].close)/3}return l})}},{name:"CR",shortName:"CR",calcParams:[26,10,20,40,60],figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:function(n,e){var t=e.calcParams,o=Math.ceil(t[1]/2.5+1),i=Math.ceil(t[2]/2.5+1),r=Math.ceil(t[3]/2.5+1),s=Math.ceil(t[4]/2.5+1),a=0,l=[],u=0,c=[],h=0,p=[],d=0,g=[],v=[];return n.forEach(function(f,y){var x,_,w,C,S,b={},T=(x=n[y-1])!==null&&x!==void 0?x:f,E=(T.high+T.close+T.low+T.open)/4,D=Math.max(0,f.high-E),P=Math.max(0,E-f.low);t[0]-1>y||(b.cr=P!==0?D/P*100:0,a+=b.cr,u+=b.cr,h+=b.cr,d+=b.cr,t[0]+t[1]-2>y||(l.push(a/t[1]),t[0]+t[1]+o-3>y||(b.ma1=l[l.length-1-o]),a-=(_=v[y-(t[1]-1)].cr)!==null&&_!==void 0?_:0),t[0]+t[2]-2>y||(c.push(u/t[2]),t[0]+t[2]+i-3>y||(b.ma2=c[c.length-1-i]),u-=(w=v[y-(t[2]-1)].cr)!==null&&w!==void 0?w:0),t[0]+t[3]-2>y||(p.push(h/t[3]),t[0]+t[3]+r-3>y||(b.ma3=p[p.length-1-r]),h-=(C=v[y-(t[3]-1)].cr)!==null&&C!==void 0?C:0),t[0]+t[4]-2>y||(g.push(d/t[4]),t[0]+t[4]+s-3>y||(b.ma4=g[g.length-1-s]),d-=(S=v[y-(t[4]-1)].cr)!==null&&S!==void 0?S:0)),v.push(b)}),v}},{name:"DMA",shortName:"DMA",calcParams:[10,50,10],figures:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calc:function(n,e){var t=e.calcParams,o=Math.max(t[0],t[1]),i=0,r=0,s=0,a=[];return n.forEach(function(l,u){var c,h={},p=l.close;i+=p,r+=p;var d=0,g=0;if(t[0]-1>u||(d=i/t[0],i-=n[u-(t[0]-1)].close),t[1]-1>u||(g=r/t[1],r-=n[u-(t[1]-1)].close),u>=o-1){var v=d-g;h.dma=v,s+=v,o+t[2]-2>u||(h.ama=s/t[2],s-=(c=a[u-(t[2]-1)].dma)!==null&&c!==void 0?c:0)}a.push(h)}),a}},{name:"DMI",shortName:"DMI",calcParams:[14,6],figures:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calc:function(n,e){var t=e.calcParams,o=0,i=0,r=0,s=0,a=0,l=0,u=0,c=0,h=[];return n.forEach(function(p,d){var g,v,f={},y=(g=n[d-1])!==null&&g!==void 0?g:p,x=y.close,_=p.high,w=p.low,C=_-w,S=Math.abs(_-x),b=Math.abs(x-w),T=_-y.high,E=y.low-w,D=Math.max(Math.max(C,S),b),P=T>0&&T>E?T:0,B=E>0&&E>T?E:0;if(o+=D,i+=P,r+=B,d>=t[0]-1){d>t[0]-1?(s=s-s/t[0]+D,a=a-a/t[0]+P,l=l-l/t[0]+B):(s=o,a=i,l=r);var M=0,k=0;s!==0&&(M=100*a/s,k=100*l/s),f.pdi=M,f.mdi=k;var z=0;k+M!==0&&(z=Math.abs(k-M)/(k+M)*100),u+=z,2*t[0]-2>d||(f.adx=c=d>2*t[0]-2?(c*(t[0]-1)+z)/t[0]:u/t[0],2*t[0]+t[1]-3>d||(f.adxr=(((v=h[d-(t[1]-1)].adx)!==null&&v!==void 0?v:0)+c)/2))}h.push(f)}),h}},{name:"EMV",shortName:"EMV",calcParams:[14,9],figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calc:function(n,e){var t=e.calcParams,o=0,i=0,r=[],s=[];return n.forEach(function(a,l){var u,c,h,p={},d=(u=n[l-1])!==null&&u!==void 0?u:a,g=a.high,v=a.low,f=(c=a.turnover)!==null&&c!==void 0?c:0,y=0;f!==0&&(y=((g+v)/2-(d.high+d.low)/2)*(g-v)/f),r.push(y),o+=y,t[0]-1>l||(p.emv=o,o-=r[l-(t[0]-1)],i+=p.emv,t[0]+t[1]-2>l||(p.maEmv=i/t[1],i-=(h=s[l-(t[1]-1)].emv)!==null&&h!==void 0?h:0)),s.push(p)}),s}},$o,{name:"MTM",shortName:"MTM",calcParams:[12,6],figures:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calc:function(n,e){var t=e.calcParams,o=0,i=[];return n.forEach(function(r,s){var a,l={};s<t[0]||(l.mtm=r.close-n[s-t[0]].close,o+=l.mtm,t[0]+t[1]-1>s||(l.maMtm=o/t[1],o-=(a=i[s-(t[1]-1)].mtm)!==null&&a!==void 0?a:0)),i.push(l)}),i}},Zo,{name:"MACD",shortName:"MACD",calcParams:[12,26,9],figures:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,styles:function(n,e,t){var o,i,r,s,a=(i=(o=n.prev.indicatorData)===null||o===void 0?void 0:o.macd)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER,l=(s=(r=n.current.indicatorData)===null||r===void 0?void 0:r.macd)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER;return{style:l>a?"stroke":"fill",color:l>0?K(e.styles,"bars[0].upColor",t.bars[0].upColor):0>l?K(e.styles,"bars[0].downColor",t.bars[0].downColor):K(e.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor)}}}],calc:function(n,e){var t,o,i=e.calcParams,r=0,s=0,a=0,l=0,u=Math.max(i[0],i[1]);return n.map(function(c,h){var p={},d=c.close;return r+=d,i[0]-1>h||(t=h>i[0]-1?(2*d+(i[0]-1)*t)/(i[0]+1):r/i[0]),i[1]-1>h||(o=h>i[1]-1?(2*d+(i[1]-1)*o)/(i[1]+1):r/i[1]),u-1>h||(p.dif=s=t-o,a+=s,u+i[2]-2>h||(p.macd=2*(s-(l=h>u+i[2]-2?(2*s+l*(i[2]-1))/(i[2]+1):a/i[2])),p.dea=l)),p})}},{name:"OBV",shortName:"OBV",calcParams:[30],figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calc:function(n,e){var t=e.calcParams,o=0,i=0,r=[];return n.forEach(function(s,a){var l,u,c,h,p=(l=n[a-1])!==null&&l!==void 0?l:s;p.close>s.close?i-=(u=s.volume)!==null&&u!==void 0?u:0:s.close>p.close&&(i+=(c=s.volume)!==null&&c!==void 0?c:0);var d={obv:i};o+=i,t[0]-1>a||(d.maObv=o/t[0],o-=(h=r[a-(t[0]-1)].obv)!==null&&h!==void 0?h:0),r.push(d)}),r}},{name:"PVT",shortName:"PVT",figures:[{key:"pvt",title:"PVT: ",type:"line"}],calc:function(n){var e=0;return n.map(function(t,o){var i,r,s={},a=(i=t.volume)!==null&&i!==void 0?i:1,l=((r=n[o-1])!==null&&r!==void 0?r:t).close,u=0,c=l*a;return c!==0&&(u=(t.close-l)/c),s.pvt=e+=u,s})}},{name:"PSY",shortName:"PSY",calcParams:[12,6],figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calc:function(n,e){var t=e.calcParams,o=0,i=0,r=[],s=[];return n.forEach(function(a,l){var u,c,h={},p=((u=n[l-1])!==null&&u!==void 0?u:a).close,d=a.close-p>0?1:0;r.push(d),o+=d,t[0]-1>l||(h.psy=o/t[0]*100,i+=h.psy,t[0]+t[1]-2>l||(h.maPsy=i/t[1],i-=(c=s[l-(t[1]-1)].psy)!==null&&c!==void 0?c:0),o-=r[l-(t[0]-1)]),s.push(h)}),s}},{name:"ROC",shortName:"ROC",calcParams:[12,6],figures:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calc:function(n,e){var t=e.calcParams,o=[],i=0;return n.forEach(function(r,s){var a,l,u={};if(s>=t[0]-1){var c=((a=n[s-t[0]])!==null&&a!==void 0?a:n[s-(t[0]-1)]).close;u.roc=c!==0?(r.close-c)/c*100:0,i+=u.roc,t[0]-1+t[1]-1>s||(u.maRoc=i/t[1],i-=(l=o[s-(t[1]-1)].roc)!==null&&l!==void 0?l:0)}o.push(u)}),o}},Jo,{name:"SMA",shortName:"SMA",series:m.IndicatorSeries.Price,calcParams:[12,2],precision:2,figures:[{key:"sma",title:"SMA: ",type:"line"}],shouldOhlc:!0,calc:function(n,e){var t=e.calcParams,o=0,i=0;return n.map(function(r,s){var a={},l=r.close;return o+=l,t[0]-1>s||(a.sma=i=s>t[0]-1?(l*t[1]+i*(t[0]-t[1]+1))/(t[0]+1):o/t[0]),a})}},{name:"KDJ",shortName:"KDJ",calcParams:[9,3,3],figures:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calc:function(n,e){var t=e.calcParams,o=[];return n.forEach(function(i,r){var s,a,l,u,c={},h=i.close;if(r>=t[0]-1){var p=zt(n.slice(r-(t[0]-1),r+1),"high","low"),d=p[1],g=p[0]-d;c.k=((t[1]-1)*((a=(s=o[r-1])===null||s===void 0?void 0:s.k)!==null&&a!==void 0?a:50)+(h-d)/(g===0?1:g)*100)/t[1],c.d=((t[2]-1)*((u=(l=o[r-1])===null||l===void 0?void 0:l.d)!==null&&u!==void 0?u:50)+c.k)/t[2],c.j=3*c.k-2*c.d}o.push(c)}),o}},{name:"SAR",shortName:"SAR",series:m.IndicatorSeries.Price,calcParams:[2,2,20],precision:2,shouldOhlc:!0,figures:[{key:"sar",title:"SAR: ",type:"circle",styles:function(n,e,t){var o,i,r=n.current,s=(i=(o=r.indicatorData)===null||o===void 0?void 0:o.sar)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER,a=r.kLineData;return{color:((a==null?void 0:a.high)+(a==null?void 0:a.low))/2>s?K(e.styles,"circles[0].upColor",t.circles[0].upColor):K(e.styles,"circles[0].downColor",t.circles[0].downColor)}}}],calc:function(n,e){var t=e.calcParams,o=t[0]/100,i=t[1]/100,r=t[2]/100,s=o,a=-100,l=!1,u=0;return n.map(function(c,h){var p=u,d=c.high,g=c.low;if(l){(a===-100||d>a)&&(a=d,s=Math.min(s+i,r)),u=p+s*(a-p);var v=Math.min(n[Math.max(1,h)-1].low,g);u>c.low?(u=a,s=o,a=-100,l=!l):u>v&&(u=v)}else{(a===-100||a>g)&&(a=g,s=Math.min(s+i,r)),u=p+s*(a-p);var f=Math.max(n[Math.max(1,h)-1].high,d);c.high>u?(u=a,s=0,a=-100,l=!l):f>u&&(u=f)}return{sar:u}})}},{name:"TRIX",shortName:"TRIX",calcParams:[12,9],figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calc:function(n,e){var t,o,i,r=e.calcParams,s=0,a=0,l=0,u=0,c=[];return n.forEach(function(h,p){var d,g={},v=h.close;if(s+=v,p>=r[0]-1&&(a+=t=p>r[0]-1?(2*v+(r[0]-1)*t)/(r[0]+1):s/r[0],p>=2*r[0]-2&&(l+=o=p>2*r[0]-2?(2*t+(r[0]-1)*o)/(r[0]+1):a/r[0],p>=3*r[0]-3))){var f=void 0,y=0;p>3*r[0]-3?y=((f=(2*o+(r[0]-1)*i)/(r[0]+1))-i)/i*100:f=l/r[0],i=f,g.trix=y,u+=y,3*r[0]+r[1]-4>p||(g.maTrix=u/r[1],u-=(d=c[p-(r[1]-1)].trix)!==null&&d!==void 0?d:0)}c.push(g)}),c}},Qo,{name:"VR",shortName:"VR",calcParams:[26,6],figures:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calc:function(n,e){var t=e.calcParams,o=0,i=0,r=0,s=0,a=[];return n.forEach(function(l,u){var c,h,p,d,g,v={},f=l.close,y=((c=n[u-1])!==null&&c!==void 0?c:l).close,x=(h=l.volume)!==null&&h!==void 0?h:0;if(f>y?o+=x:y>f?i+=x:r+=x,u>=t[0]-1){var _=r/2;v.vr=i+_===0?0:(o+_)/(i+_)*100,s+=v.vr,t[0]+t[1]-2>u||(v.maVr=s/t[1],s-=(p=a[u-(t[1]-1)].vr)!==null&&p!==void 0?p:0);var w=n[u-(t[0]-1)],C=(d=n[u-t[0]])!==null&&d!==void 0?d:w,S=w.close,b=(g=w.volume)!==null&&g!==void 0?g:0;S>C.close?o-=b:C.close>S?i-=b:r-=b}a.push(v)}),a}},ei];function Wt(n){var e;return(e=Qe[n])!==null&&e!==void 0?e:null}ti.forEach(function(n){Qe[n.name]=Ot.extend(n)});var gt,oi=function(){function n(e){this._instances=new Map,this._chartStore=e}return n.prototype._overrideInstance=function(e,t){var o=t.shortName,i=t.series,r=t.calcParams,s=t.precision,a=t.figures,l=t.minValue,u=t.maxValue,c=t.shouldOhlc,h=t.shouldFormatBigNumber,p=t.visible,d=t.styles,g=t.extendData,v=t.regenerateFigures,f=t.createTooltipDataSource,y=t.draw,x=t.calc,_=!1;o!==void 0&&e.setShortName(o)&&(_=!0),i!==void 0&&e.setSeries(i)&&(_=!0);var w=!1;return r!==void 0&&e.setCalcParams(r)&&(_=!0,w=!0),a!==void 0&&e.setFigures(a)&&(_=!0,w=!0),l!==void 0&&e.setMinValue(l)&&(_=!0),u!==void 0&&e.setMinValue(u)&&(_=!0),s!==void 0&&e.setPrecision(s)&&(_=!0),c!==void 0&&e.setShouldOhlc(c)&&(_=!0),h!==void 0&&e.setShouldFormatBigNumber(h)&&(_=!0),p!==void 0&&e.setVisible(p)&&(_=!0),d!==void 0&&e.setStyles(d)&&(_=!0),g!==void 0&&e.setExtendData(g)&&(_=!0,w=!0),v!==void 0&&e.setRegenerateFigures(v)&&(_=!0),f!==void 0&&e.setCreateTooltipDataSource(f)&&(_=!0),y!==void 0&&e.setDraw(y)&&(_=!0),x!==void 0&&(e.calc=x,w=!0),[_,w]},n.prototype.addInstance=function(e,t,o){var i;return $e(this,void 0,void 0,function(){var r,s,a,l;return Ze(this,function(u){switch(u.label){case 0:return r=e.name,s=this._instances.get(t),(i=s==null?void 0:s.has(r))!==null&&i!==void 0&&i?[4,Promise.reject(Error("Duplicate indicators."))]:[3,2];case 1:case 3:return[2,u.sent()];case 2:return s===void 0&&(s=new Map,this._instances.set(t,s)),a=Wt(r),l=new a,this._overrideInstance(l,e),o||s.clear(),s.set(r,l),[4,l.calcIndicator(this._chartStore.getDataList())]}})})},n.prototype.getInstances=function(e){var t;return(t=this._instances.get(e))!==null&&t!==void 0?t:new Map},n.prototype.removeInstance=function(e,t){var o=!1,i=this._instances.get(e);return i!==void 0&&(t!==void 0?i.has(t)&&(i.delete(t),o=!0):(i.clear(),o=!0),i.size===0&&this._instances.delete(e)),o},n.prototype.hasInstances=function(e){return this._instances.has(e)},n.prototype.calcInstance=function(e,t){var o;return $e(this,void 0,void 0,function(){var i,r,s,a=this;return Ze(this,function(l){switch(l.label){case 0:return i=[],e!==void 0?t!==void 0?(r=this._instances.get(t),(o=r==null?void 0:r.has(e))!==null&&o!==void 0&&o&&(s=r==null?void 0:r.get(e),i.push(s.calcIndicator(this._chartStore.getDataList())))):this._instances.forEach(function(u){if(u.has(e)){var c=u==null?void 0:u.get(e);i.push(c.calcIndicator(a._chartStore.getDataList()))}}):this._instances.forEach(function(u){u.forEach(function(c){i.push(c.calcIndicator(a._chartStore.getDataList()))})}),[4,Promise.all(i)];case 1:return[2,l.sent().includes(!0)]}})})},n.prototype.getInstanceByPaneId=function(e,t){var o;if(e!==void 0){var i=this._instances.get(e);return t!==void 0?(o=i==null?void 0:i.get(t))!==null&&o!==void 0?o:null:i??null}return this._instances},n.prototype.setSeriesPrecision=function(e){this._instances.forEach(function(t){t.forEach(function(o){o.series===m.IndicatorSeries.Price&&o.setPrecision(e.price,!0),o.series===m.IndicatorSeries.Volume&&o.setPrecision(e.volume,!0)})})},n.prototype.override=function(e,t){return $e(this,void 0,void 0,function(){var o,i,r,s,a,l,u=this;return Ze(this,function(c){switch(c.label){case 0:return o=e.name,i=new Map,t!==null?(r=this._instances.get(t))!==void 0&&i.set(t,r):i=this._instances,s=!1,a=[],i.forEach(function(h){var p=h.get(o);if(p!==void 0){var d=u._overrideInstance(p,e);d[1]?a.push(p.calcIndicator(u._chartStore.getDataList())):d[0]&&(s=!0)}}),[4,Promise.all(a)];case 1:return l=c.sent(),[2,[s,l.includes(!0)]]}})})},n}(),ii=function(){function n(e){this._crosshair={},this._chartStore=e}return n.prototype.set=function(e,t){var o,i,r=this._chartStore.getDataList(),s=e??{},a=r[i=s.x!==void 0?0>(o=this._chartStore.getTimeScaleStore().coordinateToDataIndex(s.x))?0:o>r.length-1?r.length-1:o:o=r.length-1],l=this._chartStore.getTimeScaleStore().dataIndexToCoordinate(o),u=this._crosshair.x,c=this._crosshair.y,h=this._crosshair.paneId;return this._crosshair=F(F({},s),{realX:l,kLineData:a,realDataIndex:o,dataIndex:i}),u===s.x&&c===s.y&&h===s.paneId||(a!==null&&this._chartStore.getChart().crosshairChange(this._crosshair),t!=null&&t||this._chartStore.getChart().updatePane(1)),this},n.prototype.recalculate=function(e){this.set(this._crosshair,e)},n.prototype.get=function(){return this._crosshair},n}(),ni=function(){function n(){this._activeIconInfo=null}return n.prototype.setActiveIconInfo=function(e){this._activeIconInfo=e??null},n.prototype.getActiveIconInfo=function(){return this._activeIconInfo},n}();m.OverlayMode=void 0,(gt=m.OverlayMode||(m.OverlayMode={})).Normal="normal",gt.WeakMagnet="weak_magnet",gt.StrongMagnet="strong_magnet";var Ye="overlay_figure_",Nt=function(){function n(e){this.currentStep=1,this.points=[],this._prevPressedPoint=null,this._prevPressedPoints=[];var t=e.mode,o=e.extendData,i=e.styles,r=e.totalStep,s=e.lock,a=e.visible,l=e.needDefaultPointFigure,u=e.needDefaultXAxisFigure,c=e.needDefaultYAxisFigure,h=e.createPointFigures,p=e.createXAxisFigures,d=e.createYAxisFigures,g=e.performEventPressedMove,v=e.performEventMoveForDrawing,f=e.onDrawStart,y=e.onDrawing,x=e.onDrawEnd,_=e.onClick,w=e.onRightClick,C=e.onPressedMoveStart,S=e.onPressedMoving,b=e.onPressedMoveEnd,T=e.onMouseEnter,E=e.onMouseLeave,D=e.onRemoved,P=e.onSelected,B=e.onDeselected;this.name=e.name,this.totalStep=r===void 0||2>r?1:r,this.lock=s!=null&&s,this.visible=a==null||a,this.needDefaultPointFigure=l!=null&&l,this.needDefaultXAxisFigure=u!=null&&u,this.needDefaultYAxisFigure=c!=null&&c,this.mode=t??m.OverlayMode.Normal,this.extendData=o,this.styles=i??null,this.createPointFigures=h??null,this.createXAxisFigures=p??null,this.createYAxisFigures=d??null,this.performEventPressedMove=g??null,this.performEventMoveForDrawing=v??null,this.onDrawStart=f??null,this.onDrawing=y??null,this.onDrawEnd=x??null,this.onClick=_??null,this.onRightClick=w??null,this.onPressedMoveStart=C??null,this.onPressedMoving=S??null,this.onPressedMoveEnd=b??null,this.onMouseEnter=T??null,this.onMouseLeave=E??null,this.onRemoved=D??null,this.onSelected=P??null,this.onDeselected=B??null}return n.prototype.setId=function(e){return this.id===void 0&&(this.id=e,!0)},n.prototype.setGroupId=function(e){return this.groupId===void 0&&(this.groupId=e,!0)},n.prototype.setExtendData=function(e){return e!==this.extendData&&(this.extendData=e,!0)},n.prototype.setStyles=function(e){return e!==this.styles&&(this.styles=e,!0)},n.prototype.setPoints=function(e){if(e.length>0){var t=void 0;if(this.points=Bt([],ee(e),!1),this.totalStep-1>e.length?(this.currentStep=e.length+1,t=e.length):(this.currentStep=-1,t=this.totalStep-1),this.performEventMoveForDrawing!==null)for(var o=0;t>o;o++)this.performEventMoveForDrawing({currentStep:o+2,mode:this.mode,points:this.points,performPointIndex:o,performPoint:this.points[o]});return this.currentStep===-1&&this.performEventPressedMove!==null&&this.performEventPressedMove({currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:this.points.length-1,performPoint:this.points[this.points.length-1]}),!0}return!1},n.prototype.setLock=function(e){return this.lock!==e&&(this.lock=e,!0)},n.prototype.setVisible=function(e){return this.visible!==e&&(this.visible=e,!0)},n.prototype.setMode=function(e){return e!==this.mode&&(this.mode=e,!0)},n.prototype.setOnDrawStartCallback=function(e){return this.onDrawStart!==e&&(this.onDrawStart=e,!0)},n.prototype.setOnDrawingCallback=function(e){return this.onDrawing!==e&&(this.onDrawing=e,!0)},n.prototype.setOnDrawEndCallback=function(e){return this.onDrawEnd!==e&&(this.onDrawEnd=e,!0)},n.prototype.setOnClickCallback=function(e){return this.onClick!==e&&(this.onClick=e,!0)},n.prototype.setOnRightClickCallback=function(e){return this.onRightClick!==e&&(this.onRightClick=e,!0)},n.prototype.setOnPressedMoveStartCallback=function(e){return this.onPressedMoveStart!==e&&(this.onPressedMoveStart=e,!0)},n.prototype.setOnPressedMovingCallback=function(e){return this.onPressedMoving!==e&&(this.onPressedMoving=e,!0)},n.prototype.setOnPressedMoveEndCallback=function(e){return this.onPressedMoveEnd!==e&&(this.onPressedMoveEnd=e,!0)},n.prototype.setOnMouseEnterCallback=function(e){return this.onMouseEnter!==e&&(this.onMouseEnter=e,!0)},n.prototype.setOnMouseLeaveCallback=function(e){return this.onMouseLeave!==e&&(this.onMouseLeave=e,!0)},n.prototype.setOnRemovedCallback=function(e){return this.onRemoved!==e&&(this.onRemoved=e,!0)},n.prototype.setOnSelectedCallback=function(e){return this.onSelected!==e&&(this.onSelected=e,!0)},n.prototype.setOnDeselectedCallback=function(e){return this.onDeselected!==e&&(this.onDeselected=e,!0)},n.prototype.nextStep=function(){this.currentStep===this.totalStep-1?this.currentStep=-1:this.currentStep++},n.prototype.forceComplete=function(){this.currentStep=-1},n.prototype.isDrawing=function(){return this.currentStep!==-1},n.prototype.isStart=function(){return this.currentStep===1},n.prototype.eventMoveForDrawing=function(e){var t,o=this.currentStep-1,i={};e.timestamp!==void 0&&(i.timestamp=e.timestamp),e.dataIndex!==void 0&&(i.dataIndex=e.dataIndex),e.value!==void 0&&(i.value=e.value),this.points[o]=i,(t=this.performEventMoveForDrawing)===null||t===void 0||t.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:o,performPoint:i})},n.prototype.eventPressedPointMove=function(e,t){var o;e.dataIndex!==void 0&&(this.points[t].dataIndex=e.dataIndex,this.points[t].timestamp=e.timestamp),e.value!==void 0&&(this.points[t].value=e.value),(o=this.performEventPressedMove)===null||o===void 0||o.call(this,{currentStep:this.currentStep,points:this.points,mode:this.mode,performPointIndex:t,performPoint:this.points[t]})},n.prototype.startPressedMove=function(e){this._prevPressedPoint=F({},e),this._prevPressedPoints=V(this.points)},n.prototype.eventPressedOtherMove=function(e,t){var o,i;this._prevPressedPoint!==null&&(e.dataIndex!==void 0&&this._prevPressedPoint.dataIndex!==void 0&&(o=e.dataIndex-this._prevPressedPoint.dataIndex),e.value!==void 0&&this._prevPressedPoint.value!==void 0&&(i=e.value-this._prevPressedPoint.value),this.points=this._prevPressedPoints.map(function(r){var s;r.dataIndex===void 0&&r.timestamp!==void 0&&(r.dataIndex=t.timestampToDataIndex(r.timestamp));var a=F({},r);return o!==void 0&&r.dataIndex!==void 0&&(a.dataIndex=r.dataIndex+o,a.timestamp=(s=t.dataIndexToTimestamp(a.dataIndex))!==null&&s!==void 0?s:void 0),i!==void 0&&r.value!==void 0&&(a.value=r.value+i),a}))},n.extend=function(e){return function(t){function o(){return t.call(this,e)||this}return L(o,t),o}(n)},n}();function Yt(n,e){return Math.sqrt(Math.pow(n.x+e.x,2)+Math.pow(n.y+e.y,2))}function ri(n){var e=Yt(n[0],n[1]),t=e+Yt(n[1],n[2]),o=[n[2].x-n[0].x,n[2].y-n[0].y];return[{x:n[1].x-.5*o[0]*e/t,y:n[1].y-.5*o[1]*e/t},{x:n[1].x+.5*o[0]*e/t,y:n[1].y+.5*o[1]*e/t}]}function Ht(n,e){var t=e.coordinates;if(t.length>1)for(var o=1;t.length>o;o++){var i=t[o-1],r=t[o];if(i.x===r.x){if(4>Math.abs(i.y-n.y)+Math.abs(r.y-n.y)-Math.abs(i.y-r.y)&&2>Math.abs(n.x-i.x))return!0}else{var s=et(i,r),a=vt(s,n),l=Math.abs(a-n.y);if(4>Math.abs(i.x-n.x)+Math.abs(r.x-n.x)-Math.abs(i.x-r.x)&&4>l*l/(s[0]*s[0]+1))return!0}}return!1}function vt(n,e){return n!=null?e.x*n[0]+n[1]:e.y}function He(n,e,t){return vt(et(n,e),t)}function et(n,e){var t=n.x-e.x;if(t!==0){var o=(n.y-e.y)/t;return[o,n.y-o*n.x]}return null}function Xt(n,e,t){var o=e.coordinates,i=o.length;if(i>1){var r=t.style,s=r===void 0?m.LineType.Solid:r,a=t.smooth,l=t.size,u=t.color,c=u===void 0?"currentColor":u,h=t.dashedValue,p=h===void 0?[2,2]:h;if(n.lineWidth=l===void 0?1:l,n.strokeStyle=c,n.setLineDash(s===m.LineType.Dashed?p:[]),n.beginPath(),n.moveTo(o[0].x,o[0].y),a!=null&&a){for(var d=[],g=1;i-1>g;g++)d=d.concat(ri([o[g-1],o[g],o[g+1]]));n.quadraticCurveTo(d[0].x,d[0].y,o[1].x,o[1].y);for(var v=2;i-1>v;v++)n.bezierCurveTo(d[2*(v-2)+1].x,d[2*(v-2)+1].y,d[2*(v-1)].x,d[2*(v-1)].y,o[v].x,o[v].y);n.quadraticCurveTo(d[2*(v-2)+1].x,d[2*(v-2)+1].y,o[v].x,o[v].y)}else for(v=1;o.length>v;v++)n.lineTo(o[v].x,o[v].y);n.stroke(),n.closePath()}}var ai={name:"line",checkEventOn:Ht,draw:function(n,e,t){Xt(n,e,t)}};function jt(n,e,t){var o=t??0,i=[];if(n.length>1)if(n[0].x===n[1].x){var r=e.height;if(i.push({coordinates:[{x:n[0].x,y:0},{x:n[0].x,y:r}]}),n.length>2){i.push({coordinates:[{x:n[2].x,y:0},{x:n[2].x,y:r}]});for(var s=n[0].x-n[2].x,a=0;o>a;a++){var l=s*(a+1);i.push({coordinates:[{x:n[0].x+l,y:0},{x:n[0].x+l,y:r}]})}}}else{var u=e.width,c=et(n[0],n[1]),h=c[0],p=c[1];if(i.push({coordinates:[{x:0,y:0*h+p},{x:u,y:u*h+p}]}),n.length>2){var d=n[2].y-h*n[2].x;for(i.push({coordinates:[{x:0,y:0*h+d},{x:u,y:u*h+d}]}),s=p-d,a=0;o>a;a++){var g=p+s*(a+1);i.push({coordinates:[{x:0,y:0*h+g},{x:u,y:u*h+g}]})}}}return i}function si(n,e){if(n.length>1){var t=void 0;return t=n[0].x===n[1].x&&n[0].y!==n[1].y?n[1].y>n[0].y?{x:n[0].x,y:e.height}:{x:n[0].x,y:0}:n[0].x>n[1].x?{x:0,y:He(n[0],n[1],{x:0,y:n[0].y})}:{x:e.width,y:He(n[0],n[1],{x:e.width,y:n[0].y})},{coordinates:[n[0],t]}}return[]}var li={name:"simpleAnnotation",totalStep:2,createPointFigures:function(n){var e,t,o=n.overlay,i=n.coordinates;Y(o.extendData)&&(t=G(o.extendData)?o.extendData(o):(e=o.extendData)!==null&&e!==void 0?e:"");var r=i[0].x,s=i[0].y-6,a=s-50,l=a-5;return[{type:"line",attrs:{coordinates:[{x:r,y:s},{x:r,y:a}]},ignoreEvent:!0},{type:"polygon",attrs:{coordinates:[{x:r,y:a},{x:r-4,y:l},{x:r+4,y:l}]},ignoreEvent:!0},{type:"rectText",attrs:{x:r,y:l,text:t??"",align:"center",baseline:"bottom"},ignoreEvent:!0}]}},ui={name:"simpleTag",totalStep:2,createPointFigures:function(n){var e=n.coordinates;return{type:"line",attrs:{coordinates:[{x:0,y:e[0].y},{x:n.bounding.width,y:e[0].y}]},ignoreEvent:!0}},createYAxisFigures:function(n){var e,t,o,i,r,s=n.overlay,a=n.coordinates,l=n.bounding,u=n.yAxis,c=n.precision;return(e=u==null?void 0:u.isFromZero())!==null&&e!==void 0&&e?(o="left",i=0):(o="right",i=l.width),Y(s.extendData)&&(r=G(s.extendData)?s.extendData(s):(t=s.extendData)!==null&&t!==void 0?t:""),Y(r)||s.points[0].value===void 0||(r=$(s.points[0].value,c.price)),{type:"rectText",attrs:{x:i,y:a[0].y,text:r??"",align:o,baseline:"middle"}}}},tt={};function Kt(n){var e;return(e=tt[n])!==null&&e!==void 0?e:null}function qt(n){var e={width:0,height:0,left:0,right:0,top:0,bottom:0};return n!==void 0&&j(e,n),e}[{name:"fibonacciLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates,t=n.precision,o=n.thousandsSeparator,i=n.overlay.points;if(e.length>0){var r=[],s=[],a=n.bounding.width;if(e.length>1&&i[0].value!==void 0&&i[1].value!==void 0){var l=e[0].y-e[1].y,u=i[0].value-i[1].value;[1,.786,.618,.5,.382,.236,0].forEach(function(c){var h,p=e[1].y+l*c,d=Z((((h=i[1].value)!==null&&h!==void 0?h:0)+u*c).toFixed(t.price),o);r.push({coordinates:[{x:0,y:p},{x:a,y:p}]}),s.push({x:0,y:p,text:"".concat(d," (").concat((100*c).toFixed(1),"%)"),baseline:"bottom"})})}return[{type:"line",attrs:r},{type:"text",isCheckEvent:!1,attrs:s}]}return[]}},{name:"horizontalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates,t={x:0,y:e[0].y};return e[1]!==void 0&&e[1].x>e[0].x&&(t.x=n.bounding.width),[{type:"line",attrs:{coordinates:[e[0],t]}}]},performEventPressedMove:function(n){var e=n.points,t=n.performPoint;e[0].value=t.value,e[1].value=t.value},performEventMoveForDrawing:function(n){n.currentStep===2&&(n.points[0].value=n.performPoint.value)}},{name:"horizontalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates,t=[];return e.length===2&&t.push({coordinates:e}),[{type:"line",attrs:t}]},performEventPressedMove:function(n){var e=n.points,t=n.performPoint;e[0].value=t.value,e[1].value=t.value},performEventMoveForDrawing:function(n){n.currentStep===2&&(n.points[0].value=n.performPoint.value)}},{name:"horizontalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates;return[{type:"line",attrs:{coordinates:[{x:0,y:e[0].y},{x:n.bounding.width,y:e[0].y}]}}]}},{name:"parallelStraightLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){return[{type:"line",attrs:jt(n.coordinates,n.bounding)}]}},{name:"priceChannelLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){return[{type:"line",attrs:jt(n.coordinates,n.bounding,1)}]}},{name:"priceLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates,t=n.thousandsSeparator,o=n.overlay.points[0].value;return[{type:"line",attrs:{coordinates:[e[0],{x:n.bounding.width,y:e[0].y}]}},{type:"text",ignoreEvent:!0,attrs:{x:e[0].x,y:e[0].y,text:Z((o===void 0?0:o).toFixed(n.precision.price),t),baseline:"bottom"}}]}},{name:"rayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){return[{type:"line",attrs:si(n.coordinates,n.bounding)}]}},{name:"segment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates;return e.length===2?[{type:"line",attrs:{coordinates:e}}]:[]}},{name:"straightLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates,t=n.bounding;return e.length===2?e[0].x===e[1].x?[{type:"line",attrs:{coordinates:[{x:e[0].x,y:0},{x:e[0].x,y:t.height}]}}]:[{type:"line",attrs:{coordinates:[{x:0,y:He(e[0],e[1],{x:0,y:e[0].y})},{x:t.width,y:He(e[0],e[1],{x:t.width,y:e[0].y})}]}}]:[]}},{name:"verticalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates;if(e.length===2){var t={x:e[0].x,y:0};return e[1].y>e[0].y&&(t.y=n.bounding.height),[{type:"line",attrs:{coordinates:[e[0],t]}}]}return[]},performEventPressedMove:function(n){var e=n.points,t=n.performPoint;e[0].timestamp=t.timestamp,e[0].dataIndex=t.dataIndex,e[1].timestamp=t.timestamp,e[1].dataIndex=t.dataIndex},performEventMoveForDrawing:function(n){var e=n.points,t=n.performPoint;n.currentStep===2&&(e[0].timestamp=t.timestamp,e[0].dataIndex=t.dataIndex)}},{name:"verticalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates;return e.length===2?[{type:"line",attrs:{coordinates:e}}]:[]},performEventPressedMove:function(n){var e=n.points,t=n.performPoint;e[0].timestamp=t.timestamp,e[0].dataIndex=t.dataIndex,e[1].timestamp=t.timestamp,e[1].dataIndex=t.dataIndex},performEventMoveForDrawing:function(n){var e=n.points,t=n.performPoint;n.currentStep===2&&(e[0].timestamp=t.timestamp,e[0].dataIndex=t.dataIndex)}},{name:"verticalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates;return[{type:"line",attrs:{coordinates:[{x:e[0].x,y:0},{x:e[0].x,y:n.bounding.height}]}}]}},li,ui].forEach(function(n){tt[n.name]=Nt.extend(n)});var mt=function(){function n(){this._children=[],this._callbacks=new Map}return n.prototype.registerEvent=function(e,t){return this._callbacks.set(e,t),this},n.prototype.onEvent=function(e,t,o){var i=this._callbacks.get(e);return!(i===void 0||!this.checkEventOn(t))&&i(t,o)},n.prototype.checkEventOn=function(e){var t,o;try{for(var i=We(this._children),r=i.next();!r.done;r=i.next())if(r.value.checkEventOn(e))return!0}catch(s){t={error:s}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}return!1},n.prototype.dispatchEvent=function(e,t,o){var i=this._children.length-1;if(i>-1){for(var r=i;r>-1;r--)if(this._children[r].dispatchEvent(e,t,o))return!0}return this.onEvent(e,t,o)},n.prototype.addChild=function(e){return this._children.push(e),this},n.prototype.clear=function(){this._children=[]},n}(),te="main",ge="xAxis",ve="yAxis",Xe="separator",Gt=function(n){function e(t,o){var i=n.call(this)||this;return i._bounding=qt(),i._pane=o,i._init(t),i}return L(e,n),e.prototype._init=function(t){if(this._container=pe("div",this.getContainerStyle()),this.insertBefore()){var o=t.lastChild;o!==null?t.insertBefore(this._container,o):t.appendChild(this._container)}else t.appendChild(this._container);this.initDom(this._container)},e.prototype.setBounding=function(t){return j(this._bounding,t),this},e.prototype.getContainer=function(){return this._container},e.prototype.getBounding=function(){return this._bounding},e.prototype.getPane=function(){return this._pane},e.prototype.update=function(t){this.updateImp(t,this._container,this._bounding)},e.prototype.insertBefore=function(){return!1},e}(mt),ci=function(n){function e(t,o){var i,r,s,a=n.call(this,t,o)||this;return a._dragFlag=!1,a._dragStartY=0,a._topPaneHeight=0,a._currentPaneHeight=0,a._pressedMouseMoveEvent=(i=a._pressedTouchMouseMoveEvent,r=20,s=0,function(){var l=Date.now();l-s>(r??20)&&(i.apply(this,arguments),s=l)}),a.registerEvent("touchStartEvent",a._mouseDownEvent.bind(a)).registerEvent("touchMoveEvent",a._pressedMouseMoveEvent.bind(a)).registerEvent("touchEndEvent",a._mouseUpEvent.bind(a)).registerEvent("mouseDownEvent",a._mouseDownEvent.bind(a)).registerEvent("mouseUpEvent",a._mouseUpEvent.bind(a)).registerEvent("pressedMouseMoveEvent",a._pressedMouseMoveEvent.bind(a)).registerEvent("mouseEnterEvent",a._mouseEnterEvent.bind(a)).registerEvent("mouseLeaveEvent",a._mouseLeaveEvent.bind(a)),a}return L(e,n),e.prototype.getName=function(){return Xe},e.prototype.checkEventOn=function(){return!0},e.prototype._mouseDownEvent=function(t){var o,i;this._dragFlag=!0,this._dragStartY=t.pageY;var r=this.getPane();return this._topPaneHeight=(i=(o=r.getTopPane())===null||o===void 0?void 0:o.getBounding().height)!==null&&i!==void 0?i:0,this._currentPaneHeight=r.getBounding().height,!0},e.prototype._mouseUpEvent=function(){return this._dragFlag=!1,this._mouseLeaveEvent()},e.prototype._pressedTouchMouseMoveEvent=function(t){var o=t.pageY-this._dragStartY,i=this.getPane(),r=i.getTopPane(),s=0>o;if(r!==null&&i.getOptions().dragEnabled){var a=void 0,l=void 0,u=void 0,c=void 0;s?(a=r,l=i,u=this._topPaneHeight,c=this._currentPaneHeight):(a=i,l=r,u=this._currentPaneHeight,c=this._topPaneHeight);var h=a.getOptions().minHeight;if(u>h){var p=Math.max(u-Math.abs(o),h),d=u-p;a.setBounding({height:p}),l.setBounding({height:c+d});var g=i.getChart();g.getChartStore().getActionStore().execute(m.ActionType.OnPaneDrag,{paneId:i.getId}),g.adjustPaneViewport(!0,!0,!0,!0,!0)}}return!0},e.prototype._mouseEnterEvent=function(){var t=this.getPane();if(t.getOptions().dragEnabled){var o=t.getChart().getStyles().separator;return this._moveDom.style.background=o.activeBackgroundColor,!0}return!1},e.prototype._mouseLeaveEvent=function(){return!this._dragFlag&&(this._moveDom.style.background="",!0)},e.prototype.getContainerStyle=function(){return{margin:"0",padding:"0",position:"relative",boxSizing:"border-box"}},e.prototype.insertBefore=function(){return!0},e.prototype.initDom=function(t){this._moveDom=pe("div",{width:"100%",height:"".concat(7,"px"),margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20",boxSizing:"border-box",cursor:"ns-resize"}),t.appendChild(this._moveDom)},e.prototype.updateImp=function(t,o,i){if(t===4||t===2){var r=this.getPane().getChart().getStyles().separator;this._moveDom.style.top="".concat(-Math.floor((7-r.size)/2),"px"),this._moveDom.style.height="".concat(7,"px");var s=r.fill;o.style.backgroundColor=r.color,o.style.height="".concat(r.size,"px"),o.style.marginLeft="".concat(s?0:i.left,"px"),o.style.width=s?"100%":"".concat(i.width,"px")}},e.prototype.getImage=function(){var t=this.getPane().getChart().getStyles().separator,o=this.getContainer().offsetWidth,i=t.size,r=pe("canvas",{width:"".concat(o,"px"),height:"".concat(i,"px"),boxSizing:"border-box"}),s=r.getContext("2d"),a=Ee(r);return r.width=o*a,r.height=i*a,s.scale(a,a),s.fillStyle=t.color,s.fillRect(this.getBounding().left,0,o,i),r},e}(Gt),oe="candle_pane",hi="indcator_pane_",ne="xaxis_pane",Ut=function(){function n(e,t,o,i,r){this._yAxisWidget=null,this._separatorWidget=null,this._axis=this.createAxisComponent(),this._bounding=qt(),this._options={minHeight:30,dragEnabled:!0,gap:{top:.2,bottom:.1}},this._chart=t,this._id=o,this._topPane=i??null,this._bottomPane=r??null,this._init(e)}return n.prototype._init=function(e){this._container=e,this._seriesContiainer=pe("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden",boxSizing:"border-box"}),this._separatorWidget=this.createSeparatorWidget(e);var t=e.lastChild;t!==null?e.insertBefore(this._seriesContiainer,t):e.appendChild(this._seriesContiainer),this._mainWidget=this.createMainWidget(this._seriesContiainer),this._yAxisWidget=this.creatYAxisWidget(this._seriesContiainer)},n.prototype.getContainer=function(){return this._seriesContiainer},n.prototype.getId=function(){return this._id},n.prototype.setOptions=function(e){return j(this._options,e),this},n.prototype.getOptions=function(){return this._options},n.prototype.getChart=function(){return this._chart},n.prototype.getAxisComponent=function(){return this._axis},n.prototype.setBounding=function(e,t,o){var i,r,s;j(this._bounding,e);var a=0;if(this._separatorWidget!==null){a=this._chart.getStyles().separator.size;var l=F(F({},e),{height:7});e.top!==void 0&&(l.top=e.top-Math.floor((7-a)/2)),this._separatorWidget.setBounding(l)}var u={};return e.height!==void 0&&(u.height=e.height-a),e.top!==void 0&&(u.top=e.top+a),this._mainWidget.setBounding(u),(i=this._yAxisWidget)===null||i===void 0||i.setBounding(u),t!==void 0&&(this._mainWidget.setBounding(t),(r=this._separatorWidget)===null||r===void 0||r.setBounding(t)),o!==void 0&&((s=this._yAxisWidget)===null||s===void 0||s.setBounding(o)),this},n.prototype.getTopPane=function(){return this._topPane},n.prototype.setTopPane=function(e){return this._topPane=e,this},n.prototype.getBottomPane=function(){return this._bottomPane},n.prototype.setBottomPane=function(e){return this._bottomPane=e,this},n.prototype.getBounding=function(){return this._bounding},n.prototype.getMainWidget=function(){return this._mainWidget},n.prototype.getYAxisWidget=function(){return this._yAxisWidget},n.prototype.getSeparatorWidget=function(){return this._separatorWidget},n.prototype.update=function(e){var t,o;this._bounding.width!==this._seriesContiainer.offsetWidth&&(this._seriesContiainer.style.width="".concat(this._bounding.width,"px"));var i=this._mainWidget.getBounding().height;i!==this._seriesContiainer.offsetHeight&&(this._seriesContiainer.style.height="".concat(i,"px"));var r=e??3;this._mainWidget.update(r),(t=this._yAxisWidget)===null||t===void 0||t.update(r),(o=this._separatorWidget)===null||o===void 0||o.update(r)},n.prototype.getImage=function(e){var t=this._bounding,o=t.width,i=t.height,r=pe("canvas",{width:"".concat(o,"px"),height:"".concat(i,"px"),boxSizing:"border-box"}),s=r.getContext("2d"),a=Ee(r);r.width=o*a,r.height=i*a,s.scale(a,a);var l=0;if(this._separatorWidget!=null){var u=this.getChart().getStyles().separator.size;l=u,s.drawImage(this._separatorWidget.getImage(),0,0,o,u)}var c=this._mainWidget.getBounding();if(s.drawImage(this._mainWidget.getImage(e),c.left,l,c.width,c.height),this._yAxisWidget!==null){var h=this._yAxisWidget.getBounding();s.drawImage(this._yAxisWidget.getImage(e),h.left,l,h.width,h.height)}return r},n.prototype.destroy=function(){this._container.removeChild(this._seriesContiainer),this._separatorWidget!==null&&this._container.removeChild(this._separatorWidget.getContainer())},n.prototype.createSeparatorWidget=function(e){return null},n.prototype.creatYAxisWidget=function(e){return null},n}(),di=function(){function n(e){this._instances=new Map,this._progressInstanceInfo=null,this._pressedInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._hoverInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._clickInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._chartStore=e}return n.prototype._overrideInstance=function(e,t){var o=t.id,i=t.groupId,r=t.points,s=t.styles,a=t.lock,l=t.visible,u=t.mode,c=t.extendData,h=t.onDrawStart,p=t.onDrawing,d=t.onDrawEnd,g=t.onClick,v=t.onRightClick,f=t.onPressedMoveStart,y=t.onPressedMoving,x=t.onPressedMoveEnd,_=t.onMouseEnter,w=t.onMouseLeave,C=t.onRemoved,S=t.onSelected,b=t.onDeselected,T=!1;return o!==void 0&&e.setId(o),i!==void 0&&e.setGroupId(i),r!==void 0&&e.setPoints(r)&&(T=!0),s!==void 0&&e.setStyles(s)&&(T=!0),a!==void 0&&e.setLock(a),l!==void 0&&e.setVisible(l)&&(T=!0),u!==void 0&&e.setMode(u),c!==void 0&&e.setExtendData(c)&&(T=!0),h!==void 0&&e.setOnDrawStartCallback(h),p!==void 0&&e.setOnDrawingCallback(p),d!==void 0&&e.setOnDrawEndCallback(d),g!==void 0&&e.setOnClickCallback(g),v!==void 0&&e.setOnRightClickCallback(v),f!==void 0&&e.setOnPressedMoveStartCallback(f),y!==void 0&&e.setOnPressedMovingCallback(y),x!==void 0&&e.setOnPressedMoveEndCallback(x),_!==void 0&&e.setOnMouseEnterCallback(_),w!==void 0&&e.setOnMouseLeaveCallback(w),C!==void 0&&e.setOnRemovedCallback(C),S!==void 0&&e.setOnSelectedCallback(S),b!==void 0&&e.setOnDeselectedCallback(b),T},n.prototype.getInstanceById=function(e){var t,o;try{for(var i=We(this._instances),r=i.next();!r.done;r=i.next()){var s=r.value[1].find(function(a){return a.id===e});if(s!==void 0)return s}}catch(a){t={error:a}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}return this._progressInstanceInfo!==null&&this._progressInstanceInfo.instance.id===e?this._progressInstanceInfo.instance:null},n.prototype.addInstance=function(e,t,o){var i,r,s,a,l=(i=e.id)!==null&&i!==void 0?i:Rt("overlay_");if(this.getInstanceById(l)===null){var u=new(Kt(e.name)),c=(r=e.groupId)!==null&&r!==void 0?r:l;return e.id=l,e.groupId=c,this._overrideInstance(u,e),u.isDrawing()?this._progressInstanceInfo={paneId:t,instance:u,appointPaneFlag:o}:(this._instances.has(t)||this._instances.set(t,[]),(s=this._instances.get(t))===null||s===void 0||s.push(u)),(a=u.onDrawStart)===null||a===void 0||a.call(u,{overlay:u}),this._chartStore.getChart().updatePane(1,t),l}return null},n.prototype.getProgressInstanceInfo=function(){return this._progressInstanceInfo},n.prototype.progressInstanceComplete=function(){var e;if(this._progressInstanceInfo!==null){var t=this._progressInstanceInfo,o=t.instance,i=t.paneId;o.isDrawing()||(this._instances.has(i)||this._instances.set(i,[]),(e=this._instances.get(i))===null||e===void 0||e.push(o),this._progressInstanceInfo=null)}},n.prototype.updateProgressInstanceInfo=function(e,t){this._progressInstanceInfo!==null&&(t!==void 0&&t&&(this._progressInstanceInfo.appointPaneFlag=t),this._progressInstanceInfo.paneId=e)},n.prototype.getInstances=function(e){var t;if(e===void 0){var o=[];return this._instances.forEach(function(i){o=o.concat(i)}),o}return(t=this._instances.get(e))!==null&&t!==void 0?t:[]},n.prototype.override=function(e){var t=this,o=e.id,i=e.groupId,r=e.name,s=!1;if(o!==void 0){var a=this.getInstanceById(o);a!==null&&this._overrideInstance(a,e)&&(s=!0)}else if(this._instances.forEach(function(u){u.forEach(function(c){(r!==void 0&&c.name===r||i!==void 0&&c.groupId===i||r===void 0&&i===void 0)&&t._overrideInstance(c,e)&&(s=!0)})}),this._progressInstanceInfo!==null){var l=this._progressInstanceInfo.instance;(r!==void 0&&l.name===r||i!==void 0&&l.groupId===i||r===void 0&&i===void 0)&&this._overrideInstance(l,e)&&(s=!0)}s&&this._chartStore.getChart().updatePane(1)},n.prototype.removeInstance=function(e){var t,o,i,r=function(d,g){if(d.id!==void 0){if(g.id!==d.id)return!1}else if(d.groupId!==void 0){if(g.groupId!==d.groupId)return!1}else if(d.name!==void 0&&g.name!==d.name)return!1;return!0},s=[];if(this._progressInstanceInfo!==null){var a=this._progressInstanceInfo.instance;(e===void 0||e!==void 0&&r(e,a))&&(s.push(this._progressInstanceInfo.paneId),(i=a.onRemoved)===null||i===void 0||i.call(a,{overlay:a}),this._progressInstanceInfo=null)}if(e!==void 0){var l=new Map,u=function(d){var g=d[1].filter(function(v){var f;return!r(e,v)||(s.includes(d[0])||s.push(d[0]),(f=v.onRemoved)===null||f===void 0||f.call(v,{overlay:v}),!1)});g.length>0&&l.set(d[0],g)};try{for(var c=We(this._instances),h=c.next();!h.done;h=c.next())u(h.value)}catch(d){t={error:d}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(t)throw t.error}}this._instances=l}else this._instances.forEach(function(d,g){s.push(g),d.forEach(function(v){var f;(f=v.onRemoved)===null||f===void 0||f.call(v,{overlay:v})})}),this._instances.clear();if(s.length>0){var p=this._chartStore.getChart();s.forEach(function(d){p.updatePane(1,d)}),p.updatePane(1,ne)}},n.prototype.setPressedInstanceInfo=function(e){this._pressedInstanceInfo=e},n.prototype.getPressedInstanceInfo=function(){return this._pressedInstanceInfo},n.prototype.setHoverInstanceInfo=function(e,t){var o,i,r,s,a,l=this._hoverInstanceInfo,u=l.instance,c=l.figureKey,h=l.figureIndex;(u==null?void 0:u.id)===((o=e.instance)===null||o===void 0?void 0:o.id)&&l.figureType===e.figureType&&h===e.figureIndex||(this._hoverInstanceInfo=e,(u==null?void 0:u.id)!==((i=e.instance)===null||i===void 0?void 0:i.id)&&((r=u==null?void 0:u.onMouseLeave)===null||r===void 0||r.call(u,F({overlay:u,figureKey:c,figureIndex:h},t)),(a=(s=e.instance)===null||s===void 0?void 0:s.onMouseEnter)===null||a===void 0||a.call(s,F({overlay:e.instance,figureKey:e.figureKey,figureIndex:e.figureIndex},t))))},n.prototype.getHoverInstanceInfo=function(){return this._hoverInstanceInfo},n.prototype.setClickInstanceInfo=function(e,t){var o,i,r,s,a,l,u,c,h,p=this._clickInstanceInfo,d=p.paneId,g=p.instance,v=p.figureType,f=p.figureKey,y=p.figureIndex;if((i=(o=e.instance)===null||o===void 0?void 0:o.isDrawing())!==null&&i!==void 0&&i||(s=(r=e.instance)===null||r===void 0?void 0:r.onClick)===null||s===void 0||s.call(r,F({overlay:e.instance,figureKey:e.figureKey,figureIndex:e.figureIndex},t)),((g==null?void 0:g.id)!==((a=e.instance)===null||a===void 0?void 0:a.id)||v!==e.figureType||y!==e.figureIndex)&&(this._clickInstanceInfo=e,(g==null?void 0:g.id)!==((l=e.instance)===null||l===void 0?void 0:l.id))){(u=g==null?void 0:g.onDeselected)===null||u===void 0||u.call(g,F({overlay:g,figureKey:f,figureIndex:y},t)),(h=(c=e.instance)===null||c===void 0?void 0:c.onSelected)===null||h===void 0||h.call(c,F({overlay:e.instance,figureKey:e.figureKey,figureIndex:e.figureIndex},t));var x=this._chartStore.getChart();x.updatePane(1,e.paneId),d!==e.paneId&&x.updatePane(1,d),x.updatePane(1,ne)}},n.prototype.getClickInstanceInfo=function(){return this._clickInstanceInfo},n.prototype.isEmpty=function(){return this._instances.size===0&&this._progressInstanceInfo===null},n.prototype.isDrawing=function(){var e,t;return this._progressInstanceInfo!==null&&(t=(e=this._progressInstanceInfo)===null||e===void 0?void 0:e.instance.isDrawing())!==null&&t!==void 0&&t},n}(),pi=function(){function n(){this._actions=new Map}return n.prototype.execute=function(e,t){var o;(o=this._actions.get(e))===null||o===void 0||o.execute(t)},n.prototype.subscribe=function(e,t){var o;this._actions.has(e)||this._actions.set(e,new Xo),(o=this._actions.get(e))===null||o===void 0||o.subscribe(t)},n.prototype.unsubscribe=function(e,t){var o=this._actions.get(e);o!==void 0&&(o.unsubscribe(t),o.isEmpty()&&this._actions.delete(e))},n.prototype.has=function(e){var t=this._actions.get(e);return t!==void 0&&!t.isEmpty()},n}(),$t={light:{grid:{horizontal:{color:"#EDEDED"},vertical:{color:"#EDEDED"}},candle:{priceMark:{high:{color:"#76808F"},low:{color:"#76808F"}},tooltip:{rect:{color:"#FEFEFE",borderColor:"#F2F3F5"},text:{color:"#76808F"}}},indicator:{tooltip:{text:{color:"#76808F"}}},xAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},yAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},separator:{color:"#DDDDDD"},crosshair:{horizontal:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}},vertical:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}}}},dark:{grid:{horizontal:{color:"#292929"},vertical:{color:"#292929"}},candle:{priceMark:{high:{color:"#929AA5"},low:{color:"#929AA5"}},tooltip:{rect:{color:"rgba(10, 10, 10, .6)",borderColor:"rgba(10, 10, 10, .6)"},text:{color:"#929AA5"}}},indicator:{tooltip:{text:{color:"#929AA5"}}},xAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},yAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},separator:{color:"#333333"},crosshair:{horizontal:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}},vertical:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}}}}};function Zt(n){var e;return(e=$t[n])!==null&&e!==void 0?e:null}var gi=function(){function n(e,t){this._styles={grid:{show:!0,horizontal:{show:!0,size:1,color:"#EDEDED",style:m.LineType.Dashed,dashedValue:[2,2]},vertical:{show:!0,size:1,color:"#EDEDED",style:m.LineType.Dashed,dashedValue:[2,2]}},candle:{type:m.CandleType.CandleSolid,bar:{upColor:"#2DC08E",downColor:"#F92855",noChangeColor:"#888888",upBorderColor:"#2DC08E",downBorderColor:"#F92855",noChangeBorderColor:"#888888",upWickColor:"#2DC08E",downWickColor:"#F92855",noChangeWickColor:"#888888"},area:{lineSize:2,lineColor:"#1677FF",value:"close",backgroundColor:[{offset:0,color:"rgba(22, 119, 255, 0.01)"},{offset:1,color:"rgba(22, 119, 255, 0.2)"}]},priceMark:{show:!0,high:{show:!0,color:"#76808F",textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},low:{show:!0,color:"#76808F",textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},last:{show:!0,upColor:"#2DC08E",downColor:"#F92855",noChangeColor:"#888888",line:{show:!0,style:m.LineType.Dashed,dashedValue:[4,4],size:1},text:{show:!0,style:m.PolygonType.Fill,size:12,paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderStyle:m.LineType.Solid,borderSize:1,borderDashedValue:[2,2],color:"#FFFFFF",family:"Helvetica Neue",weight:"normal",borderRadius:2}}},tooltip:{showRule:m.TooltipShowRule.Always,showType:m.TooltipShowType.Standard,custom:null,defaultValue:"n/a",rect:{position:Ue.Fixed,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:8,offsetLeft:10,offsetTop:8,offsetRight:10,offsetBottom:8,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",color:"#FEFEFE"},text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#76808F",marginLeft:10,marginTop:8,marginRight:6,marginBottom:0},icons:[]}},indicator:{ohlc:{upColor:"rgba(45, 192, 142, .7)",downColor:"rgba(249, 40, 85, .7)",noChangeColor:"#888888"},bars:[{style:m.PolygonType.Fill,borderStyle:m.LineType.Solid,borderSize:1,borderDashedValue:[2,2],upColor:"rgba(45, 192, 142, .7)",downColor:"rgba(249, 40, 85, .7)",noChangeColor:"#888888"}],lines:[{style:m.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#FF9600"},{style:m.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#935EBD"},{style:m.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#1677FF"},{style:m.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#E11D74"},{style:m.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#01C5C4"}],circles:[{style:m.PolygonType.Fill,borderStyle:m.LineType.Solid,borderSize:1,borderDashedValue:[2,2],upColor:"rgba(45, 192, 142, .7)",downColor:"rgba(249, 40, 85, .7)",noChangeColor:"#888888"}],lastValueMark:{show:!1,text:{show:!1,style:m.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:m.LineType.Solid,borderSize:1,borderDashedValue:[2,2],paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderRadius:2}},tooltip:{showRule:m.TooltipShowRule.Always,showType:m.TooltipShowType.Standard,showName:!0,showParams:!0,defaultValue:"n/a",text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#76808F",marginLeft:10,marginTop:8,marginRight:6,marginBottom:0},icons:[]}},xAxis:{show:!0,size:"auto",axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:"#76808F",size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:4},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}},yAxis:{show:!0,size:"auto",type:m.YAxisType.Normal,position:m.YAxisPosition.Right,inside:!1,reverse:!1,axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:"#76808F",size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:4},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}},separator:{size:1,color:"#DDDDDD",fill:!0,activeBackgroundColor:"rgba(33, 150, 243, 0.08)"},crosshair:{show:!0,horizontal:{show:!0,line:{show:!0,style:m.LineType.Dashed,dashedValue:[4,2],size:1,color:"#76808F"},text:{show:!0,style:m.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:m.LineType.Solid,borderDashedValue:[2,2],borderSize:1,borderColor:"#686D76",borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#686D76"}},vertical:{show:!0,line:{show:!0,style:m.LineType.Dashed,dashedValue:[4,2],size:1,color:"#76808F"},text:{show:!0,style:m.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:m.LineType.Solid,borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:"#686D76",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#686D76"}}},overlay:{point:{color:"#1677FF",borderColor:"rgba(22, 119, 255, 0.35)",borderSize:1,radius:5,activeColor:"#1677FF",activeBorderColor:"rgba(22, 119, 255, 0.35)",activeBorderSize:3,activeRadius:5},line:{style:m.LineType.Solid,smooth:!1,color:"#1677FF",size:1,dashedValue:[2,2]},rect:{style:m.PolygonType.Fill,color:"rgba(22, 119, 255, 0.25)",borderColor:"#1677FF",borderSize:1,borderRadius:0,borderStyle:m.LineType.Solid,borderDashedValue:[2,2]},polygon:{style:m.PolygonType.Fill,color:"#1677FF",borderColor:"#1677FF",borderSize:1,borderStyle:m.LineType.Solid,borderDashedValue:[2,2]},circle:{style:m.PolygonType.Fill,color:"rgba(22, 119, 255, 0.25)",borderColor:"#1677FF",borderSize:1,borderStyle:m.LineType.Solid,borderDashedValue:[2,2]},arc:{style:m.LineType.Solid,color:"#1677FF",size:1,dashedValue:[2,2]},text:{color:"#1677FF",size:12,family:"Helvetica Neue",weight:"normal"},rectText:{style:m.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:m.LineType.Solid,borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:"#1677FF",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#1677FF"}}},this._customApi={formatDate:At,formatBigNumber:Lt},this._locale="en-US",this._precision={price:2,volume:0},this._thousandsSeparator=",",this._dataList=[],this._timeScaleStore=new Go(this),this._indicatorStore=new oi(this),this._overlayStore=new di(this),this._crosshairStore=new ii(this),this._tooltipStore=new ni,this._actionStore=new pi,this._visibleDataList=[],this._chart=e,this.setOptions(t)}return n.prototype.adjustVisibleDataList=function(){this._visibleDataList=[];for(var e=this._timeScaleStore.getVisibleRange(),t=e.to,o=e.from;t>o;o++){var i=this._dataList[o],r=this._timeScaleStore.dataIndexToCoordinate(o);this._visibleDataList.push({dataIndex:o,x:r,data:i})}},n.prototype.setOptions=function(e){if(e!==void 0){var t=e.locale,o=e.timezone,i=e.styles,r=e.customApi;t!==void 0&&(this._locale=t),o!==void 0&&this._timeScaleStore.setTimezone(o),i!==void 0&&(de(i)?j(this._styles,Zt(i)):j(this._styles,i)),r!==void 0&&j(this._customApi,r),e.thousandsSeparator!==void 0&&(this._thousandsSeparator=e.thousandsSeparator)}return this},n.prototype.getStyles=function(){return this._styles},n.prototype.getLocale=function(){return this._locale},n.prototype.getCustomApi=function(){return this._customApi},n.prototype.getThousandsSeparator=function(){return this._thousandsSeparator},n.prototype.getPrecision=function(){return this._precision},n.prototype.setPrecision=function(e){return this._precision=e,this._indicatorStore.setSeriesPrecision(e),this},n.prototype.getDataList=function(){return this._dataList},n.prototype.getVisibleDataList=function(){return this._visibleDataList},n.prototype.addData=function(e,t,o){if(W(e)){this._timeScaleStore.setLoading(!1),this._timeScaleStore.setMore(o==null||o);var i=this._dataList.length===0;this._dataList=e.concat(this._dataList),i&&this._timeScaleStore.resetOffsetRightDistance(),this._timeScaleStore.adjustVisibleRange()}else if(t<this._dataList.length)this._dataList[t]=e,this.adjustVisibleDataList();else{this._dataList.push(e);var r=this._timeScaleStore.getOffsetRightBarCount();0>r&&this._timeScaleStore.setOffsetRightBarCount(--r),this._timeScaleStore.adjustVisibleRange()}this._crosshairStore.recalculate(!0)},n.prototype.clearDataList=function(){this._dataList=[],this._visibleDataList=[],this._timeScaleStore.clear()},n.prototype.getTimeScaleStore=function(){return this._timeScaleStore},n.prototype.getIndicatorStore=function(){return this._indicatorStore},n.prototype.getOverlayStore=function(){return this._overlayStore},n.prototype.getCrosshairStore=function(){return this._crosshairStore},n.prototype.getTooltipStore=function(){return this._tooltipStore},n.prototype.getActionStore=function(){return this._actionStore},n.prototype.getChart=function(){return this._chart},n}();function ft(n){return window.requestAnimationFrame==null?window.setTimeout(n,20):window.requestAnimationFrame(n)}function yt(n){window.cancelAnimationFrame==null&&window.clearTimeout(n),window.cancelAnimationFrame(n)}var Be=-1,_t=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._mainRequestAnimationId=Be,t._overlayRequestAnimationId=Be,t}return L(e,n),e.prototype.getContainerStyle=function(){return{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden",boxSizing:"border-box"}},e.prototype.initDom=function(t){this._mainCanvas=pe("canvas",{position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"}),this._mainCtx=this._mainCanvas.getContext("2d"),this._overlayCanvas=pe("canvas",{position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"}),this._overlayCtx=this._overlayCanvas.getContext("2d"),t.appendChild(this._mainCanvas),t.appendChild(this._overlayCanvas)},e.prototype._optimalUpdateMain=function(t,o){var i=this;this._mainRequestAnimationId!==Be&&(yt(this._mainRequestAnimationId),this._mainRequestAnimationId=Be),this._mainRequestAnimationId=ft(function(){if(t!==i._mainCanvas.offsetWidth||o!==i._mainCanvas.offsetHeight){i._mainCtx.clearRect(0,0,i._mainCanvas.offsetWidth,i._mainCanvas.offsetHeight);var r=Ee(i._mainCanvas),s=Math.floor(t*r),a=Math.floor(o*r);i._mainCanvas.style.width="".concat(t,"px"),i._mainCanvas.style.height="".concat(o,"px"),i._mainCanvas.width=s,i._mainCanvas.height=a,i._mainCtx.scale(r,r)}else i._mainCtx.clearRect(0,0,i._mainCanvas.offsetWidth,i._mainCanvas.offsetHeight);i.updateMain(i._mainCtx)})},e.prototype._optimalUpdateOverlay=function(t,o){var i=this;this._overlayRequestAnimationId!==Be&&(yt(this._overlayRequestAnimationId),this._overlayRequestAnimationId=Be),this._overlayRequestAnimationId=ft(function(){if(t!==i._overlayCanvas.offsetWidth||o!==i._overlayCanvas.offsetHeight){i._overlayCtx.clearRect(0,0,i._overlayCanvas.offsetWidth,i._overlayCanvas.offsetHeight);var r=Ee(i._overlayCanvas),s=Math.floor(t*r),a=Math.floor(o*r);i._overlayCanvas.style.width="".concat(t,"px"),i._overlayCanvas.style.height="".concat(o,"px"),i._overlayCanvas.width=s,i._overlayCanvas.height=a,i._overlayCtx.scale(r,r)}else i._overlayCtx.clearRect(0,0,i._overlayCanvas.offsetWidth,i._overlayCanvas.offsetHeight);i.updateOverlay(i._overlayCtx)})},e.prototype.updateImp=function(t,o,i){var r=i.width,s=i.height;o.style.left="".concat(i.left,"px");var a=t;switch(r===o.offsetWidth&&s===o.offsetHeight||(o.style.width="".concat(r,"px"),o.style.height="".concat(s,"px"),a=3),a){case 0:this._optimalUpdateMain(r,s);break;case 1:this._optimalUpdateOverlay(r,s);break;case 3:case 4:this._optimalUpdateMain(r,s),this._optimalUpdateOverlay(r,s)}},e.prototype.getImage=function(t){var o=this.getBounding(),i=o.width,r=o.height,s=pe("canvas",{width:"".concat(i,"px"),height:"".concat(r,"px"),boxSizing:"border-box"}),a=s.getContext("2d"),l=Ee(s);return s.width=i*l,s.height=r*l,a.scale(l,l),a.drawImage(this._mainCanvas,0,0,i,r),t&&a.drawImage(this._overlayCanvas,0,0,i,r),s},e}(Gt),Jt=function(n){function e(t){var o=n.call(this)||this;return o.attrs=t.attrs,o.styles=t.styles,o}return L(e,n),e.prototype.checkEventOn=function(t){return this.checkEventOnImp(t,this.attrs,this.styles)},e.prototype.draw=function(t){this.drawImp(t,this.attrs,this.styles)},e.extend=function(t){var o=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return L(r,i),r.prototype.checkEventOnImp=function(s,a,l){return t.checkEventOn(s,a,l)},r.prototype.drawImp=function(s,a,l){t.draw(s,a,l)},r}(e);return o},e}(mt);function Qt(n,e){var t=n.x-e.x,o=n.y-e.y,i=e.r;return!(t*t+o*o>i*i)}function eo(n,e,t){var o=e.x,i=e.y,r=e.r,s=t.style,a=s===void 0?m.PolygonType.Fill:s,l=t.color,u=t.borderSize,c=u===void 0?1:u,h=t.borderColor,p=h===void 0?"currentColor":h,d=t.borderStyle,g=d===void 0?m.LineType.Solid:d,v=t.borderDashedValue,f=v===void 0?[2,2]:v;a!==m.PolygonType.Fill&&t.style!==m.PolygonType.StrokeFill||(n.fillStyle=l===void 0?"currentColor":l,n.beginPath(),n.arc(o,i,r,0,2*Math.PI),n.closePath(),n.fill()),a!==m.PolygonType.Stroke&&t.style!==m.PolygonType.StrokeFill||(n.strokeStyle=p,n.lineWidth=c,n.setLineDash(g===m.LineType.Dashed?f:[]),n.beginPath(),n.arc(o,i,r,0,2*Math.PI),n.closePath(),n.stroke())}var vi={name:"circle",checkEventOn:Qt,draw:function(n,e,t){eo(n,e,t)}};function to(n,e){for(var t=!1,o=e.coordinates,i=0,r=o.length-1;o.length>i;r=i++)o[i].y>n.y!=o[r].y>n.y&&(o[r].x-o[i].x)*(n.y-o[i].y)/(o[r].y-o[i].y)+o[i].x>n.x&&(t=!t);return t}function oo(n,e,t){var o=e.coordinates,i=t.style,r=i===void 0?m.PolygonType.Fill:i,s=t.color,a=t.borderSize,l=a===void 0?1:a,u=t.borderColor,c=u===void 0?"currentColor":u,h=t.borderStyle,p=h===void 0?m.LineType.Solid:h,d=t.borderDashedValue,g=d===void 0?[2,2]:d;if(r===m.PolygonType.Fill||t.style===m.PolygonType.StrokeFill){n.fillStyle=s===void 0?"currentColor":s,n.beginPath(),n.moveTo(o[0].x,o[0].y);for(var v=1;o.length>v;v++)n.lineTo(o[v].x,o[v].y);n.closePath(),n.fill()}if(r===m.PolygonType.Stroke||t.style===m.PolygonType.StrokeFill){for(n.strokeStyle=c,n.lineWidth=l,n.setLineDash(p===m.LineType.Dashed?g:[]),n.beginPath(),n.moveTo(o[0].x,o[0].y),v=1;o.length>v;v++)n.lineTo(o[v].x,o[v].y);n.closePath(),n.stroke()}}var mi={name:"polygon",checkEventOn:to,draw:function(n,e,t){oo(n,e,t)}};function io(n,e){return!(e.x>n.x||n.x>e.x+e.width||e.y>n.y||n.y>e.y+e.height)}function xt(n,e,t){var o=e.x,i=e.y,r=e.width,s=e.height,a=t.style,l=a===void 0?m.PolygonType.Fill:a,u=t.color,c=t.borderSize,h=c===void 0?1:c,p=t.borderColor,d=p===void 0?"currentColor":p,g=t.borderStyle,v=g===void 0?m.LineType.Solid:g,f=t.borderRadius,y=f===void 0?0:f,x=t.borderDashedValue,_=x===void 0?[2,2]:x;l!==m.PolygonType.Fill&&t.style!==m.PolygonType.StrokeFill||(n.fillStyle=u===void 0?"currentColor":u,n.beginPath(),n.moveTo(o+y,i),n.arcTo(o+r,i,o+r,i+s,y),n.arcTo(o+r,i+s,o,i+s,y),n.arcTo(o,i+s,o,i,y),n.arcTo(o,i,o+r,i,y),n.closePath(),n.fill()),l!==m.PolygonType.Stroke&&t.style!==m.PolygonType.StrokeFill||(n.strokeStyle=d,n.lineWidth=h,n.setLineDash(v===m.LineType.Dashed?_:[]),n.beginPath(),n.moveTo(o+y,i),n.arcTo(o+r,i,o+r,i+s,y),n.arcTo(o+r,i+s,o,i+s,y),n.arcTo(o,i+s,o,i,y),n.arcTo(o,i,o+r,i,y),n.closePath(),n.stroke())}var fi={name:"rect",checkEventOn:io,draw:function(n,e,t){xt(n,e,t)}};function no(n,e,t){var o=e.size,i=o===void 0?12:o,r=e.paddingLeft,s=r===void 0?0:r,a=e.paddingTop,l=a===void 0?0:a,u=e.paddingRight,c=u===void 0?0:u,h=e.paddingBottom,p=h===void 0?0:h,d=n.x,g=n.y,v=n.align,f=n.baseline,y=f===void 0?"top":f;t=t??i*n.text.length;var x,_,w=i;switch(v===void 0?"left":v){case"left":case"start":x=d;break;case"right":case"end":x=d-c-t-s;break;default:x=d-t/2-s}switch(y){case"top":case"hanging":_=g;break;case"bottom":case"ideographic":case"alphabetic":_=g-w-l-p;break;default:_=g-w/2-l}return{x,y:_,width:s+t+c,height:l+w+p}}function wt(n,e,t){var o=no(e,t),i=o.x,r=o.y;return!(i>n.x||n.x>i+o.width||r>n.y||n.y>r+o.height)}function Ct(n,e,t){var o=e.x,i=e.y,r=e.text,s=e.align,a=e.baseline,l=a===void 0?"top":a,u=t.color,c=u===void 0?"currentColor":u,h=t.size,p=h===void 0?12:h,d=t.family,g=t.weight;n.textAlign=s===void 0?"left":s,n.textBaseline=l,n.font=xe(p,g,d),n.fillStyle=c,n.fillText(r,o,i)}var yi={name:"text",checkEventOn:function(n,e,t){return wt(n,e,t)},draw:function(n,e,t){Ct(n,e,t)}};function ro(n,e,t){var o=e.text,i=t.size,r=t.paddingLeft,s=r===void 0?0:r,a=t.paddingTop,l=a===void 0?0:a;n.font=xe(i===void 0?12:i,t.weight,t.family);var u=no(e,t,n.measureText(o).width);xt(n,u,F(F({},t),{color:t.backgroundColor})),Ct(n,{x:u.x+s,y:u.y+l,text:o,align:"left",baseline:"top"},t)}var _i={name:"rectText",checkEventOn:function(n,e,t){return wt(n,e,t)},draw:function(n,e,t){ro(n,e,t)}};function ao(n,e){if(2>Math.abs(Math.sqrt((h=(u=n).x-(c=e).x)*h+(p=u.y-c.y)*p)-e.r)){var t=e.r,o=e.startAngle,i=e.endAngle,r=t*Math.cos(o)+e.x,s=t*Math.sin(o)+e.y,a=t*Math.cos(i)+e.x,l=t*Math.sin(i)+e.y;return!(n.x>Math.max(r,a)+2||Math.min(r,a)-2>n.x||n.y>Math.max(s,l)+2||Math.min(s,l)-2>n.y)}var u,c,h,p;return!1}function so(n,e,t){var o=e.x,i=e.y,r=e.r,s=e.startAngle,a=e.endAngle,l=t.style,u=l===void 0?m.LineType.Solid:l,c=t.size,h=t.color,p=h===void 0?"currentColor":h,d=t.dashedValue,g=d===void 0?[2,2]:d;n.lineWidth=c===void 0?1:c,n.strokeStyle=p,n.setLineDash(u===m.LineType.Dashed?g:[]),n.beginPath(),n.arc(o,i,r,s,a),n.stroke(),n.closePath()}var xi={name:"arc",checkEventOn:ao,draw:function(n,e,t){so(n,e,t)}},je={};[vi,ai,mi,fi,yi,_i,xi].forEach(function(n){je[n.name]=Jt.extend(n)});var me=function(n){function e(t){var o=n.call(this)||this;return o._widget=t,o}return L(e,n),e.prototype.getWidget=function(){return this._widget},e.prototype.createFigure=function(t,o,i,r){var s=function(u){var c;return(c=je[u])!==null&&c!==void 0?c:null}(t);if(s!==null){var a=new s({name:t,attrs:o,styles:i});if(r!==void 0){for(var l in r)r.hasOwnProperty(l)&&a.registerEvent(l,r[l]);this.addChild(a)}return a}return null},e.prototype.draw=function(t){this.clear(),this.drawImp(t)},e}(mt),wi=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.drawImp=function(t){var o,i=this,r=this.getWidget(),s=this.getWidget().getPane(),a=s.getChart(),l=r.getBounding(),u=a.getStyles().grid;if(u.show){t.save(),t.globalCompositeOperation="destination-over";var c=u.horizontal;c.show&&s.getAxisComponent().getTicks().forEach(function(p){var d;(d=i.createFigure("line",{coordinates:[{x:0,y:p.coord},{x:l.width,y:p.coord}]},c))===null||d===void 0||d.draw(t)});var h=u.vertical;h.show&&((o=a.getPaneById(ne))===null||o===void 0?void 0:o.getAxisComponent()).getTicks().forEach(function(p){var d;(d=i.createFigure("line",{coordinates:[{x:p.coord,y:0},{x:p.coord,y:l.height}]},h))===null||d===void 0||d.draw(t)}),t.restore()}},e}(me),St=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.eachChildren=function(t){var o=this.getWidget().getPane().getChart().getChartStore(),i=o.getVisibleDataList(),r=o.getTimeScaleStore().getBarSpace();i.forEach(function(s,a){t(s,r,a)})},e}(me),lo=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._boundCandleBarClickEvent=function(o){return function(){return t.getWidget().getPane().getChart().getChartStore().getActionStore().execute(m.ActionType.OnCandleBarClick,o),!1}},t}return L(e,n),e.prototype.drawImp=function(t){var o=this,i=this.getWidget().getPane(),r=i.getId()===oe,s=i.getChart().getChartStore(),a=this.getCandleBarOptions(s);if(a!==null){var l=i.getAxisComponent();this.eachChildren(function(u,c){o._drawCandleBar(t,l,u,c,a,r)})}},e.prototype.getCandleBarOptions=function(t){var o=t.getStyles().candle;return{type:o.type,styles:o.bar}},e.prototype._drawCandleBar=function(t,o,i,r,s,a){var l,u,c,h=this,p=i.data,d=i.x,g=p.open,v=p.high,f=p.low,y=p.close,x=r.halfGapBar,_=r.gapBar,w=s.type,C=s.styles;y>g?(l=C.upColor,u=C.upBorderColor,c=C.upWickColor):g>y?(l=C.downColor,u=C.downBorderColor,c=C.downWickColor):(l=C.noChangeColor,u=C.noChangeBorderColor,c=C.noChangeWickColor);var S=o.convertToPixel(g),b=o.convertToPixel(y),T=[S,b,o.convertToPixel(v),o.convertToPixel(f)];T.sort(function(P,B){return P-B});var E=Math.max(1,T[2]-T[1]),D=[];w!==m.CandleType.Ohlc?(D.push({name:"rect",attrs:{x:d-.5,y:T[0],width:1,height:T[1]-T[0]},styles:{color:c}}),D.push(w===m.CandleType.CandleStroke||w===m.CandleType.CandleUpStroke&&y>g||w===m.CandleType.CandleDownStroke&&g>y?{name:"rect",attrs:{x:d-x,y:T[1],width:_-1,height:E},styles:{style:m.PolygonType.Stroke,borderColor:u}}:{name:"rect",attrs:{x:d-x,y:T[1],width:_,height:E},styles:{style:m.PolygonType.StrokeFill,color:l,borderColor:u}}),D.push({name:"rect",attrs:{x:d-.5,y:T[2],width:1,height:T[3]-T[2]},styles:{color:c}})):D=[{name:"rect",attrs:{x:d-.5,y:T[0],width:1,height:T[3]-T[0]},styles:{color:l}},{name:"rect",attrs:{x:d-x,y:S,width:x,height:1},styles:{color:l}},{name:"rect",attrs:{x:d,y:b,width:x,height:1},styles:{color:l}}],D.forEach(function(P){var B,M,k=P.attrs,z=P.styles;a&&(M={mouseClickEvent:h._boundCandleBarClickEvent(i)}),(B=h.createFigure("rect",k,z,M))===null||B===void 0||B.draw(t)})},e}(St),Ci=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.getCandleBarOptions=function(t){var o,i,r=this.getWidget().getPane();if(!r.getAxisComponent().isInCandle()){var s=t.getIndicatorStore().getInstances(r.getId());try{for(var a=We(s),l=a.next();!l.done;l=a.next()){var u=l.value[1];if(u.shouldOhlc&&u.visible){var c=u.styles,h=t.getStyles().indicator,p=K(c,"ohlc.upColor",h.ohlc.upColor),d=K(c,"ohlc.downColor",h.ohlc.downColor),g=K(c,"ohlc.noChangeColor",h.ohlc.noChangeColor);return{type:m.CandleType.Ohlc,styles:{upColor:p,downColor:d,noChangeColor:g,upBorderColor:p,downBorderColor:d,noChangeBorderColor:g,upWickColor:p,downWickColor:d,noChangeWickColor:g}}}}}catch(v){o={error:v}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}}return null},e.prototype.drawImp=function(t){var o,i=this;n.prototype.drawImp.call(this,t);var r=this.getWidget(),s=r.getPane(),a=s.getChart(),l=r.getBounding(),u=(o=a.getPaneById(ne))===null||o===void 0?void 0:o.getAxisComponent(),c=s.getAxisComponent(),h=a.getChartStore(),p=h.getDataList(),d=h.getTimeScaleStore(),g=d.getVisibleRange(),v=h.getIndicatorStore().getInstances(s.getId()),f=h.getStyles().indicator;v.forEach(function(y){var x;if(y.visible){var _=!1;if(y.draw!==null&&(t.save(),_=(x=y.draw({ctx:t,kLineDataList:p,indicator:y,visibleRange:g,bounding:l,barSpace:d.getBarSpace(),defaultStyles:f,xAxis:u,yAxis:c}))!==null&&x!==void 0&&x,t.restore()),!_){var w=y.result,C=[],S=[],b=[];i.eachChildren(function(T,E){var D,P=E.halfGapBar,B=E.gapBar,M=T.dataIndex,k=T.x,z=(D=w[M])!==null&&D!==void 0?D:{};pt(p,y,M,f,function(N,R,X,q){var ue,H,J,ie=z[N.key],Q=c.convertToPixel(ie);switch(N.type){case"circle":Y(ie)&&((ue=i.createFigure("circle",{x:k,y:Q,r:P},{style:R.style,color:R.color,borderColor:R.color}))===null||ue===void 0||ue.draw(t));break;case"bar":if(Y(ie)){var re=(H=N.baseValue)!==null&&H!==void 0?H:c.getExtremum().min,we=c.convertToPixel(re),fe=Math.abs(we-Q);re!==ie&&(fe=Math.max(1,fe)),(J=i.createFigure("rect",{x:k-P,y:Q>we?we:Q,width:B,height:fe},{style:R.style,color:R.color,borderColor:R.color}))===null||J===void 0||J.draw(t)}break;case"line":var Pe=null;if(Y(ie)){Pe=R;var Ce={x:k,y:Q},ae=C[q];Y(S[q])||(S[q]=[]),S[q].push(Ce),Y(ae)&&((ae==null?void 0:ae.color)!==R.color||(ae==null?void 0:ae.style)!==R.style)&&(b.push({name:"line",attrs:{coordinates:S[q]},styles:{style:R.style,color:R.color,size:X.size,smooth:X.smooth,dashedValue:X.dashedValue}}),S[q]=[Ce]),M===g.to-1&&b.push({name:"line",attrs:{coordinates:S[q]},styles:{style:R.style,color:R==null?void 0:R.color,size:X.size,smooth:X.smooth,dashedValue:X.dashedValue}})}C[q]=Pe}})}),b.forEach(function(T){var E;(E=i.createFigure("line",T.attrs,T.styles))===null||E===void 0||E.draw(t)})}}})},e}(lo),Si=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.drawImp=function(t){var o=this.getWidget(),i=o.getPane(),r=o.getBounding(),s=o.getPane().getChart().getChartStore(),a=s.getCrosshairStore().get(),l=s.getStyles().crosshair;if(a.paneId!==void 0&&l.show){if(a.paneId===i.getId()){var u=a.y;this._drawLine(t,[{x:0,y:u},{x:r.width,y:u}],l.horizontal)}var c=a.realX;this._drawLine(t,[{x:c,y:0},{x:c,y:r.height}],l.vertical)}},e.prototype._drawLine=function(t,o,i){var r;if(i.show){var s=i.line;s.show&&((r=this.createFigure("line",{coordinates:o},s))===null||r===void 0||r.draw(t))}},e}(me),uo=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._boundIconClickEvent=function(o,i){return function(){return t.getWidget().getPane().getChart().getChartStore().getActionStore().execute(m.ActionType.OnTooltipIconClick,F(F({},o),{iconId:i})),!0}},t._boundIconMouseMoveEvent=function(o,i){return function(){return t.getWidget().getPane().getChart().getChartStore().getTooltipStore().setActiveIconInfo(F(F({},o),{iconId:i})),!0}},t}return L(e,n),e.prototype.drawImp=function(t){var o=this.getWidget(),i=o.getPane(),r=i.getChart().getChartStore(),s=r.getCrosshairStore().get();if(s.kLineData!==void 0){var a=o.getBounding(),l=r.getCustomApi(),u=r.getThousandsSeparator(),c=r.getIndicatorStore().getInstances(i.getId()),h=r.getTooltipStore().getActiveIconInfo(),p=r.getStyles().indicator;this.drawIndicatorTooltip(t,i.getId(),r.getDataList(),s,h,c,l,u,a,p)}},e.prototype.drawIndicatorTooltip=function(t,o,i,r,s,a,l,u,c,h,p){var d=this,g=h.tooltip,v=0;if(this.isDrawTooltip(r,g)){var f=g.text,y=0,x=p??0,_=0;a.forEach(function(w){var C=d.getIndicatorTooltipData(i,r,w,l,u,h),S=C.name,b=C.calcParamsText,T=C.values,E=S.length>0,D=T.length>0;if(E||D){var P=ee(d.classifyTooltipIcons(C.icons),3),B=P[1],M=P[2],k=ee(d.drawStandardTooltipIcons(t,c,{paneId:o,indicatorName:w.name,iconId:""},s,P[0],y,x,_),4);if(y=k[0],x=k[1],v+=k[3],_=k[2],E){var z=S;b.length>0&&(z="".concat(z).concat(b));var N=ee(d.drawStandardTooltipLabels(t,c,[{title:{text:"",color:f.color},value:{text:z,color:f.color}}],y,x,_,f),4);y=N[0],x=N[1],v+=N[3],_=N[2]}var R=ee(d.drawStandardTooltipIcons(t,c,{paneId:o,indicatorName:w.name,iconId:""},s,B,y,x,_),4);if(y=R[0],x=R[1],v+=R[3],_=R[2],D){var X=ee(d.drawStandardTooltipLabels(t,c,T,y,x,_,f),4);y=X[0],x=X[1],v+=X[3],_=X[2]}var q=ee(d.drawStandardTooltipIcons(t,c,{paneId:o,indicatorName:w.name,iconId:""},s,M,y,x,_),4);y=0,v+=q[3],x=q[1]+q[2],_=0}})}return v},e.prototype.drawStandardTooltipIcons=function(t,o,i,r,s,a,l,u){var c=this,h=a,p=l,d=0,g=0,v=0;return s.length>0&&(s.forEach(function(f){var y=f.marginLeft,x=f.marginTop,_=f.marginRight,w=f.marginBottom,C=f.paddingLeft,S=f.paddingTop,b=f.paddingRight,T=f.paddingBottom,E=f.size,D=f.icon;t.font=xe(E,"normal",f.fontFamily),d+=y+C+t.measureText(D).width+b+_,g=Math.max(g,x+S+E+T+w)}),h+d>o.width?(h=s[0].marginLeft,p+=u,v=g):v=Math.max(0,g-u),s.forEach(function(f){var y,x=f.marginRight,_=f.paddingLeft,w=f.paddingRight,C=f.icon,S=(r==null?void 0:r.paneId)===i.paneId&&(r==null?void 0:r.indicatorName)===i.indicatorName&&(r==null?void 0:r.iconId)===f.id;(y=c.createFigure("rectText",{text:C,x:h+=f.marginLeft,y:p+f.marginTop},{paddingLeft:_,paddingTop:f.paddingTop,paddingRight:w,paddingBottom:f.paddingBottom,color:S?f.activeColor:f.color,size:f.size,family:f.fontFamily,backgroundColor:S?f.activeBackgroundColor:f.backgroundColor},{mouseClickEvent:c._boundIconClickEvent(i,f.id),mouseMoveEvent:c._boundIconMouseMoveEvent(i,f.id)}))===null||y===void 0||y.draw(t),h+=_+t.measureText(C).width+w+x})),[h,p,Math.max(u,g),v]},e.prototype.drawStandardTooltipLabels=function(t,o,i,r,s,a,l){var u=this,c=r,h=s,p=0,d=0,g=a;if(i.length>0){var v=l.marginLeft,f=l.marginTop,y=l.marginRight,x=l.marginBottom,_=l.size,w=l.family,C=l.weight;t.font=xe(_,C,w),i.forEach(function(S){var b,T,E=S.title,D=S.value,P=t.measureText(E.text).width,B=t.measureText(D.text).width,M=_+f+x;c+v+(P+B)+y>o.width?(c=v,h+=M,d+=M):(c+=v,d+=Math.max(0,M-g)),g=p=Math.max(g,M),E.text.length>0&&((b=u.createFigure("text",{x:c,y:h+f,text:E.text},{color:E.color,size:_,family:w,weight:C}))===null||b===void 0||b.draw(t),c+=P),(T=u.createFigure("text",{x:c,y:h+f,text:D.text},{color:D.color,size:_,family:w,weight:C}))===null||T===void 0||T.draw(t),c+=B+y})}return[c,h,p,d]},e.prototype.isDrawTooltip=function(t,o){var i=o.showRule;return i===m.TooltipShowRule.Always||i===m.TooltipShowRule.FollowCross&&t.paneId!==void 0},e.prototype.getIndicatorTooltipData=function(t,o,i,r,s,a){var l,u,c,h=a.tooltip,p=h.showName?i.shortName:"",d="",g=i.calcParams;g.length>0&&h.showParams&&(d="(".concat(g.join(","),")"));var v={name:p,calcParamsText:d,values:[],icons:h.icons},f=o.dataIndex,y=(l=i.result)!==null&&l!==void 0?l:[],x=[];if(i.visible){var _=(u=y[f])!==null&&u!==void 0?u:{};pt(t,i,f,a,function(k,z){if(k.title!==void 0){var N=z.color,R=_[k.key];Y(R)&&(R=$(R,i.precision),i.shouldFormatBigNumber&&(R=r.formatBigNumber(R))),x.push({title:{text:k.title,color:N},value:{text:Z(R??h.defaultValue,s),color:N}})}}),v.values=x}if(i.createTooltipDataSource!==null){var w=this.getWidget(),C=w.getPane(),S=C.getChart().getChartStore(),b=i.createTooltipDataSource({kLineDataList:t,indicator:i,visibleRange:S.getTimeScaleStore().getVisibleRange(),bounding:w.getBounding(),crosshair:o,defaultStyles:a,xAxis:(c=C.getChart().getPaneById(ne))===null||c===void 0?void 0:c.getAxisComponent(),yAxis:C.getAxisComponent()}),T=b.name,E=b.calcParamsText,D=b.values,P=b.icons;if(T!==void 0&&h.showName&&(v.name=T),E!==void 0&&h.showParams&&(v.calcParamsText=E),P!==void 0&&(v.icons=P),D!==void 0&&i.visible){var B=[],M=a.tooltip.text.color;D.forEach(function(k){var z={text:"",color:M};O(k.title)?z=k.title:z.text=k.title;var N={text:"",color:M};O(k.value)?N=k.value:N.text=k.value,N.text=Z(N.text,s),B.push({title:z,value:N})}),v.values=B}}return v},e.prototype.classifyTooltipIcons=function(t){var o=[],i=[],r=[];return t.forEach(function(s){switch(s.position){case m.TooltipIconPosition.Left:o.push(s);break;case m.TooltipIconPosition.Middle:i.push(s);break;case m.TooltipIconPosition.Right:r.push(s)}}),[o,i,r]},e}(me),co=function(n){function e(t){var o=n.call(this,t)||this;return o._initEvent(),o}return L(e,n),e.prototype._initEvent=function(){var t=this,o=this.getWidget().getPane(),i=o.getId(),r=o.getChart().getChartStore().getOverlayStore();this.registerEvent("mouseMoveEvent",function(s){var a,l=r.getProgressInstanceInfo();if(l!==null){var u=l.instance,c=l.paneId;u.isStart()&&(r.updateProgressInstanceInfo(i),c=i);var h=u.points.length-1,p="".concat(Ye,"point_").concat(h);return u.isDrawing()&&c===i&&(u.eventMoveForDrawing(t._coordinateToPoint(l.instance,s)),(a=u.onDrawing)===null||a===void 0||a.call(u,F({overlay:u,figureKey:p,figureIndex:h},s))),t._figureMouseMoveEvent(u,1,p,h,0)(s)}return r.setHoverInstanceInfo({paneId:i,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},s),!1}).registerEvent("mouseClickEvent",function(s){var a,l,u=r.getProgressInstanceInfo();if(u!==null){var c=u.instance,h=u.paneId;c.isStart()&&(r.updateProgressInstanceInfo(i,!0),h=i);var p=c.points.length-1,d="".concat(Ye,"point_").concat(p);return c.isDrawing()&&h===i&&(c.eventMoveForDrawing(t._coordinateToPoint(c,s)),(a=c.onDrawing)===null||a===void 0||a.call(c,F({overlay:c,figureKey:d,figureIndex:p},s)),c.nextStep(),c.isDrawing()||(r.progressInstanceComplete(),(l=c.onDrawEnd)===null||l===void 0||l.call(c,F({overlay:c,figureKey:d,figureIndex:p},s)))),t._figureMouseClickEvent(c,1,d,p,0)(s)}return r.setClickInstanceInfo({paneId:i,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},s),!1}).registerEvent("mouseDoubleClickEvent",function(s){var a,l=r.getProgressInstanceInfo();if(l!==null){var u=l.instance,c=l.paneId;if(u.isDrawing()&&c===i&&(u.forceComplete(),!u.isDrawing())){r.progressInstanceComplete();var h=u.points.length-1,p="".concat(Ye,"point_").concat(h);(a=u.onDrawEnd)===null||a===void 0||a.call(u,F({overlay:u,figureKey:p,figureIndex:h},s))}return!0}return!1}).registerEvent("mouseRightClickEvent",function(s){var a=r.getProgressInstanceInfo();if(a!==null){var l=a.instance;if(l.isDrawing()){var u=l.points.length-1;return t._figureMouseRightClickEvent(l,1,"".concat(Ye,"point_").concat(u),u,0)(s)}}return!1}).registerEvent("mouseUpEvent",function(s){var a,l=r.getPressedInstanceInfo(),u=l.instance;return u!==null&&((a=u.onPressedMoveEnd)===null||a===void 0||a.call(u,F({overlay:u,figureKey:l.figureKey,figureIndex:l.figureIndex},s))),r.setPressedInstanceInfo({paneId:i,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1}),!1}).registerEvent("pressedMouseMoveEvent",function(s){var a,l,u=r.getPressedInstanceInfo(),c=u.instance,h=u.figureType,p=u.figureIndex;if(c!==null){if(!(c.lock||(l=(a=c.onPressedMoving)===null||a===void 0?void 0:a.call(c,F({overlay:c,figureIndex:p,figureKey:u.figureKey},s)))!==null&&l!==void 0&&l)){var d=t._coordinateToPoint(c,s);h===1?c.eventPressedPointMove(d,p):c.eventPressedOtherMove(d,t.getWidget().getPane().getChart().getChartStore().getTimeScaleStore())}return!0}return!1})},e.prototype._createFigureEvents=function(t,o,i,r,s,a){var l;if(!t.isDrawing()){var u=[];if(a!==void 0&&(Ge(a)?a&&(u=["mouseClickEvent","mouseRightClickEvent","tapEvent","mouseDownEvent","touchStartEvent","mouseMoveEvent","touchMoveEvent"]):u=a),u.length===0)return{mouseMoveEvent:this._figureMouseMoveEvent(t,o,i,r,s),mouseDownEvent:this._figureMouseDownEvent(t,o,i,r,s),mouseClickEvent:this._figureMouseClickEvent(t,o,i,r,s),mouseRightClickEvent:this._figureMouseRightClickEvent(t,o,i,r,s)};l={},u.includes("mouseMoveEvent")||u.includes("touchMoveEvent")||(l.mouseMoveEvent=this._figureMouseMoveEvent(t,o,i,r,s)),u.includes("mouseDownEvent")||u.includes("touchStartEvent")||(l.mouseDownEvent=this._figureMouseDownEvent(t,o,i,r,s)),u.includes("mouseClickEvent")||u.includes("tapEvent")||(l.mouseClickEvent=this._figureMouseClickEvent(t,o,i,r,s)),u.includes("mouseRightClickEvent")||(l.mouseRightClickEvent=this._figureMouseRightClickEvent(t,o,i,r,s))}return l},e.prototype._figureMouseMoveEvent=function(t,o,i,r,s){var a=this;return function(l){var u=a.getWidget().getPane();return u.getChart().getChartStore().getOverlayStore().setHoverInstanceInfo({paneId:u.getId(),instance:t,figureType:o,figureKey:i,figureIndex:r,attrsIndex:s},l),!0}},e.prototype._figureMouseDownEvent=function(t,o,i,r,s){var a=this;return function(l){var u,c=a.getWidget().getPane(),h=c.getId(),p=c.getChart().getChartStore().getOverlayStore();return t.startPressedMove(a._coordinateToPoint(t,l)),(u=t.onPressedMoveStart)===null||u===void 0||u.call(t,F({overlay:t,figureIndex:r,figureKey:i},l)),p.setPressedInstanceInfo({paneId:h,instance:t,figureType:o,figureKey:i,figureIndex:r,attrsIndex:s}),!0}},e.prototype._figureMouseClickEvent=function(t,o,i,r,s){var a=this;return function(l){var u=a.getWidget().getPane(),c=u.getId();return u.getChart().getChartStore().getOverlayStore().setClickInstanceInfo({paneId:c,instance:t,figureType:o,figureKey:i,figureIndex:r,attrsIndex:s},l),!0}},e.prototype._figureMouseRightClickEvent=function(t,o,i,r,s){var a=this;return function(l){var u,c;return(c=(u=t.onRightClick)===null||u===void 0?void 0:u.call(t,F({overlay:t,figureIndex:r,figureKey:i},l)))!==null&&c!==void 0&&c||a.getWidget().getPane().getChart().getChartStore().getOverlayStore().removeInstance(t),!0}},e.prototype._coordinateToPoint=function(t,o){var i,r,s={},a=this.getWidget().getPane(),l=a.getChart(),u=a.getId(),c=l.getChartStore().getTimeScaleStore();if(this.coordinateToPointTimestampDataIndexFlag()){var h=((i=l.getPaneById(ne))===null||i===void 0?void 0:i.getAxisComponent()).convertFromPixel(o.x),p=(r=c.dataIndexToTimestamp(h))!==null&&r!==void 0?r:void 0;s.dataIndex=h,s.timestamp=p}if(this.coordinateToPointValueFlag()){var d=a.getAxisComponent(),g=d.convertFromPixel(o.y);if(t.mode!==m.OverlayMode.Normal&&u===oe&&s.dataIndex!==void 0){var v=c.getDataByDataIndex(s.dataIndex);if(v!==null)if(g>v.high)if(t.mode===m.OverlayMode.WeakMagnet){var f=d.convertToPixel(v.high);d.convertFromPixel(f-8)>g&&(g=v.high)}else g=v.high;else if(v.low>g)if(t.mode===m.OverlayMode.WeakMagnet){var y=d.convertToPixel(v.low);g>d.convertFromPixel(y-8)&&(g=v.low)}else g=v.low;else{var x=Math.max(v.open,v.close),_=Math.min(v.open,v.close);g=g>x?v.high-g>g-x?x:v.high:_>g?_-g>g-v.low?v.low:_:g-_>x-g?x:_}}s.value=g}return s},e.prototype.coordinateToPointValueFlag=function(){return!0},e.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},e.prototype.dispatchEvent=function(t,o,i){return this.getWidget().getPane().getChart().getChartStore().getOverlayStore().isDrawing()?this.onEvent(t,o,i):n.prototype.dispatchEvent.call(this,t,o,i)},e.prototype.checkEventOn=function(){return!0},e.prototype.drawImp=function(t){var o,i=this,r=this.getWidget(),s=r.getPane(),a=s.getId(),l=s.getChart(),u=s.getAxisComponent(),c=(o=l.getPaneById(ne))===null||o===void 0?void 0:o.getAxisComponent(),h=r.getBounding(),p=l.getChartStore(),d=p.getCustomApi(),g=p.getThousandsSeparator(),v=p.getTimeScaleStore(),f=v.getDateTimeFormat(),y=v.getBarSpace(),x=p.getPrecision(),_=p.getStyles().overlay,w=p.getOverlayStore(),C=w.getHoverInstanceInfo(),S=w.getClickInstanceInfo();this.getCompleteOverlays(w,a).forEach(function(E){E.visible&&i._drawOverlay(t,E,h,y,x,f,d,g,_,c,u,C,S,v)});var b=w.getProgressInstanceInfo();if(b!==null){var T=this.getProgressOverlay(b,a);T!==null&&T.visible&&this._drawOverlay(t,T,h,y,x,f,d,g,_,c,u,C,S,v)}},e.prototype._drawOverlay=function(t,o,i,r,s,a,l,u,c,h,p,d,g,v){var f=o.points.map(function(x){var _,w,C=x.dataIndex;x.timestamp!==void 0&&(C=v.timestampToDataIndex(x.timestamp));var S={x:0,y:0};return C!==void 0&&(S.x=(_=h==null?void 0:h.convertToPixel(C))!==null&&_!==void 0?_:0),x.value!==void 0&&(S.y=(w=p==null?void 0:p.convertToPixel(x.value))!==null&&w!==void 0?w:0),S});if(f.length>0){var y=[].concat(this.getFigures(o,f,i,r,s,u,a,c,h,p));this.drawFigures(t,o,y,c)}this.drawDefaultFigures(t,o,f,i,s,a,l,u,c,h,p,d,g)},e.prototype.drawFigures=function(t,o,i,r){var s=this;i.forEach(function(a,l){var u=a.type,c=a.styles,h=a.ignoreEvent;[].concat(a.attrs).forEach(function(p,d){var g,v,f,y=s._createFigureEvents(o,2,(g=a.key)!==null&&g!==void 0?g:"",l,d,h),x=F(F(F({},r[u]),(v=o.styles)===null||v===void 0?void 0:v[u]),c);(f=s.createFigure(u,p,x,y))===null||f===void 0||f.draw(t)})})},e.prototype.getCompleteOverlays=function(t,o){return t.getInstances(o)},e.prototype.getProgressOverlay=function(t,o){return t.paneId===o?t.instance:null},e.prototype.getFigures=function(t,o,i,r,s,a,l,u,c,h){var p,d;return(d=(p=t.createPointFigures)===null||p===void 0?void 0:p.call(t,{overlay:t,coordinates:o,bounding:i,barSpace:r,precision:s,thousandsSeparator:a,dateTimeFormat:l,defaultStyles:u,xAxis:c,yAxis:h}))!==null&&d!==void 0?d:[]},e.prototype.drawDefaultFigures=function(t,o,i,r,s,a,l,u,c,h,p,d,g){var v,f,y=this;if(o.needDefaultPointFigure&&(((v=d.instance)===null||v===void 0?void 0:v.id)===o.id&&d.figureType!==0||((f=g.instance)===null||f===void 0?void 0:f.id)===o.id&&g.figureType!==0)){var x=o.styles,_=F(F({},c.point),x==null?void 0:x.point);i.forEach(function(w,C){var S,b,T,E=w.x,D=w.y,P=_.radius,B=_.color,M=_.borderColor,k=_.borderSize;((S=d.instance)===null||S===void 0?void 0:S.id)===o.id&&d.figureType===1&&d.figureIndex===C&&(P=_.activeRadius,B=_.activeColor,M=_.activeBorderColor,k=_.activeBorderSize),(b=y.createFigure("circle",{x:E,y:D,r:P+k},{color:M},y._createFigureEvents(o,1,"".concat(Ye,"point_").concat(C),C,0)))===null||b===void 0||b.draw(t),(T=y.createFigure("circle",{x:E,y:D,r:P},{color:B}))===null||T===void 0||T.draw(t)})}},e}(me),ho=function(n){function e(t,o){var i=n.call(this,t,o)||this;return i._gridView=new wi(i),i._indicatorView=new Ci(i),i._crosshairLineView=new Si(i),i._tooltipView=i.createTooltipView(),i._overlayView=new co(i),i.addChild(i._tooltipView),i.addChild(i._overlayView),i.getContainer().style.cursor="crosshair",i.registerEvent("mouseMoveEvent",function(){return o.getChart().getChartStore().getTooltipStore().setActiveIconInfo(),!1}),i}return L(e,n),e.prototype.getName=function(){return te},e.prototype.updateMain=function(t){this.updateMainContent(t),this._indicatorView.draw(t),this._gridView.draw(t)},e.prototype.createTooltipView=function(){return new uo(this)},e.prototype.updateMainContent=function(t){},e.prototype.updateOverlay=function(t){this._overlayView.draw(t),this._crosshairLineView.draw(t),this._tooltipView.draw(t)},e}(_t),bi=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.drawImp=function(t){var o,i,r=this.getWidget(),s=r.getPane(),a=s.getChart(),l=r.getBounding(),u=s.getAxisComponent(),c=a.getStyles().candle.area,h=[],p=[],d=Number.MAX_SAFE_INTEGER;this.eachChildren(function(w,C,S){var b=w.x,T=C.halfGapBar,E=w.data[c.value];if(he(E)){var D=u.convertToPixel(E);if(S===0){var P=b-T;p.push({x:P,y:l.height}),p.push({x:P,y:D}),h.push({x:P,y:D})}h.push({x:b,y:D}),p.push({x:b,y:D}),d=Math.min(d,D)}});var g=p.length;if(g>0){var v=p[g-1],f=v.x;h.push({x:f,y:v.y}),p.push({x:f,y:v.y}),p.push({x:f,y:l.height})}if(h.length>0&&((o=this.createFigure("line",{coordinates:h},{color:c.lineColor,size:c.lineSize}))===null||o===void 0||o.draw(t)),p.length>0){var y=c.backgroundColor,x=void 0;if(W(y)){var _=t.createLinearGradient(0,l.height,0,d);try{y.forEach(function(w){_.addColorStop(w.offset,w.color)})}catch{}x=_}else x=y;(i=this.createFigure("polygon",{coordinates:p},{color:x}))===null||i===void 0||i.draw(t)}},e}(St),Ti=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.drawImp=function(t){var o=this.getWidget().getPane(),i=o.getChart().getChartStore(),r=i.getStyles().candle.priceMark,s=r.high,a=r.low;if(r.show&&(s.show||a.show)){var l=i.getThousandsSeparator(),u=i.getPrecision(),c=o.getAxisComponent(),h=Number.MIN_SAFE_INTEGER,p=0,d=Number.MAX_SAFE_INTEGER,g=0;this.eachChildren(function(y){var x=y.data,_=y.x;x.high>h&&(h=x.high,p=_),d>x.low&&(d=x.low,g=_)});var v=c.convertToPixel(h),f=c.convertToPixel(d);s.show&&h!==Number.MIN_SAFE_INTEGER&&this._drawMark(t,Z($(h,u.price),l),{x:p,y:v},f>v?[-2,-5]:[2,5],s),a.show&&d!==Number.MAX_SAFE_INTEGER&&this._drawMark(t,Z($(d,u.price),l),{x:g,y:f},f>v?[2,5]:[-2,-5],a)}},e.prototype._drawMark=function(t,o,i,r,s){var a,l,u,c,h,p,d=i.x,g=i.y+r[0];(a=this.createFigure("line",{coordinates:[{x:d-2,y:g+r[0]},{x:d,y:g},{x:d+2,y:g+r[0]}]},{color:s.color}))===null||a===void 0||a.draw(t),d>this.getWidget().getBounding().width/2?(h=(c=d-5)-s.textOffset,p="right"):(p="left",h=(c=d+5)+s.textOffset);var v=g+r[1];(l=this.createFigure("line",{coordinates:[{x:d,y:g},{x:d,y:v},{x:c,y:v}]},{color:s.color}))===null||l===void 0||l.draw(t),(u=this.createFigure("text",{x:h,y:v,text:o,align:p,baseline:"middle"},{color:s.color,size:s.textSize,family:s.textFamily,weight:s.textWeight}))===null||u===void 0||u.draw(t)},e}(St),Ei=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.drawImp=function(t){var o,i=this.getWidget(),r=i.getPane(),s=i.getBounding(),a=r.getChart().getChartStore(),l=a.getStyles().candle.priceMark,u=l.last,c=u.line;if(l.show&&u.show&&c.show){var h=r.getAxisComponent(),p=a.getDataList(),d=p[p.length-1];if(d!=null){var g=d.close,v=d.open,f=h.convertToNicePixel(g);(o=this.createFigure("line",{coordinates:[{x:0,y:f},{x:s.width,y:f}]},{style:c.style,color:g>v?u.upColor:v>g?u.downColor:u.noChangeColor,size:c.size,dashedValue:c.dashedValue}))===null||o===void 0||o.draw(t)}}},e}(me),ot={"zh-CN":{time:"时间：",open:"开：",high:"高：",low:"低：",close:"收：",volume:"成交量："},"en-US":{time:"Time: ",open:"Open: ",high:"High: ",low:"Low: ",close:"Close: ",volume:"Volume: "}};function De(n,e){var t,o;return(o=(t=ot[e])===null||t===void 0?void 0:t[n])!==null&&o!==void 0?o:n}var Ii=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.drawImp=function(t){var o,i=this.getWidget(),r=i.getPane(),s=r.getId(),a=r.getChart().getChartStore(),l=a.getCrosshairStore().get();if(l.kLineData!==void 0){var u=i.getBounding(),c=(o=r.getYAxisWidget())===null||o===void 0?void 0:o.getBounding(),h=a.getDataList(),p=a.getPrecision(),d=a.getLocale(),g=a.getCustomApi(),v=a.getThousandsSeparator(),f=a.getTooltipStore().getActiveIconInfo(),y=a.getIndicatorStore().getInstances(r.getId()),x=a.getTimeScaleStore().getDateTimeFormat(),_=a.getStyles(),w=_.candle,C=_.indicator;if(w.tooltip.showType===m.TooltipShowType.Rect&&C.tooltip.showType===m.TooltipShowType.Rect){var S=this.isDrawTooltip(l,w.tooltip),b=this.isDrawTooltip(l,C.tooltip);this._drawRectTooltip(t,h,y,u,c,l,p,x,d,g,v,S,b,_,0)}else if(w.tooltip.showType===m.TooltipShowType.Standard&&C.tooltip.showType===m.TooltipShowType.Standard){var T=this._drawCandleStandardTooltip(t,h,s,u,l,f,p,x,d,g,v,w);this.drawIndicatorTooltip(t,s,h,l,f,y,g,v,u,C,T)}else if(w.tooltip.showType===m.TooltipShowType.Rect&&C.tooltip.showType===m.TooltipShowType.Standard){var E=this.drawIndicatorTooltip(t,s,h,l,f,y,g,v,u,C,0);S=this.isDrawTooltip(l,w.tooltip),this._drawRectTooltip(t,h,y,u,c,l,p,x,d,g,v,S,!1,_,E)}else{var D=this._drawCandleStandardTooltip(t,h,s,u,l,f,p,x,d,g,v,w);b=this.isDrawTooltip(l,C.tooltip),this._drawRectTooltip(t,h,y,u,c,l,p,x,d,g,v,!1,b,_,D)}}},e.prototype._drawCandleStandardTooltip=function(t,o,i,r,s,a,l,u,c,h,p,d){var g,v,f,y=d.tooltip,x=y.text,_=0;if(this.isDrawTooltip(s,y)){var w=(g=s.dataIndex)!==null&&g!==void 0?g:0,C=this._getCandleTooltipData({prev:(v=o[w-1])!==null&&v!==void 0?v:null,current:s.kLineData,next:(f=o[w+1])!==null&&f!==void 0?f:null},l,u,c,h,p,d),S=0,b=0,T=0,E=ee(this.classifyTooltipIcons(y.icons),3),D=E[1],P=E[2],B=ee(this.drawStandardTooltipIcons(t,r,{paneId:i,indicatorName:"",iconId:""},a,E[0],S,b,0),4);_+=B[3];var M=ee(this.drawStandardTooltipIcons(t,r,{paneId:i,indicatorName:"",iconId:""},a,D,S=B[0],b=B[1],T=B[2]),4);if(S=M[0],b=M[1],_+=M[3],T=M[2],C.length>0){var k=ee(this.drawStandardTooltipLabels(t,r,C,S,b,T,x),4);S=k[0],b=k[1],_+=k[3],T=k[2]}var z=ee(this.drawStandardTooltipIcons(t,r,{paneId:i,indicatorName:"",iconId:""},a,P,S,b,T),4);S=z[0],b=z[1],_+=z[3],T=z[2]}return _},e.prototype._drawRectTooltip=function(t,o,i,r,s,a,l,u,c,h,p,d,g,v,f){var y,x,_,w,C,S=this,b=v.candle,T=v.indicator,E=b.tooltip,D=T.tooltip;if(d||g){var P=(y=a.dataIndex)!==null&&y!==void 0?y:0,B=this._getCandleTooltipData({prev:(x=o[P-1])!==null&&x!==void 0?x:null,current:a.kLineData,next:(_=o[P+1])!==null&&_!==void 0?_:null},l,u,c,h,p,b),M=E.text,k=M.marginLeft,z=M.marginRight,N=M.marginTop,R=M.marginBottom,X=M.size,q=M.weight,ue=M.family,H=E.rect,J=H.position,ie=H.paddingLeft,Q=H.paddingRight,re=H.paddingTop,we=H.paddingBottom,fe=H.offsetLeft,Pe=H.offsetRight,Ce=H.offsetTop,ae=H.offsetBottom,Se=H.borderSize,ji=H.borderRadius,Ki=H.borderColor,qi=H.color,Ke=0,Fe=0,be=0;d&&(t.font=xe(X,q,ue),B.forEach(function(_e){var se=_e.value,le="".concat(_e.title.text).concat(se.text),ce=t.measureText(le).width+k+z;Ke=Math.max(Ke,ce)}),be+=(R+N+X)*B.length);var Me=D.text,xo=Me.marginLeft,wo=Me.marginRight,Co=Me.marginTop,So=Me.marginBottom,qe=Me.size,Et=Me.weight,It=Me.family,bo=[];if(g&&(t.font=xe(qe,Et,It),i.forEach(function(_e){var se,le=(se=S.getIndicatorTooltipData(o,a,_e,h,p,T).values)!==null&&se!==void 0?se:[];bo.push(le),le.forEach(function(ce){var ke=ce.value,nt="".concat(ce.title.text).concat(ke.text),$i=t.measureText(nt).width+xo+wo;Ke=Math.max(Ke,$i),be+=Co+So+qe})})),(Fe+=Ke)!==0&&be!==0){Fe+=2*Se+ie+Q,be+=2*Se+re+we;var To=J===Ue.Pointer&&a.paneId===oe,Eo=((w=a.realX)!==null&&w!==void 0?w:0)>r.width/2,ye=0;if(To){var Io=a.realX;ye=Eo?Io-Pe-Fe:Io+fe}else Eo?(ye=fe,v.yAxis.inside&&v.yAxis.position===m.YAxisPosition.Left&&(ye+=s.width)):(ye=r.width-Pe-Fe,v.yAxis.inside&&v.yAxis.position===m.YAxisPosition.Right&&(ye-=s.width));var Re=f+Ce;To&&((Re=a.y-be/2)+be>r.height-ae&&(Re=r.height-ae-be),f+Ce>Re&&(Re=f+Ce)),(C=this.createFigure("rect",{x:ye,y:Re,width:Fe,height:be},{style:m.PolygonType.StrokeFill,color:qi,borderColor:Ki,borderSize:Se,borderRadius:ji}))===null||C===void 0||C.draw(t);var Gi=ye+Se+ie+k,Ve=Re+Se+re;if(d&&B.forEach(function(_e){var se,le,ce=_e.title;(se=S.createFigure("text",{x:Gi,y:Ve+=N,text:ce.text},{color:ce.color,size:X,family:ue,weight:q}))===null||se===void 0||se.draw(t);var ke=_e.value;(le=S.createFigure("text",{x:ye+Fe-Se-z-Q,y:Ve,text:ke.text,align:"right"},{color:ke.color,size:X,family:ue,weight:q}))===null||le===void 0||le.draw(t),Ve+=X+R}),g){var Ui=ye+Se+ie+xo;bo.forEach(function(_e){_e.forEach(function(se){var le,ce,ke=se.title,nt=se.value;(le=S.createFigure("text",{x:Ui,y:Ve+=Co,text:ke.text},{color:ke.color,size:qe,family:It,weight:Et}))===null||le===void 0||le.draw(t),(ce=S.createFigure("text",{x:ye+Fe-Se-wo-Q,y:Ve,text:nt.text,align:"right"},{color:nt.color,size:qe,family:It,weight:Et}))===null||ce===void 0||ce.draw(t),Ve+=qe+So})})}}}},e.prototype._getCandleTooltipData=function(t,o,i,r,s,a,l){var u,c,h,p=l.tooltip,d=p.text.color,g=[];if(G(p.custom))((c=(u=p.custom)===null||u===void 0?void 0:u.call(p,t,l))!==null&&c!==void 0?c:[]).forEach(function(x){var _=x.title,w=x.value,C={text:"",color:""};O(_)?C=_:(C.text=_,C.color=d),C.text=De(C.text,r);var S={text:"",color:""};O(w)?S=w:(S.text=w,S.color=d),g.push({title:C,value:S})});else{var v=o.price,f=o.volume,y=t.current;g=[{title:{text:De("time",r),color:d},value:{text:s.formatDate(i,y.timestamp,"YYYY-MM-DD HH:mm",m.FormatDateType.Tooltip),color:d}},{title:{text:De("open",r),color:d},value:{text:Z($(y.open,v),a),color:d}},{title:{text:De("high",r),color:d},value:{text:Z($(y.high,v),a),color:d}},{title:{text:De("low",r),color:d},value:{text:Z($(y.low,v),a),color:d}},{title:{text:De("close",r),color:d},value:{text:Z($(y.close,v),a),color:d}},{title:{text:De("volume",r),color:d},value:{text:Z(s.formatBigNumber($((h=y.volume)!==null&&h!==void 0?h:p.defaultValue,f)),a),color:d}}]}return g},e}(uo),Di=function(n){function e(t,o){var i=n.call(this,t,o)||this;return i._candleBarView=new lo(i),i._candleAreaView=new bi(i),i._candleHighLowPriceView=new Ti(i),i._candleLastPriceLineView=new Ei(i),i.addChild(i._candleBarView),i}return L(e,n),e.prototype.updateMainContent=function(t){this.getPane().getChart().getStyles().candle.type!==m.CandleType.Area?(this._candleBarView.draw(t),this._candleHighLowPriceView.draw(t),this._candleLastPriceLineView.draw(t)):this._candleAreaView.draw(t)},e.prototype.createTooltipView=function(){return new Ii(this)},e}(ho),po=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.drawImp=function(t){var o,i=this,r=this.getWidget(),s=r.getPane(),a=r.getBounding(),l=s.getAxisComponent(),u=this.getAxisStyles(s.getChart().getStyles());if(u.show){u.axisLine.show&&((o=this.createFigure("line",this.createAxisLine(a,u),u.axisLine))===null||o===void 0||o.draw(t));var c=l.getTicks();u.tickLine.show&&this.createTickLines(c,a,u).forEach(function(h){var p;(p=i.createFigure("line",h,u.tickLine))===null||p===void 0||p.draw(t)}),u.tickText.show&&this.createTickTexts(c,a,u).forEach(function(h){var p;(p=i.createFigure("text",h,u.tickText))===null||p===void 0||p.draw(t)})}},e}(me),Pi=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.getAxisStyles=function(t){return t.yAxis},e.prototype.createAxisLine=function(t,o){var i,r=this.getWidget().getPane().getAxisComponent(),s=o.axisLine.size;return{coordinates:[{x:i=r.isFromZero()?s/2:t.width-s,y:0},{x:i,y:t.height}]}},e.prototype.createTickLines=function(t,o,i){var r=this.getWidget().getPane().getAxisComponent(),s=i.axisLine,a=i.tickLine,l=0,u=0;return r.isFromZero()?(l=0,s.show&&(l+=s.size),u=l+a.length):(l=o.width,s.show&&(l-=s.size),u=l-a.length),t.map(function(c){return{coordinates:[{x:l,y:c.coord},{x:u,y:c.coord}]}})},e.prototype.createTickTexts=function(t,o,i){var r=this.getWidget().getPane().getAxisComponent(),s=i.axisLine,a=i.tickLine,l=i.tickText,u=0;r.isFromZero()?(u=l.marginStart,s.show&&(u+=s.size),a.show&&(u+=a.length)):(u=o.width-l.marginEnd,s.show&&(u-=s.size),a.show&&(u-=a.length));var c=this.getWidget().getPane().getAxisComponent().isFromZero()?"left":"right";return t.map(function(h){return{x:u,y:h.coord,text:h.text,align:c,baseline:"middle"}})},e}(po),Fi=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.drawImp=function(t){var o,i=this.getWidget(),r=i.getPane(),s=i.getBounding(),a=r.getChart().getChartStore(),l=a.getStyles().candle.priceMark,u=l.last,c=u.text;if(l.show&&u.show&&c.show){var h=a.getPrecision(),p=r.getAxisComponent(),d=a.getDataList(),g=a.getVisibleDataList(),v=d[d.length-1];if(v!==void 0){var f=v.close,y=v.open,x=p.convertToNicePixel(f),_=void 0;_=f>y?u.upColor:y>f?u.downColor:u.noChangeColor;var w=void 0;if(p.getType()===m.YAxisType.Percentage){var C=g[0].data.close;w="".concat(((f-C)/C*100).toFixed(2),"%")}else w=$(f,h.price);w=Z(w,a.getThousandsSeparator());var S=void 0,b=void 0;p.isFromZero()?(S=0,b="left"):(S=s.width,b="right"),(o=this.createFigure("rectText",{x:S,y:x,text:w,align:b,baseline:"middle"},F(F({},c),{backgroundColor:_})))===null||o===void 0||o.draw(t)}}},e}(me),Mi=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.drawImp=function(t){var o=this,i=this.getWidget(),r=i.getPane(),s=i.getBounding(),a=r.getChart().getChartStore(),l=a.getCustomApi(),u=a.getStyles().indicator,c=u.lastValueMark,h=c.text;if(c.show){var p=r.getAxisComponent(),d=a.getDataList(),g=d.length-1,v=a.getIndicatorStore().getInstances(r.getId()),f=a.getThousandsSeparator();v.forEach(function(y){var x=y.result[g];if(x!==void 0&&y.visible){var _=y.precision;pt(d,y,g,u,function(w,C){var S,b=x[w.key];if(Y(b)){var T=p.convertToNicePixel(b),E=$(b,_);y.shouldFormatBigNumber&&(E=l.formatBigNumber(E)),E=Z(E,f);var D=void 0,P=void 0;p.isFromZero()?(D=0,P="left"):(D=s.width,P="right"),(S=o.createFigure("rectText",{x:D,y:T,text:E,align:P,baseline:"middle"},F(F({},h),{backgroundColor:C.color})))===null||S===void 0||S.draw(t)}})}})}},e}(me),go=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!1},e.prototype.drawDefaultFigures=function(t,o,i,r,s,a,l,u,c,h,p,d,g){this.drawFigures(t,o,this.getDefaultFigures(o,i,r,s,a,l,u,h,p,g),c)},e.prototype.getDefaultFigures=function(t,o,i,r,s,a,l,u,c,h){var p,d,g=[];if(t.needDefaultYAxisFigure&&t.id===((p=h.instance)===null||p===void 0?void 0:p.id)&&h.paneId===this.getWidget().getPane().getId()){var v,f,y=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER;(d=c==null?void 0:c.isFromZero())!==null&&d!==void 0&&d?(v="left",f=0):(v="right",f=i.width),o.forEach(function(_,w){var C=t.points[w];if(C.value!==void 0){y=Math.min(y,_.y),x=Math.max(x,_.y);var S=Z($(C.value,r.price),l);g.push({type:"rectText",attrs:{x:f,y:_.y,text:S,align:v,baseline:"middle"},ignoreEvent:!0})}}),o.length>1&&g.unshift({type:"rect",attrs:{x:0,y,width:i.width,height:x-y},ignoreEvent:!0})}return g},e.prototype.getFigures=function(t,o,i,r,s,a,l,u,c,h){var p,d;return(d=(p=t.createYAxisFigures)===null||p===void 0?void 0:p.call(t,{overlay:t,coordinates:o,bounding:i,barSpace:r,precision:s,thousandsSeparator:a,dateTimeFormat:l,defaultStyles:u,xAxis:c,yAxis:h}))!==null&&d!==void 0?d:[]},e}(co),vo=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.drawImp=function(t){var o,i=this.getWidget(),r=i.getPane(),s=i.getBounding(),a=i.getPane().getChart().getChartStore(),l=a.getCrosshairStore().get(),u=a.getStyles().crosshair;if(l.paneId!==void 0&&this.compare(l,r.getId())&&u.show){var c=this.getDirectionStyles(u),h=c.text;if(c.show&&h.show){var p=r.getAxisComponent(),d=this.getText(l,a,p);t.font=xe(h.size,h.weight,h.family),(o=this.createFigure("rectText",this.getTextAttrs(d,t.measureText(d).width,l,s,p,h),h))===null||o===void 0||o.draw(t)}}},e.prototype.compare=function(t,o){return t.paneId===o},e.prototype.getDirectionStyles=function(t){return t.horizontal},e.prototype.getText=function(t,o,i){var r,s,a,l=i,u=i.convertFromPixel(t.y);if(l.getType()===m.YAxisType.Percentage){var c=(s=(r=o.getVisibleDataList()[0])===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{};a="".concat(((u-c.close)/c.close*100).toFixed(2),"%")}else{var h=o.getIndicatorStore().getInstances(t.paneId),p=0,d=!1;l.isInCandle()?p=o.getPrecision().price:h.forEach(function(g){p=Math.max(g.precision,p),d||(d=g.shouldFormatBigNumber)}),a=$(u,p),d&&(a=o.getCustomApi().formatBigNumber(a))}return Z(a,o.getThousandsSeparator())},e.prototype.getTextAttrs=function(t,o,i,r,s,a){var l,u;return s.isFromZero()?(l=0,u="left"):(l=r.width,u="right"),{x:l,y:i.y,text:t,align:u,baseline:"middle"}},e}(me),ki=function(n){function e(t,o){var i=n.call(this,t,o)||this;return i._yAxisView=new Pi(i),i._candleLastPriceLabelView=new Fi(i),i._indicatorLastValueView=new Mi(i),i._overlayYAxisView=new go(i),i._crosshairHorizontalLabelView=new vo(i),i.getContainer().style.cursor="ns-resize",i.addChild(i._overlayYAxisView),i}return L(e,n),e.prototype.getName=function(){return ve},e.prototype.updateMain=function(t){this._yAxisView.draw(t),this.getPane().getAxisComponent().isInCandle()&&this._candleLastPriceLabelView.draw(t),this._indicatorLastValueView.draw(t)},e.prototype.updateOverlay=function(t){this._overlayYAxisView.draw(t),this._crosshairHorizontalLabelView.draw(t)},e}(_t),mo=function(){function n(e){this._extremum={min:0,max:0,range:0,realMin:0,realMax:0,realRange:0},this._prevExtremum={min:0,max:0,range:0,realMin:0,realMax:0,realRange:0},this._ticks=[],this._autoCalcTickFlag=!0,this._parent=e}return n.prototype.getParent=function(){return this._parent},n.prototype.buildTicks=function(e){return this._autoCalcTickFlag&&(this._extremum=this.calcExtremum()),!(this._prevExtremum.min===this._extremum.min&&this._prevExtremum.max===this._extremum.max&&!e)&&(this._prevExtremum=this._extremum,this._ticks=this.optimalTicks(this._calcTicks()),!0)},n.prototype.getTicks=function(){return this._ticks},n.prototype.setExtremum=function(e){this._autoCalcTickFlag=!1,this._extremum=e},n.prototype.getExtremum=function(){return this._extremum},n.prototype.setAutoCalcTickFlag=function(e){this._autoCalcTickFlag=e},n.prototype.getAutoCalcTickFlag=function(){return this._autoCalcTickFlag},n.prototype._calcTicks=function(){var e=this._extremum,t=e.realMin,o=e.realMax,i=e.realRange,r=[];if(i>=0){var s=ee(this._calcTickInterval(i),2),a=s[0],l=s[1],u=Vt(Math.ceil(t/a)*a,l),c=Vt(Math.floor(o/a)*a,l),h=0,p=u;if(a!==0)for(;c>=p;){var d=p.toFixed(l);r[h]={text:d,coord:0,value:d},++h,p+=a}}return r},n.prototype._calcTickInterval=function(e){var t,o,i,r,s=(o=Math.floor(Ne(t=e/8)),i=Ie(o),t=(1.5>(r=t/i)?1:2.5>r?2:3.5>r?3:4.5>r?4:5.5>r?5:6.5>r?6:8)*i,-20>o?t:+t.toFixed(0>o?-o:0)),a=function(l){var u=""+l,c=u.indexOf("e");if(c>0){var h=+u.slice(c+1);return 0>h?-h:0}var p=u.indexOf(".");return 0>p?0:u.length-1-p}(s);return[s,a]},n}(),Ai=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.calcExtremum=function(){var t,o,i,r,s,a=this.getParent(),l=a.getChart(),u=l.getChartStore(),c=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER,p=[],d=!1,g=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER;u.getIndicatorStore().getInstances(a.getId()).forEach(function(J){var ie,Q,re;d||(d=(ie=J.shouldOhlc)!==null&&ie!==void 0&&ie),f=Math.min(f,J.precision),J.minValue!==null&&(g=Math.min(g,J.minValue)),J.maxValue!==null&&(v=Math.max(v,J.maxValue)),p.push({figures:(Q=J.figures)!==null&&Q!==void 0?Q:[],result:(re=J.result)!==null&&re!==void 0?re:[]})});var y=4,x=this.isInCandle();if(x){var _=u.getPrecision().price;y=f!==Number.MAX_SAFE_INTEGER?Math.min(f,_):_}else f!==Number.MAX_SAFE_INTEGER&&(y=f);var w=u.getVisibleDataList(),C=l.getStyles().candle,S=C.type===m.CandleType.Area,b=C.area.value,T=x&&!S||!x&&d;w.forEach(function(J){var ie=J.dataIndex,Q=J.data;if(T&&(c=Math.min(c,Q.low),h=Math.max(h,Q.high)),x&&S){var re=Q[b];c=Math.min(c,re),h=Math.max(h,re)}p.forEach(function(we){var fe,Pe=(fe=we.result[ie])!==null&&fe!==void 0?fe:{};we.figures.forEach(function(Ce){var ae=Pe[Ce.key];Y(ae)&&(c=Math.min(c,ae),h=Math.max(h,ae))})})}),c!==Number.MAX_SAFE_INTEGER&&h!==Number.MIN_SAFE_INTEGER?(c=Math.min(g,c),h=Math.max(v,h)):(c=0,h=10);var E,D=this.getType();switch(D){case m.YAxisType.Percentage:var P=(t=w[0])===null||t===void 0?void 0:t.data;(P==null?void 0:P.close)!==void 0&&(c=(c-P.close)/P.close*100,h=(h-P.close)/P.close*100),E=.01;break;case m.YAxisType.Log:c=Ne(c),h=Ne(h),E=.05*Ie(-y);break;default:E=Ie(-y)}if(c===h||E>Math.abs(c-h)){var B=g===c,M=v===h;c=B?c:M?c-8*E:c-4*E,h=M?h:B?h+8*E:h+4*E}var k=(i=(o=this.getParent().getYAxisWidget())===null||o===void 0?void 0:o.getBounding().height)!==null&&i!==void 0?i:0,z=a.getOptions().gap,N=(r=z==null?void 0:z.top)!==null&&r!==void 0?r:.2;1>N||(N/=k);var R=(s=z==null?void 0:z.bottom)!==null&&s!==void 0?s:.1;1>R||(R/=k);var X,q,ue,H=Math.abs(h-c);return H=Math.abs((h+=H*N)-(c-=H*R)),D===m.YAxisType.Log?(X=Ie(c),q=Ie(h),ue=Math.abs(q-X)):(X=c,q=h,ue=H),{min:c,max:h,range:H,realMin:X,realMax:q,realRange:ue}},e.prototype._innerConvertToPixel=function(t){var o,i,r=(i=(o=this.getParent().getYAxisWidget())===null||o===void 0?void 0:o.getBounding().height)!==null&&i!==void 0?i:0,s=this.getExtremum(),a=(t-s.min)/s.range;return this.isReverse()?Math.round(a*r):Math.round((1-a)*r)},e.prototype.isInCandle=function(){return this.getParent().getName()==="candle"},e.prototype.getType=function(){return this.isInCandle()?this.getParent().getChart().getStyles().yAxis.type:m.YAxisType.Normal},e.prototype.getPosition=function(){return this.getParent().getChart().getStyles().yAxis.position},e.prototype.isReverse=function(){return!!this.isInCandle()&&this.getParent().getChart().getStyles().yAxis.reverse},e.prototype.isFromZero=function(){var t=this.getParent().getChart().getStyles().yAxis,o=t.inside;return t.position===m.YAxisPosition.Left&&o||t.position===m.YAxisPosition.Right&&!o},e.prototype.optimalTicks=function(t){var o,i,r=this,s=this.getParent(),a=(i=(o=s.getYAxisWidget())===null||o===void 0?void 0:o.getBounding().height)!==null&&i!==void 0?i:0,l=s.getChart().getChartStore(),u=l.getCustomApi(),c=[],h=this.getType(),p=l.getIndicatorStore().getInstances(s.getId()),d=l.getThousandsSeparator(),g=0,v=!1;this.isInCandle()?g=l.getPrecision().price:p.forEach(function(x){g=Math.max(g,x.precision),v||(v=x.shouldFormatBigNumber)});var f,y=l.getStyles().xAxis.tickText.size;return t.forEach(function(x){var _,w=x.value,C=r._innerConvertToPixel(+w);switch(h){case m.YAxisType.Percentage:_="".concat($(w,2),"%");break;case m.YAxisType.Log:C=r._innerConvertToPixel(Ne(+w)),_=$(w,g);break;default:_=$(w,g),v&&(_=u.formatBigNumber(w))}_=Z(_,d),C>y&&a-y>C&&(f!==void 0&&Math.abs(f-C)>2*y||f===void 0)&&(c.push({text:_,coord:C,value:w}),f=C)}),c},e.prototype.getAutoSize=function(){var t=this.getParent(),o=t.getChart(),i=o.getStyles(),r=i.yAxis,s=r.size;if(s!=="auto")return s;var a=o.getChartStore(),l=a.getCustomApi(),u=0;if(r.show&&(r.axisLine.show&&(u+=r.axisLine.size),r.tickLine.show&&(u+=r.tickLine.length),r.tickText.show)){var c=0;this.getTicks().forEach(function(w){c=Math.max(c,ct(w.text,r.tickText.size,r.tickText.weight,r.tickText.family))}),u+=r.tickText.marginStart+r.tickText.marginEnd+c}var h=i.crosshair,p=0;if(h.show&&h.horizontal.show&&h.horizontal.text.show){var d=a.getIndicatorStore().getInstances(t.getId()),g=0,v=!1;d.forEach(function(w){g=Math.max(w.precision,g),v||(v=w.shouldFormatBigNumber)});var f=2;if(this.getType()!==m.YAxisType.Percentage)if(this.isInCandle()){var y=a.getPrecision().price,x=i.indicator.lastValueMark;f=x.show&&x.text.show?Math.max(g,y):y}else f=g;var _=$(this.getExtremum().max,f);v&&(_=l.formatBigNumber(_)),p+=h.horizontal.text.paddingLeft+h.horizontal.text.paddingRight+2*h.horizontal.text.borderSize+ct(_,h.horizontal.text.size,h.horizontal.text.weight,h.horizontal.text.family)}return Math.max(u,p)},e.prototype.convertFromPixel=function(t){var o,i,r,s=(i=(o=this.getParent().getYAxisWidget())===null||o===void 0?void 0:o.getBounding().height)!==null&&i!==void 0?i:0,a=this.getExtremum(),l=a.min,u=a.range,c=(this.isReverse()?t/s:1-t/s)*u+l;switch(this.getType()){case m.YAxisType.Percentage:var h=(r=this.getParent().getChart().getChartStore().getVisibleDataList()[0])===null||r===void 0?void 0:r.data;return(h==null?void 0:h.close)!==void 0?h.close*c/100+h.close:0;case m.YAxisType.Log:return Ie(c);default:return c}},e.prototype.convertToRealValue=function(t){var o=t;return this.getType()===m.YAxisType.Log&&(o=Ie(t)),o},e.prototype.convertToPixel=function(t){var o,i=t;switch(this.getType()){case m.YAxisType.Percentage:var r=(o=this.getParent().getChart().getChartStore().getVisibleDataList()[0])===null||o===void 0?void 0:o.data;(r==null?void 0:r.close)!==void 0&&(i=(t-r.close)/r.close*100);break;case m.YAxisType.Log:i=Ne(t);break;default:i=t}return this._innerConvertToPixel(i)},e.prototype.convertToNicePixel=function(t){var o,i,r=(i=(o=this.getParent().getYAxisWidget())===null||o===void 0?void 0:o.getBounding().height)!==null&&i!==void 0?i:0,s=this.convertToPixel(t);return Math.round(Math.max(.05*r,Math.min(s,.98*r)))},e}(mo),fo=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.getName=function(){return"indicator"},e.prototype.createAxisComponent=function(){return new Ai(this)},e.prototype.createMainWidget=function(t){return new ho(t,this)},e.prototype.createSeparatorWidget=function(t){return new ci(t,this)},e.prototype.creatYAxisWidget=function(t){return new ki(t,this)},e}(Ut),Li=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.getName=function(){return"candle"},e.prototype.createMainWidget=function(t){return new Di(t,this)},e.prototype.createSeparatorWidget=function(){return null},e}(fo),Bi=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.getAxisStyles=function(t){return t.xAxis},e.prototype.createAxisLine=function(t,o){var i=o.axisLine.size/2;return{coordinates:[{x:0,y:i},{x:t.width,y:i}]}},e.prototype.createTickLines=function(t,o,i){var r=i.tickLine,s=i.axisLine.size;return t.map(function(a){return{coordinates:[{x:a.coord,y:0},{x:a.coord,y:s+r.length}]}})},e.prototype.createTickTexts=function(t,o,i){var r=i.tickText,s=i.axisLine.size,a=i.tickLine.length;return t.map(function(l){return{x:l.coord,y:s+a+r.marginStart,text:l.text,align:"center",baseline:"top"}})},e}(po),Ri=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},e.prototype.coordinateToPointValueFlag=function(){return!1},e.prototype.getCompleteOverlays=function(t){return t.getInstances()},e.prototype.getProgressOverlay=function(t){return t.instance},e.prototype.getDefaultFigures=function(t,o,i,r,s,a,l,u,c,h){var p,d=[];if(t.needDefaultXAxisFigure&&t.id===((p=h.instance)===null||p===void 0?void 0:p.id)){var g=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER;o.forEach(function(f,y){g=Math.min(g,f.x),v=Math.max(v,f.x);var x=t.points[y];if(x.timestamp!==void 0){var _=a.formatDate(s,x.timestamp,"YYYY-MM-DD HH:mm",m.FormatDateType.Crosshair);d.push({type:"rectText",attrs:{x:f.x,y:0,text:_,align:"center"},ignoreEvent:!0})}}),o.length>1&&d.unshift({type:"rect",attrs:{x:g,y:0,width:v-g,height:i.height},ignoreEvent:!0})}return d},e.prototype.getFigures=function(t,o,i,r,s,a,l,u,c,h){var p,d;return(d=(p=t.createXAxisFigures)===null||p===void 0?void 0:p.call(t,{overlay:t,coordinates:o,bounding:i,barSpace:r,precision:s,thousandsSeparator:a,dateTimeFormat:l,defaultStyles:u,xAxis:c,yAxis:h}))!==null&&d!==void 0?d:[]},e}(go),Vi=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.compare=function(t){return t.kLineData!==void 0&&t.dataIndex===t.realDataIndex},e.prototype.getDirectionStyles=function(t){return t.vertical},e.prototype.getText=function(t,o){var i,r=(i=t.kLineData)===null||i===void 0?void 0:i.timestamp;return o.getCustomApi().formatDate(o.getTimeScaleStore().getDateTimeFormat(),r,"YYYY-MM-DD HH:mm",m.FormatDateType.Crosshair)},e.prototype.getTextAttrs=function(t,o,i,r,s,a){var l=i.realX;return{x:0>l-o/2-a.paddingLeft?a.paddingLeft+o/2:l+o/2+a.paddingRight>r.width?r.width-a.paddingRight-o/2:l,y:0,text:t,align:"center",baseline:"top"}},e}(vo),zi=function(n){function e(t,o){var i=n.call(this,t,o)||this;return i._xAxisView=new Bi(i),i._overlayXAxisView=new Ri(i),i._crosshairVerticalLabelView=new Vi(i),i.getContainer().style.cursor="ew-resize",i.addChild(i._overlayXAxisView),i}return L(e,n),e.prototype.getName=function(){return ge},e.prototype.updateMain=function(t){this._xAxisView.draw(t)},e.prototype.updateOverlay=function(t){this._overlayXAxisView.draw(t),this._crosshairVerticalLabelView.draw(t)},e}(_t),Oi=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.calcExtremum=function(){var t=this.getParent().getChart().getChartStore().getTimeScaleStore().getVisibleRange(),o=t.from,i=t.to,r=i-1,s=i-o;return{min:o,max:r,range:s,realMin:o,realMax:r,realRange:s}},e.prototype.optimalTicks=function(t){var o,i,r=this.getParent().getChart(),s=r.getChartStore(),a=s.getCustomApi().formatDate,l=[],u=t.length,c=s.getDataList();if(u>0){var h=s.getTimeScaleStore().getDateTimeFormat(),p=r.getStyles().xAxis.tickText,d=ct("00-00 00:00",p.size,p.weight,p.family),g=this.convertToPixel(parseInt(t[0].value,10)),v=1;if(u>1){var f=this.convertToPixel(parseInt(t[1].value,10)),y=Math.abs(f-g);d>y&&(v=Math.ceil(d/y))}for(var x=0;u>x;x+=v){var _=parseInt(t[x].value,10),w=c[_].timestamp,C=a(h,w,"HH:mm",m.FormatDateType.XAxis);x!==0&&(C=(o=this._optimalTickLabel(a,h,w,c[parseInt(t[x-v].value,10)].timestamp))!==null&&o!==void 0?o:C);var S=this.convertToPixel(_);l.push({text:C,coord:S,value:w})}if(l.length===1)l[0].text=a(h,l[0].value,"YYYY-MM-DD HH:mm",m.FormatDateType.XAxis);else{var b=l[0].value,T=l[1].value;if(l[2]!==void 0){var E=l[2].text;/^[0-9]{2}-[0-9]{2}$/.test(E)?l[0].text=a(h,b,"MM-DD",m.FormatDateType.XAxis):/^[0-9]{4}-[0-9]{2}$/.test(E)?l[0].text=a(h,b,"YYYY-MM",m.FormatDateType.XAxis):/^[0-9]{4}$/.test(E)&&(l[0].text=a(h,b,"YYYY",m.FormatDateType.XAxis))}else l[0].text=(i=this._optimalTickLabel(a,h,b,T))!==null&&i!==void 0?i:l[0].text}}return l},e.prototype._optimalTickLabel=function(t,o,i,r){var s=t(o,i,"YYYY",m.FormatDateType.XAxis),a=t(o,i,"YYYY-MM",m.FormatDateType.XAxis),l=t(o,i,"MM-DD",m.FormatDateType.XAxis);return s!==t(o,r,"YYYY",m.FormatDateType.XAxis)?s:a!==t(o,r,"YYYY-MM",m.FormatDateType.XAxis)?a:l!==t(o,r,"MM-DD",m.FormatDateType.XAxis)?l:null},e.prototype.getAutoSize=function(){var t=this.getParent().getChart().getStyles(),o=t.xAxis,i=o.size;if(i!=="auto")return i;var r=t.crosshair,s=0;o.show&&(o.axisLine.show&&(s+=o.axisLine.size),o.tickLine.show&&(s+=o.tickLine.length),o.tickText.show&&(s+=o.tickText.marginStart+o.tickText.marginEnd+o.tickText.size));var a=0;return r.show&&r.vertical.show&&r.vertical.text.show&&(a+=r.vertical.text.paddingTop+r.vertical.text.paddingBottom+2*r.vertical.text.borderSize+r.vertical.text.size),Math.max(s,a)},e.prototype.convertFromPixel=function(t){return this.getParent().getChart().getChartStore().getTimeScaleStore().coordinateToDataIndex(t)},e.prototype.convertToPixel=function(t){return this.getParent().getChart().getChartStore().getTimeScaleStore().dataIndexToCoordinate(t)},e}(mo),Wi=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return L(e,n),e.prototype.getName=function(){return"xAxis"},e.prototype.createAxisComponent=function(){return new Oi(this)},e.prototype.createMainWidget=function(t){return new zi(t,this)},e}(Ut);function yo(){var n;return typeof window<"u"&&((n=window.navigator.userAgent.toLowerCase().indexOf("firefox"))!==null&&n!==void 0?n:-1)>-1}function bt(){return typeof window<"u"&&/iPhone|iPad|iPod/.test(window.navigator.platform)}var Tt,Ni=function(){function n(e,t,o){var i=this;this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:-1/0,y:1/0},this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:-1/0,y:1/0},this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartCoordinate=null,this._touchMoveStartCoordinate=null,this._touchMoveExceededManhattanDistance=!1,this._cancelClick=!1,this._cancelTap=!1,this._unsubscribeOutsideMouseEvents=null,this._unsubscribeOutsideTouchEvents=null,this._unsubscribeMobileSafariEvents=null,this._unsubscribeMousemove=null,this._unsubscribeMouseWheel=null,this._unsubscribeContextMenu=null,this._unsubscribeRootMouseEvents=null,this._unsubscribeRootTouchEvents=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventTouchDragProcess=!1,this._mousePressed=!1,this._lastTouchEventTimeStamp=0,this._activeTouchId=null,this._acceptMouseLeave=!bt(),this._onFirefoxOutsideMouseUp=function(r){i._mouseUpHandler(r)},this._onMobileSafariDoubleClick=function(r){i._firesTouchEvents(r)?(++i._tapCount,i._tapTimeoutId!==null&&i._tapCount>1&&(30>i._mouseTouchMoveWithDownInfo(i._getCoordinate(r),i._tapCoordinate).manhattanDistance&&!i._cancelTap&&i._processEvent(i._makeCompatEvent(r),i._handler.doubleTapEvent),i._resetTapTimeout())):(++i._clickCount,i._clickTimeoutId!==null&&i._clickCount>1&&(5>i._mouseTouchMoveWithDownInfo(i._getCoordinate(r),i._clickCoordinate).manhattanDistance&&!i._cancelClick&&i._processEvent(i._makeCompatEvent(r),i._handler.mouseDoubleClickEvent),i._resetClickTimeout()))},this._target=e,this._handler=t,this._options=o,this._init()}return n.prototype.destroy=function(){this._unsubscribeOutsideMouseEvents!==null&&(this._unsubscribeOutsideMouseEvents(),this._unsubscribeOutsideMouseEvents=null),this._unsubscribeOutsideTouchEvents!==null&&(this._unsubscribeOutsideTouchEvents(),this._unsubscribeOutsideTouchEvents=null),this._unsubscribeMousemove!==null&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),this._unsubscribeMouseWheel!==null&&(this._unsubscribeMouseWheel(),this._unsubscribeMouseWheel=null),this._unsubscribeContextMenu!==null&&(this._unsubscribeContextMenu(),this._unsubscribeContextMenu=null),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null),this._unsubscribeMobileSafariEvents!==null&&(this._unsubscribeMobileSafariEvents(),this._unsubscribeMobileSafariEvents=null),this._clearLongTapTimeout(),this._resetClickTimeout()},n.prototype._mouseEnterHandler=function(e){var t,o,i,r=this;(t=this._unsubscribeMousemove)===null||t===void 0||t.call(this),(o=this._unsubscribeMouseWheel)===null||o===void 0||o.call(this),(i=this._unsubscribeContextMenu)===null||i===void 0||i.call(this);var s=this._mouseMoveHandler.bind(this);this._unsubscribeMousemove=function(){r._target.removeEventListener("mousemove",s)},this._target.addEventListener("mousemove",s);var a=this._mouseWheelHandler.bind(this);this._unsubscribeMouseWheel=function(){r._target.removeEventListener("wheel",a)},this._target.addEventListener("wheel",a,{passive:!1});var l=this._contextMenuHandler.bind(this);this._unsubscribeContextMenu=function(){r._target.removeEventListener("contextmenu",l)},this._target.addEventListener("contextmenu",l,{passive:!1}),this._firesTouchEvents(e)||(this._processEvent(this._makeCompatEvent(e),this._handler.mouseEnterEvent),this._acceptMouseLeave=!0)},n.prototype._resetClickTimeout=function(){this._clickTimeoutId!==null&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:-1/0,y:1/0}},n.prototype._resetTapTimeout=function(){this._tapTimeoutId!==null&&clearTimeout(this._tapTimeoutId),this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:-1/0,y:1/0}},n.prototype._mouseMoveHandler=function(e){this._mousePressed||this._touchMoveStartCoordinate!==null||this._firesTouchEvents(e)||(this._processEvent(this._makeCompatEvent(e),this._handler.mouseMoveEvent),this._acceptMouseLeave=!0)},n.prototype._mouseWheelHandler=function(e){if(Math.abs(e.deltaX)>Math.abs(e.deltaY)){if(this._handler.mouseWheelHortEvent===void 0||(this._preventDefault(e),Math.abs(e.deltaX)===0))return;this._handler.mouseWheelHortEvent(this._makeCompatEvent(e),-e.deltaX)}else{if(this._handler.mouseWheelVertEvent===void 0)return;var t=-e.deltaY/100;if(t===0)return;switch(this._preventDefault(e),e.deltaMode){case e.DOM_DELTA_PAGE:t*=120;break;case e.DOM_DELTA_LINE:t*=32}if(t!==0){var o=Math.sign(t)*Math.min(1,Math.abs(t));this._handler.mouseWheelVertEvent(this._makeCompatEvent(e),o)}}},n.prototype._contextMenuHandler=function(e){this._preventDefault(e)},n.prototype._touchMoveHandler=function(e){var t=this._touchWithId(e.changedTouches,this._activeTouchId);if(t!==null&&(this._lastTouchEventTimeStamp=this._eventTimeStamp(e),this._startPinchMiddleCoordinate===null&&!this._preventTouchDragProcess)){this._pinchPrevented=!0;var o=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._touchMoveStartCoordinate),i=o.yOffset;if(this._touchMoveExceededManhattanDistance||o.manhattanDistance>=5){if(!this._touchMoveExceededManhattanDistance){var r=.5*o.xOffset,s=i>=r&&!this._options.treatVertDragAsPageScroll(),a=r>i&&!this._options.treatHorzDragAsPageScroll();s||a||(this._preventTouchDragProcess=!0),this._touchMoveExceededManhattanDistance=!0,this._cancelTap=!0,this._clearLongTapTimeout(),this._resetTapTimeout()}this._preventTouchDragProcess||this._processEvent(this._makeCompatEvent(e,t),this._handler.touchMoveEvent)}}},n.prototype._mouseMoveWithDownHandler=function(e){e.button===0&&(5>this._mouseTouchMoveWithDownInfo(this._getCoordinate(e),this._mouseMoveStartCoordinate).manhattanDistance||(this._cancelClick=!0,this._resetClickTimeout()),this._cancelClick&&this._processEvent(this._makeCompatEvent(e),this._handler.pressedMouseMoveEvent))},n.prototype._mouseTouchMoveWithDownInfo=function(e,t){var o=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return{xOffset:o,yOffset:i,manhattanDistance:o+i}},n.prototype._touchEndHandler=function(e){var t=this._touchWithId(e.changedTouches,this._activeTouchId);if(t===null&&e.touches.length===0&&(t=e.changedTouches[0]),t!==null){this._activeTouchId=null,this._lastTouchEventTimeStamp=this._eventTimeStamp(e),this._clearLongTapTimeout(),this._touchMoveStartCoordinate=null,this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var o=this._makeCompatEvent(e,t);this._processEvent(o,this._handler.touchEndEvent),++this._tapCount,this._tapTimeoutId!==null&&this._tapCount>1?(30>this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._tapCoordinate).manhattanDistance&&!this._cancelTap&&this._processEvent(o,this._handler.doubleTapEvent),this._resetTapTimeout()):this._cancelTap||(this._processEvent(o,this._handler.tapEvent),this._handler.tapEvent!==void 0&&this._preventDefault(e)),this._tapCount===0&&this._preventDefault(e),e.touches.length===0&&this._longTapActive&&(this._longTapActive=!1,this._preventDefault(e))}},n.prototype._mouseUpHandler=function(e){if(e.button===0){var t=this._makeCompatEvent(e);this._mouseMoveStartCoordinate=null,this._mousePressed=!1,this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),yo()&&this._target.ownerDocument.documentElement.removeEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._firesTouchEvents(e)||(this._processEvent(t,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId!==null&&this._clickCount>1?(5>this._mouseTouchMoveWithDownInfo(this._getCoordinate(e),this._clickCoordinate).manhattanDistance&&!this._cancelClick&&this._processEvent(t,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()):this._cancelClick||this._processEvent(t,this._handler.mouseClickEvent))}},n.prototype._clearLongTapTimeout=function(){this._longTapTimeoutId!==null&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)},n.prototype._touchStartHandler=function(e){if(this._activeTouchId===null){var t=e.changedTouches[0];this._activeTouchId=t.identifier,this._lastTouchEventTimeStamp=this._eventTimeStamp(e);var o=this._target.ownerDocument.documentElement;this._cancelTap=!1,this._touchMoveExceededManhattanDistance=!1,this._preventTouchDragProcess=!1,this._touchMoveStartCoordinate=this._getCoordinate(t),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var i=this._touchMoveHandler.bind(this),r=this._touchEndHandler.bind(this);this._unsubscribeRootTouchEvents=function(){o.removeEventListener("touchmove",i),o.removeEventListener("touchend",r)},o.addEventListener("touchmove",i,{passive:!1}),o.addEventListener("touchend",r,{passive:!1}),this._clearLongTapTimeout(),this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,e),500),this._processEvent(this._makeCompatEvent(e,t),this._handler.touchStartEvent),this._tapTimeoutId===null&&(this._tapCount=0,this._tapTimeoutId=setTimeout(this._resetTapTimeout.bind(this),500),this._tapCoordinate=this._getCoordinate(t))}},n.prototype._mouseDownHandler=function(e){if(e.button===2)return this._preventDefault(e),void this._processEvent(this._makeCompatEvent(e),this._handler.mouseRightClickEvent);if(e.button===0){var t=this._target.ownerDocument.documentElement;yo()&&t.addEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._cancelClick=!1,this._mouseMoveStartCoordinate=this._getCoordinate(e),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null);var o=this._mouseMoveWithDownHandler.bind(this),i=this._mouseUpHandler.bind(this);this._unsubscribeRootMouseEvents=function(){t.removeEventListener("mousemove",o),t.removeEventListener("mouseup",i)},t.addEventListener("mousemove",o),t.addEventListener("mouseup",i),this._mousePressed=!0,this._firesTouchEvents(e)||(this._processEvent(this._makeCompatEvent(e),this._handler.mouseDownEvent),this._clickTimeoutId===null&&(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500),this._clickCoordinate=this._getCoordinate(e)))}},n.prototype._init=function(){var e=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));var t=this._target.ownerDocument,o=function(i){e._handler.mouseDownOutsideEvent!=null&&(i.composed&&e._target.contains(i.composedPath()[0])||i.target!==null&&e._target.contains(i.target)||e._handler.mouseDownOutsideEvent({x:0,y:0,pageX:0,pageY:0}))};this._unsubscribeOutsideTouchEvents=function(){t.removeEventListener("touchstart",o)},this._unsubscribeOutsideMouseEvents=function(){t.removeEventListener("mousedown",o)},t.addEventListener("mousedown",o),t.addEventListener("touchstart",o,{passive:!0}),bt()&&(this._unsubscribeMobileSafariEvents=function(){e._target.removeEventListener("dblclick",e._onMobileSafariDoubleClick)},this._target.addEventListener("dblclick",this._onMobileSafariDoubleClick)),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._touchStartHandler.bind(this),{passive:!0}),this._target.addEventListener("mousedown",function(i){if(i.button===1)return i.preventDefault(),!1}),this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",function(){},{passive:!1})},n.prototype._initPinch=function(){var e=this;this._handler.pinchStartEvent===void 0&&this._handler.pinchEvent===void 0&&this._handler.pinchEndEvent===void 0||(this._target.addEventListener("touchstart",function(t){return e._checkPinchState(t.touches)},{passive:!0}),this._target.addEventListener("touchmove",function(t){if(t.touches.length===2&&e._startPinchMiddleCoordinate!==null&&e._handler.pinchEvent!==void 0){var o=e._getTouchDistance(t.touches[0],t.touches[1])/e._startPinchDistance;e._handler.pinchEvent(F(F({},e._startPinchMiddleCoordinate),{pageX:0,pageY:0}),o),e._preventDefault(t)}},{passive:!1}),this._target.addEventListener("touchend",function(t){e._checkPinchState(t.touches)}))},n.prototype._checkPinchState=function(e){e.length===1&&(this._pinchPrevented=!1),e.length!==2||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(e)},n.prototype._startPinch=function(e){var t,o=(t=this._target.getBoundingClientRect())!==null&&t!==void 0?t:{left:0,top:0};this._startPinchMiddleCoordinate={x:(e[0].clientX-o.left+(e[1].clientX-o.left))/2,y:(e[0].clientY-o.top+(e[1].clientY-o.top))/2},this._startPinchDistance=this._getTouchDistance(e[0],e[1]),this._handler.pinchStartEvent!==void 0&&this._handler.pinchStartEvent({x:0,y:0,pageX:0,pageY:0}),this._clearLongTapTimeout()},n.prototype._stopPinch=function(){this._startPinchMiddleCoordinate!==null&&(this._startPinchMiddleCoordinate=null,this._handler.pinchEndEvent!==void 0&&this._handler.pinchEndEvent({x:0,y:0,pageX:0,pageY:0}))},n.prototype._mouseLeaveHandler=function(e){var t,o,i;(t=this._unsubscribeMousemove)===null||t===void 0||t.call(this),(o=this._unsubscribeMouseWheel)===null||o===void 0||o.call(this),(i=this._unsubscribeContextMenu)===null||i===void 0||i.call(this),this._firesTouchEvents(e)||this._acceptMouseLeave&&(this._processEvent(this._makeCompatEvent(e),this._handler.mouseLeaveEvent),this._acceptMouseLeave=!bt())},n.prototype._longTapHandler=function(e){var t=this._touchWithId(e.touches,this._activeTouchId);t!==null&&(this._processEvent(this._makeCompatEvent(e,t),this._handler.longTapEvent),this._cancelTap=!0,this._longTapActive=!0)},n.prototype._firesTouchEvents=function(e){var t;return((t=e.sourceCapabilities)===null||t===void 0?void 0:t.firesTouchEvents)!==void 0?e.sourceCapabilities.firesTouchEvents:this._eventTimeStamp(e)<this._lastTouchEventTimeStamp+500},n.prototype._processEvent=function(e,t){t==null||t.call(this._handler,e)},n.prototype._makeCompatEvent=function(e,t){var o,i=this,r=t??e,s=(o=this._target.getBoundingClientRect())!==null&&o!==void 0?o:{left:0,top:0};return{x:r.clientX-s.left,y:r.clientY-s.top,pageX:r.pageX,pageY:r.pageY,isTouch:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",preventDefault:function(){e.type!=="touchstart"&&i._preventDefault(e)}}},n.prototype._getTouchDistance=function(e,t){var o=e.clientX-t.clientX,i=e.clientY-t.clientY;return Math.sqrt(o*o+i*i)},n.prototype._preventDefault=function(e){e.cancelable&&e.preventDefault()},n.prototype._getCoordinate=function(e){return{x:e.pageX,y:e.pageY}},n.prototype._eventTimeStamp=function(e){var t;return(t=e.timeStamp)!==null&&t!==void 0?t:performance.now()},n.prototype._touchWithId=function(e,t){for(var o=0;e.length>o;++o)if(e[o].identifier===t)return e[o];return null},n}(),Yi=function(){function n(e,t){var o=this;this._flingStartTime=new Date().getTime(),this._flingScrollRequestId=null,this._startScrollCoordinate=null,this._touchCoordinate=null,this._touchCancelCrosshair=!1,this._touchZoomed=!1,this._pinchScale=1,this._mouseDownWidget=null,this._prevYAxisExtremum=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,this._mouseMoveTriggerWidgetInfo={pane:null,widget:null},this._boundKeyBoardDownEvent=function(i){if(i.shiftKey)switch(i.code){case"Equal":o._chart.getChartStore().getTimeScaleStore().zoom(.5);break;case"Minus":o._chart.getChartStore().getTimeScaleStore().zoom(-.5);break;case"ArrowLeft":(r=o._chart.getChartStore().getTimeScaleStore()).startScroll(),r.scroll(-3*r.getBarSpace().bar);break;case"ArrowRight":var r;(r=o._chart.getChartStore().getTimeScaleStore()).startScroll(),r.scroll(3*r.getBarSpace().bar)}},this._container=e,this._chart=t,this._event=new Ni(e,this,{treatVertDragAsPageScroll:function(){return!1},treatHorzDragAsPageScroll:function(){return!1}}),e.addEventListener("keydown",this._boundKeyBoardDownEvent)}return n.prototype.pinchStartEvent=function(){return this._touchZoomed=!0,this._pinchScale=1,!0},n.prototype.pinchEvent=function(e,t){var o=this._findWidgetByEvent(e),i=o.pane,r=o.widget;if((i==null?void 0:i.getId())!==ne&&(r==null?void 0:r.getName())===te){var s=this._makeWidgetEvent(e,r),a=5*(t-this._pinchScale);return this._pinchScale=t,this._chart.getChartStore().getTimeScaleStore().zoom(a,{x:s.x,y:s.y}),!0}return!1},n.prototype.mouseWheelHortEvent=function(e,t){var o=this._chart.getChartStore().getTimeScaleStore();return o.startScroll(),o.scroll(t),!0},n.prototype.mouseWheelVertEvent=function(e,t){var o,i,r=this._findWidgetByEvent(e).widget,s=(o=e.isTouch)!==null&&o!==void 0&&o,a=this._makeWidgetEvent(e,r),l=null,u=r==null?void 0:r.getName();if(s)if(u===te||u===ge)l={x:a.x,y:a.y};else{var c=(i=this._chart.getPaneById(oe))===null||i===void 0?void 0:i.getBounding();l={x:c.width/2,y:c.height/2}}else u===te&&(l={x:a.x,y:a.y});return l!==null&&(this._chart.getChartStore().getTimeScaleStore().zoom(t,{x:a.x,y:a.y}),!0)},n.prototype.mouseDownEvent=function(e){var t,o,i=this._findWidgetByEvent(e),r=i.pane,s=i.widget;if(this._mouseDownWidget=s,s!==null){var a=this._makeWidgetEvent(e,s);switch(s.getName()){case Xe:return s.dispatchEvent("mouseDownEvent",a);case te:var l=(t=r==null?void 0:r.getAxisComponent().getExtremum())!==null&&t!==void 0?t:null;return this._prevYAxisExtremum=l===null?l:F({},l),this._startScrollCoordinate={x:a.x,y:a.y},this._chart.getChartStore().getTimeScaleStore().startScroll(),s.dispatchEvent("mouseDownEvent",a);case ge:return(u=s.dispatchEvent("mouseDownEvent",a))&&this._chart.updatePane(1),this._xAxisStartScaleCoordinate={x:a.x,y:a.y},this._xAxisStartScaleDistance=a.pageX,u;case ve:var u;return(u=s.dispatchEvent("mouseDownEvent",a))&&this._chart.updatePane(1),l=(o=r==null?void 0:r.getAxisComponent().getExtremum())!==null&&o!==void 0?o:null,this._prevYAxisExtremum=l===null?l:F({},l),this._yAxisStartScaleDistance=a.pageY,u}}return!1},n.prototype.mouseMoveEvent=function(e){var t,o,i,r=this._findWidgetByEvent(e),s=r.pane,a=r.widget,l=this._makeWidgetEvent(e,a);if(((t=this._mouseMoveTriggerWidgetInfo.pane)===null||t===void 0?void 0:t.getId())===(s==null?void 0:s.getId())&&((o=this._mouseMoveTriggerWidgetInfo.widget)===null||o===void 0?void 0:o.getName())===(a==null?void 0:a.getName())||(a==null||a.dispatchEvent("mouseEnterEvent",l),(i=this._mouseMoveTriggerWidgetInfo.widget)===null||i===void 0||i.dispatchEvent("mouseLeaveEvent",l),this._mouseMoveTriggerWidgetInfo={pane:s,widget:a}),a!==null)switch(a.getName()){case te:var u=a.dispatchEvent("mouseMoveEvent",l),c=this._chart.getChartStore(),h={x:l.x,y:l.y,paneId:s==null?void 0:s.getId()};return u&&c.getTooltipStore().getActiveIconInfo()!==null&&(h=void 0,a!==null&&(a.getContainer().style.cursor="pointer")),this._chart.getChartStore().getCrosshairStore().set(h),u;case Xe:case ge:case ve:return u=a.dispatchEvent("mouseMoveEvent",l),this._chart.getChartStore().getCrosshairStore().set(),u}return!1},n.prototype.pressedMouseMoveEvent=function(e){var t,o,i,r;if(this._mouseDownWidget!==null&&this._mouseDownWidget.getName()===Xe)return this._mouseDownWidget.dispatchEvent("pressedMouseMoveEvent",e);var s=this._findWidgetByEvent(e),a=s.pane,l=s.widget;if(l!==null&&((t=this._mouseDownWidget)===null||t===void 0?void 0:t.getPane().getId())===(a==null?void 0:a.getId())&&((o=this._mouseDownWidget)===null||o===void 0?void 0:o.getName())===l.getName()){var u=this._makeWidgetEvent(e,l);switch(l.getName()){case te:var c=l.getBounding();if(!(_=l.dispatchEvent("pressedMouseMoveEvent",u))&&this._startScrollCoordinate!==null){var h=a==null?void 0:a.getAxisComponent();if(this._prevYAxisExtremum!==null&&!h.getAutoCalcTickFlag()){var p=this._prevYAxisExtremum,d=p.min,g=p.max+(S=(w=p.range)*(C=((i=h==null?void 0:h.isReverse())!==null&&i!==void 0&&i?this._startScrollCoordinate.y-u.y:u.y-this._startScrollCoordinate.y)/c.height)),v=h.convertToRealValue(E=d+S),f=h.convertToRealValue(g);h.setExtremum({min:E,max:g,range:g-E,realMin:v,realMax:f,realRange:f-v})}var y=u.x-this._startScrollCoordinate.x;this._chart.getChartStore().getTimeScaleStore().scroll(y)}return this._chart.getChartStore().getCrosshairStore().set({x:u.x,y:u.y,paneId:a==null?void 0:a.getId()}),_;case ge:if(_=l.dispatchEvent("pressedMouseMoveEvent",u))this._chart.updatePane(1);else{var x=10*((C=this._xAxisStartScaleDistance/u.pageX)-this._xAxisScale);this._xAxisScale=C,this._chart.getChartStore().getTimeScaleStore().zoom(x,(r=this._xAxisStartScaleCoordinate)!==null&&r!==void 0?r:void 0)}return _;case ve:var _;if(_=l.dispatchEvent("pressedMouseMoveEvent",u))this._chart.updatePane(1);else if(this._prevYAxisExtremum!==null){var w,C,S,b=this._prevYAxisExtremum,T=(w=b.range)*(C=u.pageY/this._yAxisStartScaleDistance),E=(d=b.min)-(S=(T-w)/2);g=b.max+S,v=(h=a==null?void 0:a.getAxisComponent()).convertToRealValue(E),f=h.convertToRealValue(g),h.setExtremum({min:E,max:g,range:T,realMin:v,realMax:f,realRange:f-v}),this._chart.adjustPaneViewport(!1,!0,!0,!0)}return _}}return!1},n.prototype.mouseUpEvent=function(e){var t=this._findWidgetByEvent(e).widget,o=!1;if(t!==null){var i=this._makeWidgetEvent(e,t);switch(t.getName()){case te:case Xe:case ge:case ve:o=t.dispatchEvent("mouseUpEvent",i)}o&&this._chart.updatePane(1)}return this._mouseDownWidget=null,this._startScrollCoordinate=null,this._prevYAxisExtremum=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,o},n.prototype.mouseClickEvent=function(e){var t=this._findWidgetByEvent(e).widget;if(t!==null){var o=this._makeWidgetEvent(e,t);return t.dispatchEvent("mouseClickEvent",o)}return!1},n.prototype.mouseRightClickEvent=function(e){var t=this._findWidgetByEvent(e).widget,o=!1;if(t!==null){var i=this._makeWidgetEvent(e,t);switch(t.getName()){case te:case ge:case ve:o=t.dispatchEvent("mouseRightClickEvent",i)}o&&this._chart.updatePane(1)}return!1},n.prototype.mouseDoubleClickEvent=function(e){var t=this._findWidgetByEvent(e),o=t.pane,i=t.widget;if(i!==null)switch(i.getName()){case te:var r=this._makeWidgetEvent(e,i);return i.dispatchEvent("mouseDoubleClickEvent",r);case ve:var s=o==null?void 0:o.getAxisComponent();if(!s.getAutoCalcTickFlag())return s.setAutoCalcTickFlag(!0),this._chart.adjustPaneViewport(!1,!0,!0,!0),!0}return!1},n.prototype.mouseLeaveEvent=function(){return this._chart.getChartStore().getCrosshairStore().set(),!0},n.prototype.touchStartEvent=function(e){var t=this._findWidgetByEvent(e),o=t.pane,i=t.widget;if(i!==null){var r=this._makeWidgetEvent(e,i);switch(i.getName()){case te:var s=this._chart.getChartStore(),a=s.getCrosshairStore();if(i.dispatchEvent("mouseDownEvent",r))return this._touchCancelCrosshair=!0,this._touchCoordinate=null,a.set(void 0,!0),this._chart.updatePane(1),!0;if(this._flingScrollRequestId!==null&&(clearTimeout(this._flingScrollRequestId),this._flingScrollRequestId=null),this._flingStartTime=new Date().getTime(),this._startScrollCoordinate={x:r.x,y:r.y},s.getTimeScaleStore().startScroll(),this._touchZoomed=!1,this._touchCoordinate!==null){var l=r.x-this._touchCoordinate.x,u=r.y-this._touchCoordinate.y;10>Math.sqrt(l*l+u*u)?(this._touchCoordinate={x:r.x,y:r.y},a.set({x:r.x,y:r.y,paneId:o==null?void 0:o.getId()})):(this._touchCoordinate=null,this._touchCancelCrosshair=!0,a.set())}return!0;case ge:case ve:var c=i.dispatchEvent("mouseDownEvent",r);return c&&this._chart.updatePane(1),c}}return!1},n.prototype.touchMoveEvent=function(e){var t,o,i,r=this._findWidgetByEvent(e),s=r.pane,a=r.widget;if(a!==null){var l=this._makeWidgetEvent(e,a),u=a.getName(),c=this._chart.getChartStore(),h=c.getCrosshairStore();switch(u){case te:if(a.dispatchEvent("pressedMouseMoveEvent",l))return(t=l.preventDefault)===null||t===void 0||t.call(l),h.set(void 0,!0),this._chart.updatePane(1),!0;if(this._touchCoordinate!==null)(o=l.preventDefault)===null||o===void 0||o.call(l),h.set({x:l.x,y:l.y,paneId:s==null?void 0:s.getId()});else if(this._startScrollCoordinate!==null&&Math.abs(this._startScrollCoordinate.x-l.x)>this._startScrollCoordinate.y-l.y){var p=l.x-this._startScrollCoordinate.x;c.getTimeScaleStore().scroll(p)}return!0;case ge:case ve:var d=a.dispatchEvent("pressedMouseMoveEvent",l);return d&&((i=l.preventDefault)===null||i===void 0||i.call(l),this._chart.updatePane(1)),d}}return!1},n.prototype.touchEndEvent=function(e){var t=this,o=this._findWidgetByEvent(e).widget;if(o!==null){var i=this._makeWidgetEvent(e,o);switch(o.getName()){case te:if(o.dispatchEvent("mouseUpEvent",i),this._startScrollCoordinate!==null){var r=new Date().getTime()-this._flingStartTime,s=(i.x-this._startScrollCoordinate.x)/(r>0?r:1)*20;if(200>r&&Math.abs(s)>0){var a=this._chart.getChartStore().getTimeScaleStore(),l=function(){t._flingScrollRequestId=ft(function(){a.startScroll(),a.scroll(s),1>Math.abs(s*=.975)?t._flingScrollRequestId!==null&&(yt(t._flingScrollRequestId),t._flingScrollRequestId=null):l()})};l()}}return!0;case ge:case ve:o.dispatchEvent("mouseUpEvent",i)&&this._chart.updatePane(1)}}return!1},n.prototype.tapEvent=function(e){var t=this._findWidgetByEvent(e),o=t.pane,i=t.widget,r=!1;if(i!==null){var s=this._makeWidgetEvent(e,i),a=i.dispatchEvent("mouseClickEvent",s);if(i.getName()===te){var l=this._makeWidgetEvent(e,i),u=this._chart.getChartStore().getCrosshairStore();a?(this._touchCancelCrosshair=!0,this._touchCoordinate=null,u.set(void 0,!0),r=!0):(this._touchCancelCrosshair||this._touchZoomed||(this._touchCoordinate={x:l.x,y:l.y},u.set({x:l.x,y:l.y,paneId:o==null?void 0:o.getId()},!0),r=!0),this._touchCancelCrosshair=!1)}(r||a)&&this._chart.updatePane(1)}return r},n.prototype.doubleTapEvent=function(e){return this.mouseDoubleClickEvent(e)},n.prototype.longTapEvent=function(e){var t=this._findWidgetByEvent(e),o=t.pane,i=t.widget;if(i!==null&&i.getName()===te){var r=this._makeWidgetEvent(e,i);return this._touchCoordinate={x:r.x,y:r.y},this._chart.getChartStore().getCrosshairStore().set({x:r.x,y:r.y,paneId:o==null?void 0:o.getId()}),!0}return!1},n.prototype._findWidgetByEvent=function(e){var t,o,i=this._chart.getAllPanes(),r=e.x,s=e.y,a=null;try{for(var l=We(i),u=l.next();!u.done;u=l.next()){var c=ee(u.value,2)[1],h=c.getBounding();if(!(h.left>r||r>h.left+h.width||h.top>s||s>h.top+h.height)){a=c;break}}}catch(_){t={error:_}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(t)throw t.error}}a===null&&(a=this._chart.getPaneById(ne));var p=null;if(a!==null){var d=a.getSeparatorWidget();if(d!==null){var g=d.getBounding();g.left>r||r>g.left+g.width||g.top>s||s>g.top+7||(p=d)}if(p===null){var v=a.getMainWidget(),f=v.getBounding();f.left>r||r>f.left+f.width||f.top>s||s>f.top+f.height||(p=v)}if(p===null){var y=a.getYAxisWidget();if(y!==null){var x=y.getBounding();x.left>r||r>x.left+x.width||x.top>s||s>x.top+x.height||(p=y)}}}return{pane:a,widget:p}},n.prototype._makeWidgetEvent=function(e,t){var o,i,r,s=(o=t==null?void 0:t.getBounding())!==null&&o!==void 0?o:null;return F(F({},e),{x:e.x-((i=s==null?void 0:s.left)!==null&&i!==void 0?i:0),y:e.y-((r=s==null?void 0:s.top)!==null&&r!==void 0?r:0)})},n.prototype.destroy=function(){this._container.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._event.destroy()},n}();m.DomPosition=void 0,(Tt=m.DomPosition||(m.DomPosition={})).Root="root",Tt.Main="main",Tt.YAxis="yAxis";var _o=function(){function n(e,t){this._panes=new Map,this._initContainer(e),this._chartEvent=new Yi(this._chartContainer,this),this._chartStore=new gi(this,t),this._xAxisPane=new Wi(this._chartContainer,this,ne),this._panes.set(oe,new Li(this._chartContainer,this,oe)),this.adjustPaneViewport(!0,!0,!0)}return n.prototype._initContainer=function(e){this._container=e,this._chartContainer=pe("div",{position:"relative",width:"100%",outline:"none",borderStyle:"none",cursor:"crosshair",boxSizing:"border-box",userSelect:"none",webkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent"}),this._chartContainer.tabIndex=1,e.appendChild(this._chartContainer)},n.prototype._measurePaneHeight=function(){var e,t=this._container.offsetHeight,o=this._xAxisPane.getAxisComponent().getAutoSize(),i=t-o;0>i&&(i=0);var r=0;this._panes.forEach(function(l){if(l.getId()!==oe){var u=l.getBounding().height,c=l.getOptions().minHeight;c>u&&(u=c),r+u>i?u=Math.max(i-(r=i),0):r+=u,l.setBounding({height:u})}});var s=i-r;(e=this._panes.get(oe))===null||e===void 0||e.setBounding({height:s});var a=0;this._panes.forEach(function(l){l.setBounding({top:a}),a+=l.getBounding().height}),this._xAxisPane.setBounding({height:o,top:a})},n.prototype._measurePaneWidth=function(){var e=this._chartStore.getStyles().yAxis,t=e.position===m.YAxisPosition.Left,o=!e.inside,i=this._container.offsetWidth,r=0,s=Number.MIN_SAFE_INTEGER,a=0,l=0;this._panes.forEach(function(p){s=Math.max(s,p.getAxisComponent().getAutoSize())}),s>i&&(s=i),o?(r=i-s,t?(a=0,l=s):(a=i-s,l=0)):(r=i,l=0,a=t?0:i-s),this._chartStore.getTimeScaleStore().setTotalBarSpace(r);var u={width:i},c={width:r,left:l},h={width:s,left:a};this._panes.forEach(function(p){p.setBounding(u,c,h)}),this._xAxisPane.setBounding(u,c,h)},n.prototype._setPaneOptions=function(e,t){var o,i,r=this._panes.get((o=e==null?void 0:e.id)!==null&&o!==void 0?o:""),s=!1;if(r!==void 0){var a=t;if(e.id!==oe&&e.height!==void 0&&e.height>0){var l=Math.max((i=e.minHeight)!==null&&i!==void 0?i:r.getOptions().minHeight,0);r.setBounding({height:Math.max(l,e.height)}),a=!0,s=!0}r.setOptions(e),a&&this.adjustPaneViewport(s,!0,!0,!0,!0)}},n.prototype.getContainer=function(){return this._container},n.prototype.getChartStore=function(){return this._chartStore},n.prototype.getAllPanes=function(){return this._panes},n.prototype.adjustPaneViewport=function(e,t,o,i,r){e&&this._measurePaneHeight();var s=t,a=r!=null&&r;(i!=null&&i||a)&&this._panes.forEach(function(l){var u=l.getAxisComponent().buildTicks(a);s||(s=u)}),s&&this._measurePaneWidth(),o!=null&&o&&(this._xAxisPane.getAxisComponent().buildTicks(!0),this.updatePane(4))},n.prototype.updatePane=function(e,t){var o;t!==void 0?(o=this.getPaneById(t))===null||o===void 0||o.update(e):(this._xAxisPane.update(e),this._panes.forEach(function(i){i.update(e)}))},n.prototype.getPaneById=function(e){var t;return e===ne?this._xAxisPane:(t=this._panes.get(e))!==null&&t!==void 0?t:null},n.prototype.crosshairChange=function(e){var t=this,o=this._chartStore.getActionStore();if(o.has(m.ActionType.OnCrosshairChange)){var i={};this._panes.forEach(function(r,s){var a={};t._chartStore.getIndicatorStore().getInstances(s).forEach(function(l){var u,c=l.result;a[l.name]=c[(u=e.dataIndex)!==null&&u!==void 0?u:c.length-1]}),i[s]=a}),e.paneId!==void 0&&o.execute(m.ActionType.OnCrosshairChange,F(F({},e),{indicatorData:i}))}},n.prototype.getDom=function(e,t){var o,i;if(e===void 0)return this._chartContainer;var r=this.getPaneById(e);if(r!==null)switch(t??m.DomPosition.Root){case m.DomPosition.Root:return r.getContainer();case m.DomPosition.Main:return r.getMainWidget().getContainer();case m.DomPosition.YAxis:return(i=(o=r.getYAxisWidget())===null||o===void 0?void 0:o.getContainer())!==null&&i!==void 0?i:null}return null},n.prototype.getSize=function(e,t){var o,i;if(e===void 0)return{width:this._chartContainer.offsetWidth,height:this._chartContainer.offsetHeight,left:0,top:0,right:0,bottom:0};var r=this.getPaneById(e);if(r!==null)switch(t??m.DomPosition.Root){case m.DomPosition.Root:return r.getBounding();case m.DomPosition.Main:return r.getMainWidget().getBounding();case m.DomPosition.YAxis:return(i=(o=r.getYAxisWidget())===null||o===void 0?void 0:o.getBounding())!==null&&i!==void 0?i:null}return null},n.prototype.setStyles=function(e){var t,o,i;this._chartStore.setOptions({styles:e}),((t=(i=de(e)?Zt(e):e)==null?void 0:i.yAxis)===null||t===void 0?void 0:t.type)!==void 0&&((o=this.getPaneById(oe))===null||o===void 0||o.getAxisComponent().setAutoCalcTickFlag(!0)),this.adjustPaneViewport(!0,!0,!0,!0,!0)},n.prototype.getStyles=function(){return this._chartStore.getStyles()},n.prototype.setLocale=function(e){this._chartStore.setOptions({locale:e}),this.adjustPaneViewport(!0,!0,!0,!0,!0)},n.prototype.getLocale=function(){return this._chartStore.getLocale()},n.prototype.setCustomApi=function(e){this._chartStore.setOptions({customApi:e}),this.adjustPaneViewport(!0,!0,!0,!0,!0)},n.prototype.setPriceVolumePrecision=function(e,t){this._chartStore.setPrecision({price:e,volume:t})},n.prototype.getPriceVolumePrecision=function(){return this._chartStore.getPrecision()},n.prototype.setTimezone=function(e){this._chartStore.setOptions({timezone:e}),this._xAxisPane.getAxisComponent().buildTicks(!0),this._xAxisPane.update(3)},n.prototype.getTimezone=function(){return this._chartStore.getTimeScaleStore().getTimezone()},n.prototype.setOffsetRightDistance=function(e){this._chartStore.getTimeScaleStore().setOffsetRightDistance(e,!0)},n.prototype.getOffsetRightDistance=function(){return this._chartStore.getTimeScaleStore().getOffsetRightDistance()},n.prototype.setLeftMinVisibleBarCount=function(e){e>0&&this._chartStore.getTimeScaleStore().setLeftMinVisibleBarCount(Math.ceil(e))},n.prototype.setRightMinVisibleBarCount=function(e){e>0&&this._chartStore.getTimeScaleStore().setRightMinVisibleBarCount(Math.ceil(e))},n.prototype.setBarSpace=function(e){this._chartStore.getTimeScaleStore().setBarSpace(e)},n.prototype.getBarSpace=function(){return this._chartStore.getTimeScaleStore().getBarSpace().bar},n.prototype.getVisibleRange=function(){return this._chartStore.getTimeScaleStore().getVisibleRange()},n.prototype.clearData=function(){this._chartStore.clearDataList()},n.prototype.getDataList=function(){return this._chartStore.getDataList()},n.prototype.applyNewData=function(e,t,o){this._chartStore.clearDataList(),e.length===0?this.adjustPaneViewport(!1,!0,!0,!0):this.applyMoreData(e,t,o)},n.prototype.applyMoreData=function(e,t,o){var i=this;this._chartStore.addData(e,0,t),e.length>0&&this._chartStore.getIndicatorStore().calcInstance().then(function(r){i.adjustPaneViewport(!1,!0,!0,!0),o==null||o()}).catch(function(r){})},n.prototype.updateData=function(e,t){var o=this,i=this._chartStore.getDataList(),r=i.length,s=e.timestamp,a=K(i[r-1],"timestamp",0);if(s>=a){var l=r;s===a&&(l=r-1),this._chartStore.addData(e,l),this._chartStore.getIndicatorStore().calcInstance().then(function(u){o.adjustPaneViewport(!1,!0,!0,!0),t==null||t()}).catch(function(u){})}},n.prototype.loadMore=function(e){this._chartStore.getTimeScaleStore().setLoadMoreCallback(e)},n.prototype.createIndicator=function(e,t,o,i){var r,s,a,l=this,u=de(e)?{name:e}:e;if(Wt(u.name)===null)return null;if((o==null?void 0:o.id)!==void 0&&this._panes.has(o.id))a=o.id,this._chartStore.getIndicatorStore().addInstance(u,a,t!=null&&t).then(function(d){var g,v;l._setPaneOptions(o,(v=(g=l._panes.get(a))===null||g===void 0?void 0:g.getAxisComponent().buildTicks(!0))!==null&&v!==void 0&&v)}).catch(function(d){});else{a=(r=o==null?void 0:o.id)!==null&&r!==void 0?r:Rt(hi);var c=Array.from(this._panes.values()).pop(),h=new fo(this._chartContainer,this,a,c);c.setBottomPane(h);var p=(s=o==null?void 0:o.height)!==null&&s!==void 0?s:100;h.setBounding({height:p}),o!=null&&h.setOptions(o),this._panes.set(a,h),this._chartStore.getIndicatorStore().addInstance(u,a,t!=null&&t).finally(function(){l.adjustPaneViewport(!0,!0,!0,!0,!0),i==null||i()})}return a},n.prototype.overrideIndicator=function(e,t,o){var i=this;this._chartStore.getIndicatorStore().override(e,t??null).then(function(r){var s=ee(r,2),a=s[1];(s[0]||a)&&(i.adjustPaneViewport(!1,a,!0,a),o==null||o())}).catch(function(){})},n.prototype.getIndicatorByPaneId=function(e,t){return this._chartStore.getIndicatorStore().getInstanceByPaneId(e,t)},n.prototype.removeIndicator=function(e,t){var o=this._chartStore.getIndicatorStore();if(o.removeInstance(e,t)){var i=!1;if(e!==oe&&!o.hasInstances(e)){var r=this._panes.get(e);if(r!==void 0){i=!0;var s=r.getTopPane(),a=r.getBottomPane();a==null||a.setTopPane(s),s==null||s.setBottomPane(a),r==null||r.destroy(),this._panes.delete(e)}}this.adjustPaneViewport(i,!0,!0,!0,!0)}},n.prototype.createOverlay=function(e,t){var o=de(e)?{name:e}:e;if(Kt(o.name)===null)return null;var i=!0;return t!==void 0&&this.getPaneById(t)!==null||(t=oe,i=!1),this._chartStore.getOverlayStore().addInstance(o,t,i)},n.prototype.getOverlayById=function(e){return this._chartStore.getOverlayStore().getInstanceById(e)},n.prototype.overrideOverlay=function(e){this._chartStore.getOverlayStore().override(e)},n.prototype.removeOverlay=function(e){var t;e!==void 0&&(t=de(e)?{id:e}:e),this._chartStore.getOverlayStore().removeInstance(t)},n.prototype.setPaneOptions=function(e){this._setPaneOptions(e,!1)},n.prototype.setZoomEnabled=function(e){this._chartStore.getTimeScaleStore().setZoomEnabled(e)},n.prototype.isZoomEnabled=function(){return this._chartStore.getTimeScaleStore().getZoomEnabled()},n.prototype.setScrollEnabled=function(e){this._chartStore.getTimeScaleStore().setScrollEnabled(e)},n.prototype.isScrollEnabled=function(){return this._chartStore.getTimeScaleStore().getScrollEnabled()},n.prototype.scrollByDistance=function(e,t){var o=t===void 0||0>t?0:t,i=this._chartStore.getTimeScaleStore();if(o>0){i.startScroll();var r=new Date().getTime(),s=function(){var a=(new Date().getTime()-r)/o,l=a>=1;i.scroll(l?e:e*a),l||requestAnimationFrame(s)};s()}else i.startScroll(),i.scroll(e)},n.prototype.scrollToRealTime=function(e){var t=this._chartStore.getTimeScaleStore(),o=t.getBarSpace().bar,i=t.getOffsetRightBarCount()-t.getInitialOffsetRightDistance()/o;this.scrollByDistance(i*o,e)},n.prototype.scrollToDataIndex=function(e,t){var o=this._chartStore.getTimeScaleStore(),i=(o.getOffsetRightBarCount()+(this.getDataList().length-1-e))*o.getBarSpace().bar;this.scrollByDistance(i,t)},n.prototype.scrollToTimestamp=function(e,t){var o=ht(this.getDataList(),"timestamp",e);this.scrollToDataIndex(o,t)},n.prototype.zoomAtCoordinate=function(e,t,o){var i=o===void 0||0>o?0:o,r=this._chartStore.getTimeScaleStore();if(i>0){var s=r.getBarSpace().bar,a=s*e-s,l=new Date().getTime(),u=function(){var c=(new Date().getTime()-l)/i,h=c>=1;r.zoom((h?a:a*c)/s,t),h||requestAnimationFrame(u)};u()}else r.zoom(e,t)},n.prototype.zoomAtDataIndex=function(e,t,o){var i=this._chartStore.getTimeScaleStore().dataIndexToCoordinate(t);this.zoomAtCoordinate(e,{x:i,y:0},o)},n.prototype.zoomAtTimestamp=function(e,t,o){var i=ht(this.getDataList(),"timestamp",t);this.zoomAtDataIndex(e,i,o)},n.prototype.convertToPixel=function(e,t){var o,i=t.paneId,r=i===void 0?oe:i,s=t.absolute,a=s!==void 0&&s,l=[];if(r!==ne){var u=this.getPaneById(r);if(u!==null){var c=this._chartStore.getTimeScaleStore(),h=u.getBounding(),p=[].concat(e),d=this._xAxisPane.getAxisComponent(),g=u.getAxisComponent();l=p.map(function(v){var f={},y=v.dataIndex;if(v.timestamp!==void 0&&(y=c.timestampToDataIndex(v.timestamp)),y!==void 0&&(f.x=d==null?void 0:d.convertToPixel(y)),v.value!==void 0){var x=g==null?void 0:g.convertToPixel(v.value);f.y=a?h.top+x:x}return f})}}return W(e)?l:(o=l[0])!==null&&o!==void 0?o:{}},n.prototype.convertFromPixel=function(e,t){var o,i=t.paneId,r=i===void 0?oe:i,s=t.absolute,a=s!==void 0&&s,l=[];if(r!==ne){var u=this.getPaneById(r);if(u!==null){var c=this._chartStore.getTimeScaleStore(),h=u.getBounding(),p=[].concat(e),d=this._xAxisPane.getAxisComponent(),g=u.getAxisComponent();l=p.map(function(v){var f,y={};if(v.x!==void 0){var x=d.convertFromPixel(v.x);y.dataIndex=x,y.timestamp=(f=c.dataIndexToTimestamp(x))!==null&&f!==void 0?f:void 0}return v.y!==void 0&&(y.value=g.convertFromPixel(a?v.y-h.top:v.y)),y})}}return W(e)?l:(o=l[0])!==null&&o!==void 0?o:{}},n.prototype.executeAction=function(e,t){var o;if(e===m.ActionType.OnCrosshairChange){var i=F({},t);i.paneId=(o=i.paneId)!==null&&o!==void 0?o:oe,this._chartStore.getCrosshairStore().set(i)}},n.prototype.subscribeAction=function(e,t){this._chartStore.getActionStore().subscribe(e,t)},n.prototype.unsubscribeAction=function(e,t){this._chartStore.getActionStore().unsubscribe(e,t)},n.prototype.getConvertPictureUrl=function(e,t,o){var i=this._chartContainer.offsetWidth,r=this._chartContainer.offsetHeight,s=pe("canvas",{width:"".concat(i,"px"),height:"".concat(r,"px"),boxSizing:"border-box"}),a=s.getContext("2d"),l=Ee(s);s.width=i*l,s.height=r*l,a.scale(l,l),a.fillStyle=o??"#FFFFFF",a.fillRect(0,0,i,r);var u=e!=null&&e;this._panes.forEach(function(h){var p=h.getBounding();a.drawImage(h.getImage(u),0,p.top,i,p.height)});var c=this._xAxisPane.getBounding();return a.drawImage(this._xAxisPane.getImage(u),0,c.top,i,c.height),s.toDataURL("image/".concat(t??"jpeg"))},n.prototype.resize=function(){this.adjustPaneViewport(!0,!0,!0,!0,!0)},n.prototype.destroy=function(){this._chartEvent.destroy(),this._panes.forEach(function(e){e.destroy()}),this._panes.clear(),this._xAxisPane.destroy(),this._container.removeChild(this._chartContainer)},n}(),it={},Hi=1,Xi={clone:V,merge:j,isString:de,isNumber:he,isValid:Y,isObject:O,isArray:W,isFunction:G,isBoolean:Ge,formatValue:K,formatPrecision:$,formatBigNumber:Lt,formatDate:At,formatThousands:Z,getLinearSlopeIntercept:et,getLinearYFromSlopeIntercept:vt,getLinearYFromCoordinates:He,checkCoordinateOnArc:ao,checkCoordinateOnCircle:Qt,checkCoordinateOnLine:Ht,checkCoordinateOnPolygon:to,checkCoordinateOnRect:io,checkCoordinateOnText:wt,drawArc:so,drawCircle:eo,drawLine:Xt,drawPolygon:oo,drawRect:xt,drawText:Ct,drawRectText:ro};m.dispose=function(n){var e,t;if(de(n)){var o=document.getElementById(n);t=(e=o==null?void 0:o.getAttribute("chartId"))!==null&&e!==void 0?e:null}else t=n instanceof _o?n.id:n??n.chartId;t!==null&&(it[t].destroy(),delete it[t])},m.getFigureClass=function(n){var e;return(e=je[n])!==null&&e!==void 0?e:null},m.getSupportedFigures=function(){return Object.keys(je)},m.getSupportedIndicators=function(){return Object.keys(Qe)},m.getSupportedLocales=function(){return Object.keys(ot)},m.getSupportedOverlays=function(){return Object.keys(tt)},m.init=function(n,e){var t,o;if((o=de(n)?document.getElementById(n):n)===null)return null;var i=it[(t=o.chartId)!==null&&t!==void 0?t:""];if(i!==void 0)return i;var r="k_line_chart_".concat(Hi++);return(i=new _o(o,e)).id=r,o.chartId=r,it[r]=i,i},m.registerFigure=function(n){je[n.name]=Jt.extend(n)},m.registerIndicator=function(n){Qe[n.name]=Ot.extend(n)},m.registerLocale=function(n,e){ot[n]=F(F({},ot[n]),e)},m.registerOverlay=function(n){tt[n.name]=Nt.extend(n)},m.registerStyles=function(n,e){$t[n]=e},m.utils=Xi,m.version=function(){return"9.2.2"}})})(Pt,Pt.exports);var un=Pt.exports;No.exports=un;var A=No.exports;const ko={up:"#15bb7a",up_opacity:"rgba(21, 187, 122, 0.6)",down:"#d2334d",down_opacity:"rgba(210, 51, 77, 0.6)",family:"Helvetica Neue",text_size:10,crosshair:"#fff",crosshair_bg:"#4c525e"},Ao={light:{...ko,background:"#fff",grid:"rgba(243, 245, 247, 0.7)",price_mark:"#81858c",cross_line:"rgba(16, 16, 20, 0.6)",scales_text:"#81858c",scales_line:"#e9edf2",tooltip_color:"#81858c"},dark:{...ko,background:"#101014",grid:"rgba(32, 33, 36, 0.7)",price_mark:"#adb1b8",cross_line:"rgba(255, 255, 255, 0.6)",scales_text:"#adb1b8",scales_line:"#404347",tooltip_color:"#adb1b8"}};var Oe=(U=>(U.Dark="dark",U.Light="light",U))(Oe||{});const Lo=U=>{const I=Ao[U]||Ao.dark;return{grid:{show:!0,horizontal:{show:!0,size:1,color:I.grid,style:A.LineType.Dashed,dashedValue:[2,2]},vertical:{show:!0,size:1,color:I.grid,style:A.LineType.Dashed,dashedValue:[2,2]}},candle:{type:A.CandleType.CandleSolid,bar:{upColor:I.up,downColor:I.down,noChangeColor:I.up,upBorderColor:I.up,downBorderColor:I.down,noChangeBorderColor:I.up,upWickColor:I.up,downWickColor:I.down,noChangeWickColor:I.up},area:{lineSize:2,lineColor:"#2196F3",value:"close",backgroundColor:[{offset:0,color:"rgba(33, 150, 243, 0.01)"},{offset:1,color:"rgba(33, 150, 243, 0.2)"}]},priceMark:{show:!0,high:{show:!0,color:I.price_mark,textOffset:4,textSize:I.text_size,textFamily:I.family,textWeight:"normal"},low:{show:!0,color:I.price_mark,textOffset:4,textSize:I.text_size,textFamily:I.family,textWeight:"normal"},last:{show:!0,upColor:I.up,downColor:I.down,noChangeColor:I.up,line:{show:!0,style:A.LineType.Dashed,dashedValue:[4,4],size:.4},text:{show:!0,style:A.PolygonType.Fill,size:I.text_size,paddingLeft:7,paddingTop:3,paddingRight:5,paddingBottom:2,borderStyle:A.LineType.Solid,borderSize:1,borderDashedValue:[2,2],color:"#FFFFFF",family:I.family,weight:"normal",borderRadius:2}}},tooltip:{showRule:A.TooltipShowRule.Always,showType:A.TooltipShowType.Standard,custom:null,defaultValue:"n/a",rect:{position:"fixed",paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:6,offsetLeft:10,offsetTop:8,offsetRight:10,offsetBottom:8,borderRadius:4,borderSize:1,borderColor:"#f2f3f5",color:"#FEFEFE"},text:{size:11,family:I.family,weight:"normal",color:I.tooltip_color,marginLeft:12,marginTop:12,marginRight:-6,marginBottom:0},icons:[]}},indicator:{ohlc:{upColor:I.up_opacity,downColor:I.down_opacity,noChangeColor:I.up_opacity},bars:[{style:A.PolygonType.Fill,borderStyle:A.LineType.Solid,borderSize:1,borderDashedValue:[2,2],upColor:I.up_opacity,downColor:I.down_opacity,noChangeColor:I.up_opacity}],lines:[{style:A.LineType.Solid,smooth:!1,size:.4,dashedValue:[2,2],color:"#FF9600"},{style:A.LineType.Solid,smooth:!1,size:.4,dashedValue:[2,2],color:"#935EBD"},{style:A.LineType.Solid,smooth:!1,size:.4,dashedValue:[2,2],color:"#2196F3"},{style:A.LineType.Solid,smooth:!1,size:.4,dashedValue:[2,2],color:"#E11D74"},{style:A.LineType.Solid,smooth:!1,size:.4,dashedValue:[2,2],color:"#01C5C4"}],circles:[{style:A.PolygonType.Fill,borderStyle:A.LineType.Solid,borderSize:1,borderDashedValue:[2,2],upColor:I.up_opacity,downColor:I.down_opacity,noChangeColor:I.up_opacity}],lastValueMark:{show:!1,text:{show:!1,style:A.PolygonType.Fill,color:"#FFFFFF",size:I.text_size,family:I.family,weight:"normal",borderStyle:A.LineType.Solid,borderSize:1,borderDashedValue:[2,2],paddingLeft:7,paddingTop:3,paddingRight:5,paddingBottom:2,borderRadius:2}},tooltip:{showRule:A.TooltipShowRule.Always,showType:A.TooltipShowType.Standard,showName:!0,showParams:!0,defaultValue:"n/a",text:{size:12,family:I.family,weight:"normal",color:I.tooltip_color,marginTop:12,marginRight:-6,marginBottom:0,marginLeft:12},icons:[]}},xAxis:{show:!0,size:"auto",axisLine:{show:!0,color:I.scales_line,size:1},tickText:{show:!0,color:I.scales_text,family:I.family,weight:"normal",size:I.text_size,marginStrat:3,marginBottom:6},tickLine:{show:!0,size:1,length:3,color:I.scales_line}},yAxis:{show:!0,size:"auto",position:A.YAxisPosition.Right,type:A.YAxisType.Normal,inside:!1,reverse:!1,axisLine:{show:!0,color:I.scales_line,size:1},tickText:{show:!0,color:I.scales_text,family:I.family,weight:"normal",size:I.text_size,marginStrat:3,marginBottom:6},tickLine:{show:!0,size:1,length:3,color:I.scales_line}},separator:{size:1,color:I.scales_line,fill:!0,activeBackgroundColor:"rgba(230, 230, 230, .15)"},crosshair:{show:!0,horizontal:{show:!0,line:{show:!0,style:A.LineType.Dashed,dashedValue:[6,6],size:1,color:I.cross_line},text:{show:!0,style:A.PolygonType.Fill,color:I.crosshair,size:I.text_size,family:I.family,weight:"normal",borderStyle:A.LineType.Solid,borderDashedValue:[2,2],borderSize:1,borderColor:I.crosshair_bg,borderRadius:2,paddingLeft:7,paddingRight:5,paddingTop:3,paddingBottom:2,backgroundColor:I.crosshair_bg}},vertical:{show:!0,line:{show:!0,style:A.LineType.Dashed,dashedValue:[6,6],size:1,color:"#888888"},text:{show:!0,style:A.PolygonType.Fill,color:"#FFFFFF",size:I.text_size,family:"Helvetica Neue",weight:"normal",borderStyle:A.LineType.Solid,borderDashedValue:[2,2],borderSize:1,borderColor:I.crosshair_bg,borderRadius:2,paddingLeft:2,paddingRight:2,paddingTop:3,paddingBottom:2,backgroundColor:I.crosshair_bg}}},overlay:{point:{color:"#1677FF",borderColor:"rgba(22, 119, 255, 0.35)",borderSize:1,radius:5,activeColor:"#1677FF",activeBorderColor:"rgba(22, 119, 255, 0.35)",activeBorderSize:3,activeRadius:5},line:{style:A.LineType.Solid,smooth:!1,color:"#1677FF",size:1,dashedValue:[2,2]},rect:{style:A.PolygonType.Fill,color:"rgba(22, 119, 255, 0.25)",borderColor:"#1677FF",borderSize:1,borderRadius:0,borderStyle:A.LineType.Solid,borderDashedValue:[2,2]},polygon:{style:A.PolygonType.Fill,color:"#1677FF",borderColor:"#1677FF",borderSize:1,borderStyle:A.LineType.Solid,borderDashedValue:[2,2]},circle:{style:A.PolygonType.Fill,color:"rgba(22, 119, 255, 0.25)",borderColor:"#1677FF",borderSize:1,borderStyle:A.LineType.Solid,borderDashedValue:[2,2]},arc:{style:A.LineType.Solid,color:"#1677FF",size:1,dashedValue:[2,2]},text:{color:"#1677FF",size:12,family:"Helvetica Neue",weight:"normal"},rectText:{style:A.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:A.LineType.Solid,borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:"#1677FF",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#1677FF"}}}},cn={indicator:"Indicators",type:{bar:"Bars",candle:"Candles",hollow_candle:"Hollow Candles",avg_candle:"Heikin Ashi",line:"Line",area:"Area",base_line:"BaseLine"},ohlc:{o:"O",h:"H",l:"L",c:"C"},timezone:{utc:"UTC","-10":"Honolulu","-9":"Juneau","-8":"Los Angeles","-7":"Phoenix","-6":"Mexico City","-5":"New York","-4":"Caracas","-3":"Sao Paulo","+0":"London","+1":"Paris","+2":"Cairo","+3":"Moscow","+3:30":"Tehran","+4":"Dubai","+5":"Ashkhabad","+5:30":"Kolkata","+6":"Almaty","+7":"Bangkok","+8":"Shanghai","+9":"Tokyo","+10":"Brisbane","+10:30":"Adelaide","+11":"Sydney","+12":"Norfolk Island","+13":"New Zealand","+13:45":"Chatham Islands"}},Bo={"en-US":cn,"zh-CN":{indicator:"指标",type:{bar:"美国线",candle:"K线图",hollow_candle:"空心K线图",avg_candle:"平均K线图",line:"线形图",area:"面积图",base_line:"基准线"},ohlc:{o:"开=",h:"高=",l:"低=",c:"收="},timezone:{utc:"世界统一时间","-10":"檀香山","-9":"朱诺","-8":"洛杉矶","-7":"菲尼克斯","-6":"墨西哥城","-5":"纽约","-4":"加拉加斯","-3":"圣保罗","+0":"伦敦","+1":"巴黎","+2":"开罗","+3":"莫斯科","+3:30":"德黑兰","+4":"迪拜","+5":"阿什哈巴德","+5:30":"加尔各答","+6":"阿拉木图","+7":"曼谷","+8":"上海","+9":"东京","+10":"布里斯班","+10:30":"阿德莱德","+11":"悉尼","+12":"诺福克岛","+13":"新西兰","+13:45":"查塔姆群岛"}},"zh-TW":{indicator:"技術指標",type:{bar:"美國線",candle:"K線",hollow_candle:"空心蠟燭線",avg_candle:"平均K線",line:"線形圖",area:"區域圖",base_line:"基準線"},ohlc:{o:"開=",h:"高=",l:"低=",c:"收="},timezone:{utc:"世界統一時間","-10":"檀香山","-9":"朱諾","-8":"洛杉磯","-7":"菲尼克斯","-6":"墨西哥城","-5":"紐約","-4":"加拉加斯","-3":"聖保羅","+0":"倫敦","+1":"巴黎","+2":"開羅","+3":"莫斯科","+3:30":"德黑蘭","+4":"迪拜","+5":"阿什哈巴德","+5:30":"加爾各答","+6":"阿拉木圖","+7":"曼谷","+8":"上海","+9":"東京","+10":"布里斯班","+10:30":"阿德萊德","+11":"悉尼","+12":"諾福克島","+13":"新西蘭","+13:45":"查塔姆群島"}}},hn=U=>Bo[U]||Bo["en-US"],dn=U=>{const{data:I,pricePrecision:m,locale:j}=U,{ohlc:V}=hn(j),W=Wo(I.close,I.open),G=sn(ln(W,I.open),100),O=Oo(W,0)?U.downColor:U.upColor,he=`${Mo(W,0)?"+":""}${ze(W,m,7)}`,Y=`(${Mo(G,0)?"+":""}${ze(G,2,7)}%)`;return[{title:V.o,value:{text:ze(I.open,m),color:O}},{title:V.h,value:{text:ze(I.high,m),color:O}},{title:V.l,value:{text:ze(I.low,m),color:O}},{title:V.c,value:{text:ze(I.close,m),color:O}},{title:"",value:{text:`${he} ${Y}`,color:O}}]},pn=(U,I)=>{if(typeof U=="string"&&!U.length)throw new Error("Dom id 不能为空");const m=Lo((I==null?void 0:I.theme)||Oe.Dark);I!=null&&I.theme&&delete I.theme;const j={locale:"zh-CN",thousandsSeparator:"",styles:m,...I},V=A.init(U,j);return V?(V.$updateTooltip=()=>{const{candle:W}=V.getStyles();W.tooltip.custom=({current:G},{bar:O})=>{const he={data:G,pricePrecision:V.getPriceVolumePrecision().price,locale:V.getLocale(),upColor:O.upColor,downColor:O.downColor};return dn(he)},V.setStyles({candle:W})},V.$setTheme=W=>{const G=Lo(W);G&&V.setStyles(G)},V.$updateTooltip(),V.setLeftMinVisibleBarCount(5),V.setRightMinVisibleBarCount(5),V.setOffsetRightDistance(60),V.setBarSpace(7),V.createIndicator({name:"MA",calcParams:[10,30,60]},!1,{id:"candle_pane",dragEnabled:!0}),V.createIndicator({name:"VOL",calcParams:[20],precision:4,figures:[{key:"ma1",title:"",type:"line"},{key:"volume",title:"",type:"bar",baseValue:0,styles({current:W},G,{bars:O}){const{close:he,open:Y}=W.kLineData||{close:0,open:0},{upColor:Ge,downColor:de}=O[0];return{color:Oo(Wo(he,Y),0)?de:Ge}}}]},!1),V):null},gn={class:"mt-10px"},vn=Qi({__name:"Kline",setup(U){const{isDark:I}=en(),m=tn({ref:null,chart:null});return on(()=>{const j={theme:I.value?Oe.Dark:Oe.Light};m.chart=pn(m.ref,j),m.chart&&m.chart.applyNewData([{timestamp:168327e7,close:29107.59,open:29186.65,high:29231.29,low:29095.36,volume:.07222},{timestamp:16832709e5,close:29095.68,open:29130.79,high:29137.13,low:29094.8,volume:.08819},{timestamp:16832718e5,close:29067.43,open:29105.26,high:29112.9,low:29064.5,volume:.12558},{timestamp:16832727e5,close:29055.27,open:29064.1,high:29099.92,low:29049.96,volume:.06772},{timestamp:16832736e5,close:29090.91,open:29062.4,high:29090.91,low:29039.28,volume:.11668},{timestamp:16832745e5,close:29114.14,open:29109.32,high:29116.6,low:29079.53,volume:.08313},{timestamp:16832754e5,close:29094.76,open:29108.48,high:29109.8,low:29072.46,volume:.08095},{timestamp:16832763e5,close:29060.22,open:29094.76,high:29094.86,low:29049.55,volume:.08201},{timestamp:16832772e5,close:29046.1,open:29060.22,high:29084.01,low:29046.1,volume:.10653},{timestamp:16832781e5,close:29082.86,open:29046.1,high:29121.55,low:29029.22,volume:.04229},{timestamp:1683279e6,close:29105.09,open:29082.86,high:29138.36,low:29062.91,volume:.0664},{timestamp:16832799e5,close:29099.97,open:29105.09,high:29129.02,low:29073.14,volume:.03008},{timestamp:16832808e5,close:29089.97,open:29099.97,high:29119.92,low:29079.31,volume:.01589},{timestamp:16832817e5,close:29111.88,open:29089.97,high:29122.38,low:29080.02,volume:.02729},{timestamp:16832826e5,close:29085.98,open:29111.88,high:29130.94,low:29075.73,volume:.05995},{timestamp:16832835e5,close:29104.1,open:29085.98,high:29117.01,low:29083.52,volume:.05826},{timestamp:16832844e5,close:29138.21,open:29104.1,high:29138.88,low:29092.65,volume:.07587},{timestamp:16832853e5,close:29094.83,open:29138.21,high:29161.31,low:29094.83,volume:.0522},{timestamp:16832862e5,close:29095.74,open:29094.83,high:29109.76,low:29070.14,volume:.097},{timestamp:16832871e5,close:29144.57,open:29095.74,high:29181.83,low:29096.28,volume:.02388},{timestamp:1683288e6,close:29178.96,open:29144.57,high:29199.54,low:29125.36,volume:.08349},{timestamp:16832889e5,close:29137.18,open:29178.96,high:29200.95,low:29136.77,volume:.02548},{timestamp:16832898e5,close:28971.11,open:29137.18,high:29207.93,low:28871.94,volume:.02811},{timestamp:16832907e5,close:28952.39,open:28971.11,high:29080.32,low:28937.86,volume:.03774},{timestamp:16832916e5,close:29009.45,open:28952.39,high:29024.01,low:28899.59,volume:.03197},{timestamp:16832925e5,close:29005.67,open:29009.45,high:29023.55,low:28967.86,volume:.0197},{timestamp:16832934e5,close:29171.26,open:29005.67,high:29177.42,low:28984.61,volume:.03371},{timestamp:16832943e5,close:29179.95,open:29171.26,high:29227.91,low:29127.78,volume:.0471},{timestamp:16832952e5,close:29157.69,open:29179.95,high:29216.49,low:29118.95,volume:.02488},{timestamp:16832961e5,close:29175.9,open:29157.69,high:29214.09,low:29150.03,volume:.04563},{timestamp:1683297e6,close:29355.94,open:29175.9,high:29397.84,low:29164.62,volume:.05154},{timestamp:16832979e5,close:29271.14,open:29355.94,high:29427.35,low:29237.8,volume:.04603},{timestamp:16832988e5,close:29217.16,open:29271.14,high:29322.91,low:29172.64,volume:.03278},{timestamp:16832997e5,close:29300.1,open:29217.16,high:29314.67,low:29186.64,volume:.04645},{timestamp:16833006e5,close:29303.03,open:29300.1,high:29338.28,low:29243.3,volume:.02646},{timestamp:16833015e5,close:29359.47,open:29303.03,high:29359.47,low:29267.29,volume:.08647},{timestamp:16833024e5,close:29569.8,open:29359.47,high:29616.21,low:29360.57,volume:.05553},{timestamp:16833033e5,close:29530.36,open:29569.8,high:29653.76,low:29530.36,volume:.08455},{timestamp:16833042e5,close:29509.63,open:29530.36,high:29565.22,low:29472.42,volume:.03296},{timestamp:16833051e5,close:29576.29,open:29509.63,high:29576.29,low:29461.15,volume:.04357},{timestamp:1683306e6,close:29568.95,open:29576.29,high:29650.69,low:29558.77,volume:.0468},{timestamp:16833069e5,close:29601.7,open:29568.95,high:29614.95,low:29556.53,volume:.03705},{timestamp:16833078e5,close:29580.81,open:29601.7,high:29608.7,low:29508.78,volume:.02647},{timestamp:16833087e5,close:29464.31,open:29580.81,high:29579.73,low:29464.31,volume:.02859},{timestamp:16833096e5,close:29481.47,open:29464.31,high:29506.95,low:29422.78,volume:.02977},{timestamp:16833105e5,close:29489.66,open:29481.47,high:29526.62,low:29458.31,volume:.0286},{timestamp:16833114e5,close:29466.9,open:29489.66,high:29544.33,low:29456.56,volume:.02337},{timestamp:16833123e5,close:29393.54,open:29466.9,high:29474.41,low:29332.69,volume:.03298},{timestamp:16833132e5,close:29381.39,open:29393.54,high:29417.47,low:29379.61,volume:.0615},{timestamp:16833141e5,close:29432.09,open:29381.39,high:29434,low:29381.48,volume:.03417},{timestamp:1683315e6,close:29490.56,open:29432.09,high:29490.56,low:29415.18,volume:.01267},{timestamp:16833159e5,close:29524.42,open:29490.56,high:29537.4,low:29457.75,volume:.02199},{timestamp:16833168e5,close:29507.87,open:29524.42,high:29569.93,low:29478.93,volume:.04485},{timestamp:16833177e5,close:29463.12,open:29507.87,high:29511.99,low:29457.05,volume:.05696},{timestamp:16833186e5,close:29483.07,open:29463.12,high:29522,low:29455.48,volume:.09049},{timestamp:16833195e5,close:29509.14,open:29483.07,high:29536.85,low:29487.82,volume:.03028},{timestamp:16833204e5,close:29486.12,open:29509.14,high:29511.34,low:29456.89,volume:.01564},{timestamp:16833213e5,close:29516.62,open:29486.12,high:29537.35,low:29471.1,volume:.04467},{timestamp:16833222e5,close:29489.18,open:29516.62,high:29521.5,low:29462.74,volume:.01441},{timestamp:16833231e5,close:29492.41,open:29489.18,high:29520.78,low:29466.02,volume:.02726},{timestamp:1683324e6,close:29508.21,open:29492.41,high:29517.28,low:29478.79,volume:.02028},{timestamp:16833249e5,close:29511.04,open:29508.21,high:29556.54,low:29499.04,volume:.02092},{timestamp:16833258e5,close:29545.19,open:29511.04,high:29546.26,low:29510.22,volume:.01815},{timestamp:16833267e5,close:29589.82,open:29545.19,high:29637.14,low:29549,volume:.03049},{timestamp:16833276e5,close:29562.61,open:29589.82,high:29597.98,low:29536.59,volume:.03609},{timestamp:16833285e5,close:29538.04,open:29562.61,high:29579.22,low:29534.82,volume:.04784},{timestamp:16833294e5,close:29482.3,open:29538.04,high:29550.12,low:29479.69,volume:.02197},{timestamp:16833303e5,close:29506.84,open:29482.3,high:29506.84,low:29480.28,volume:.02673},{timestamp:16833312e5,close:29505,open:29506.84,high:29518.24,low:29481.96,volume:.02063},{timestamp:16833321e5,close:29543.11,open:29505,high:29594.6,low:29497.74,volume:.03122},{timestamp:1683333e6,close:29689.24,open:29543.11,high:29817.23,low:29557.53,volume:.08524},{timestamp:16833339e5,close:29671.01,open:29689.24,high:29733.87,low:29655.85,volume:.10277},{timestamp:16833348e5,close:29578.03,open:29671.01,high:29690.18,low:29577.78,volume:.0312},{timestamp:16833357e5,close:29566.88,open:29578.03,high:29629.34,low:29539.01,volume:.07307},{timestamp:16833366e5,close:29610.67,open:29566.88,high:29615.98,low:29564.9,volume:.03899},{timestamp:16833375e5,close:29545.5,open:29610.67,high:29610.52,low:29502.31,volume:.0458},{timestamp:16833384e5,close:29456.1,open:29545.5,high:29544.14,low:29455.74,volume:.01916},{timestamp:16833393e5,close:29472.34,open:29456.1,high:29485.46,low:29453.48,volume:.052},{timestamp:16833402e5,close:29488.65,open:29472.34,high:29489.74,low:29446.5,volume:.04049},{timestamp:16833411e5,close:29461.97,open:29488.65,high:29493.9,low:29454.03,volume:.07627},{timestamp:1683342e6,close:29414.05,open:29461.97,high:29472.38,low:29414.05,volume:.04975},{timestamp:16833429e5,close:29370.79,open:29414.05,high:29435.56,low:29361.96,volume:.04538},{timestamp:16833438e5,close:29364.13,open:29370.79,high:29398.92,low:29359.64,volume:.03682},{timestamp:16833447e5,close:29354.36,open:29364.13,high:29391.82,low:29351.27,volume:.07434},{timestamp:16833456e5,close:29385.48,open:29354.36,high:29385.83,low:29330.07,volume:.0464},{timestamp:16833465e5,close:29379.56,open:29385.48,high:29395.89,low:29367.12,volume:.04989},{timestamp:16833474e5,close:29358.86,open:29379.56,high:29399.2,low:29358.86,volume:.03672},{timestamp:16833483e5,close:29347.11,open:29358.86,high:29384.22,low:29341.19,volume:.03476},{timestamp:16833492e5,close:29367.95,open:29347.11,high:29372.56,low:29344.42,volume:.08897},{timestamp:16833501e5,close:29371.58,open:29367.95,high:29381.73,low:29353.97,volume:.03289},{timestamp:1683351e6,close:29346.51,open:29371.58,high:29382.65,low:29346.51,volume:.05433},{timestamp:16833519e5,close:29349.35,open:29346.51,high:29372.35,low:29338.24,volume:.0408},{timestamp:16833528e5,close:29371.67,open:29349.35,high:29371.67,low:29300.17,volume:.04165},{timestamp:16833537e5,close:29346.2,open:29371.67,high:29386.06,low:29346.2,volume:.03345},{timestamp:16833546e5,close:29341.01,open:29346.2,high:29352.89,low:29294.65,volume:.04731},{timestamp:16833555e5,close:29386.86,open:29341.01,high:29386.86,low:29340.66,volume:.03534},{timestamp:16833564e5,close:29363.99,open:29386.86,high:29394.35,low:29363.99,volume:.02471},{timestamp:16833573e5,close:29385.89,open:29363.99,high:29406.25,low:29365.24,volume:.03009},{timestamp:16833582e5,close:29388.12,open:29385.89,high:29428.38,low:29382.01,volume:.03202},{timestamp:16833591e5,close:29364.15,open:29388.12,high:29397.15,low:29364.15,volume:.03388},{timestamp:168336e7,close:29248.81,open:29364.15,high:29373.32,low:29164.41,volume:.0276},{timestamp:16833609e5,close:29321.98,open:29248.81,high:29321.98,low:29237.66,volume:.02857},{timestamp:16833618e5,close:29338.2,open:29321.98,high:29345.41,low:29282.49,volume:.03754},{timestamp:16833627e5,close:29346.72,open:29338.2,high:29350.35,low:29311.45,volume:.02292},{timestamp:16833636e5,close:29297.27,open:29346.72,high:29359.84,low:29296.83,volume:.05716},{timestamp:16833645e5,close:29304.72,open:29297.27,high:29321.34,low:29280.41,volume:.08036},{timestamp:16833654e5,close:29322.5,open:29304.72,high:29331.13,low:29291.06,volume:.10014},{timestamp:16833663e5,close:29311.67,open:29322.5,high:29339.19,low:29284.77,volume:.02702},{timestamp:16833672e5,close:29293.79,open:29311.67,high:29317.21,low:29258.37,volume:.03479},{timestamp:16833681e5,close:29218.02,open:29293.79,high:29296.04,low:29213.42,volume:.03022},{timestamp:1683369e6,close:29246.34,open:29218.02,high:29262.33,low:29210.13,volume:.02238},{timestamp:16833699e5,close:29237.73,open:29246.34,high:29252.28,low:29227.42,volume:.02415},{timestamp:16833708e5,close:29251.14,open:29237.73,high:29262.28,low:29214.84,volume:.02576},{timestamp:16833717e5,close:29239.39,open:29251.14,high:29255.66,low:29237.41,volume:.02761},{timestamp:16833726e5,close:29252.45,open:29239.39,high:29264.88,low:29224.85,volume:.02163},{timestamp:16833735e5,close:29266.89,open:29252.45,high:29275.45,low:29245.25,volume:.02935},{timestamp:16833744e5,close:29250.24,open:29266.89,high:29266.12,low:29232,volume:.03678},{timestamp:16833753e5,close:29248.15,open:29250.24,high:29252.57,low:29204.17,volume:.02005},{timestamp:16833762e5,close:29068.41,open:29248.15,high:29241.36,low:29050.34,volume:.08219},{timestamp:16833771e5,close:29091.15,open:29068.41,high:29092.38,low:29021.86,volume:.04729},{timestamp:1683378e6,close:29065.07,open:29091.15,high:29098.01,low:29028.5,volume:.01472},{timestamp:16833789e5,close:29030.94,open:29065.07,high:29068.36,low:28980.18,volume:.02441},{timestamp:16833798e5,close:28967.86,open:29030.94,high:29015.38,low:28967.86,volume:.04878},{timestamp:16833807e5,close:28967.86,open:28967.86,high:28994.75,low:28967.86,volume:.02408},{timestamp:16833816e5,close:28967.86,open:28967.86,high:28967.86,low:28967.86,volume:8e-4},{timestamp:16833825e5,close:28611.16,open:28967.86,high:28976.53,low:28590.34,volume:.01359},{timestamp:16833834e5,close:28629.64,open:28611.16,high:28677.42,low:28570.95,volume:.02167},{timestamp:16833843e5,close:28601.02,open:28629.64,high:28649.42,low:28584.8,volume:.01825},{timestamp:16833852e5,close:28548.03,open:28601.02,high:28582.24,low:28381.67,volume:.02069},{timestamp:16833861e5,close:28585.57,open:28548.03,high:28585.57,low:28503.3,volume:.01405},{timestamp:1683387e6,close:28619.7,open:28585.57,high:28624.64,low:28542.2,volume:.01815},{timestamp:16833879e5,close:28580.11,open:28619.7,high:28617.59,low:28577.14,volume:.01197},{timestamp:16833888e5,close:28657.75,open:28580.11,high:28660.91,low:28549.24,volume:.01144},{timestamp:16833897e5,close:28693.55,open:28657.75,high:28693.55,low:28618.86,volume:.01697},{timestamp:16833906e5,close:28650.74,open:28693.55,high:28693.76,low:28644.1,volume:.01569},{timestamp:16833915e5,close:28700.27,open:28650.74,high:28708.3,low:28651.47,volume:.01236},{timestamp:16833924e5,close:28678.28,open:28700.27,high:28702.28,low:28672.8,volume:.01634},{timestamp:16833933e5,close:28820.8,open:28678.28,high:28833.61,low:28677.48,volume:.02673},{timestamp:16833942e5,close:28751.61,open:28820.8,high:28807.42,low:28736.08,volume:.01864},{timestamp:16833951e5,close:28771.87,open:28751.61,high:28784.16,low:28739.35,volume:.01363},{timestamp:1683396e6,close:28849.26,open:28771.87,high:28857.93,low:28771.86,volume:.02127},{timestamp:16833969e5,close:28878.21,open:28849.26,high:28915.42,low:28837.37,volume:.02213},{timestamp:16833978e5,close:28911.45,open:28878.21,high:28950,low:28852.79,volume:.01377},{timestamp:16833987e5,close:28908.49,open:28911.45,high:28931.76,low:28906.94,volume:.01147},{timestamp:16833996e5,close:28894.91,open:28908.49,high:28955.91,low:28861.67,volume:.01986},{timestamp:16834005e5,close:28875.99,open:28894.91,high:28899.75,low:28853,volume:.01926},{timestamp:16834014e5,close:28854.21,open:28875.99,high:28899.79,low:28852.95,volume:.01971},{timestamp:16834023e5,close:28847.46,open:28854.21,high:28881.46,low:28847.09,volume:.01331},{timestamp:16834032e5,close:28824.16,open:28847.46,high:28868.02,low:28790.28,volume:.01892},{timestamp:16834041e5,close:28812.27,open:28824.16,high:28862.14,low:28812.27,volume:.02198},{timestamp:1683405e6,close:28809.16,open:28812.27,high:28828.5,low:28801.93,volume:.01563},{timestamp:16834059e5,close:28796.83,open:28809.16,high:28844.11,low:28794.76,volume:.01866},{timestamp:16834068e5,close:28783.47,open:28796.83,high:28823.52,low:28744.36,volume:.0171},{timestamp:16834077e5,close:28765.18,open:28783.47,high:28787.74,low:28750.54,volume:.01087},{timestamp:16834086e5,close:28665.92,open:28765.18,high:28766.85,low:28665.92,volume:.02624},{timestamp:16834095e5,close:28804.8,open:28665.92,high:28817.11,low:28663.79,volume:.02126},{timestamp:16834104e5,close:28792.44,open:28804.8,high:28805.23,low:28769.98,volume:.01104},{timestamp:16834113e5,close:28840.44,open:28792.44,high:28850.2,low:28791.35,volume:.01547},{timestamp:16834122e5,close:28852.97,open:28840.44,high:28852.98,low:28807.23,volume:.01691},{timestamp:16834131e5,close:28834.96,open:28852.97,high:28855.82,low:28833.52,volume:.01375},{timestamp:1683414e6,close:28861.56,open:28834.96,high:28872.62,low:28827.24,volume:.01393},{timestamp:16834149e5,close:28843.22,open:28861.56,high:28872.4,low:28823.2,volume:.01602},{timestamp:16834158e5,close:28809.46,open:28843.22,high:28844.36,low:28809.46,volume:.01303},{timestamp:16834167e5,close:28847.42,open:28809.46,high:28869.89,low:28810.1,volume:.01261},{timestamp:16834176e5,close:28840.58,open:28847.42,high:28866.72,low:28826.75,volume:.00869},{timestamp:16834185e5,close:28817.81,open:28840.58,high:28871.81,low:28809.19,volume:.01689},{timestamp:16834194e5,close:28829.4,open:28817.81,high:28829.4,low:28792.41,volume:.0166},{timestamp:16834203e5,close:28940.47,open:28829.4,high:28949.8,low:28836.82,volume:.02075},{timestamp:16834212e5,close:28846.27,open:28940.47,high:28949.25,low:28831.77,volume:.01957},{timestamp:16834221e5,close:29088.24,open:28846.27,high:29114.71,low:28842.2,volume:.02921},{timestamp:1683423e6,close:29000.03,open:29088.24,high:29111.86,low:28984.38,volume:.01533},{timestamp:16834239e5,close:28879.14,open:29000.03,high:28988.36,low:28859.28,volume:.01632},{timestamp:16834248e5,close:28904.45,open:28879.14,high:28943.33,low:28888.82,volume:.01512},{timestamp:16834257e5,close:28891.16,open:28904.45,high:28924.5,low:28835.36,volume:.01403},{timestamp:16834266e5,close:28840.61,open:28891.16,high:28912.82,low:28840.61,volume:.01308},{timestamp:16834275e5,close:28824.27,open:28840.61,high:28864.4,low:28816.48,volume:.01496},{timestamp:16834284e5,close:28824.75,open:28824.27,high:28831.99,low:28784.36,volume:.01801},{timestamp:16834293e5,close:28772.67,open:28824.75,high:28842.96,low:28772.67,volume:.0177},{timestamp:16834302e5,close:28772.1,open:28772.67,high:28802.12,low:28749.17,volume:.01688},{timestamp:16834311e5,close:28799.71,open:28772.1,high:28817.87,low:28770.04,volume:.01336},{timestamp:1683432e6,close:28809.74,open:28799.71,high:28829.34,low:28801.04,volume:.00912},{timestamp:16834329e5,close:28814.81,open:28809.74,high:28851.18,low:28809.74,volume:.01218},{timestamp:16834338e5,close:28818.28,open:28814.81,high:28823.18,low:28789.71,volume:.01763},{timestamp:16834347e5,close:28840.88,open:28818.28,high:28846.85,low:28818.79,volume:.01423},{timestamp:16834356e5,close:28851.4,open:28840.88,high:28857.65,low:28831.43,volume:.01503},{timestamp:16834365e5,close:28833.02,open:28851.4,high:28849.92,low:28825.29,volume:.01289},{timestamp:16834374e5,close:28893.24,open:28833.02,high:28899.37,low:28833.47,volume:.01436},{timestamp:16834383e5,close:28887.48,open:28893.24,high:28910.12,low:28861.57,volume:.01136},{timestamp:16834392e5,close:28886.9,open:28887.48,high:28901.53,low:28873.45,volume:.01082},{timestamp:16834401e5,close:28874.76,open:28886.9,high:28930.06,low:28872.38,volume:.01737},{timestamp:1683441e6,close:28907.96,open:28874.76,high:28919.64,low:28869.94,volume:.0163},{timestamp:16834419e5,close:28912.78,open:28907.96,high:28933.73,low:28899.36,volume:.01718},{timestamp:16834428e5,close:28924.49,open:28912.78,high:28928.82,low:28910.3,volume:.01563},{timestamp:16834437e5,close:28898.85,open:28924.49,high:28950.49,low:28898.85,volume:.01708},{timestamp:16834446e5,close:28920.2,open:28898.85,high:28942.41,low:28899.75,volume:.01117},{timestamp:16834455e5,close:28910.35,open:28920.2,high:28927.54,low:28904.12,volume:.0171},{timestamp:16834464e5,close:28935.81,open:28910.35,high:28954.66,low:28909.96,volume:.01556},{timestamp:16834473e5,close:28922.33,open:28935.81,high:28953.82,low:28922.33,volume:.01543},{timestamp:16834482e5,close:28852.62,open:28922.33,high:28926.61,low:28848.34,volume:.018},{timestamp:16834491e5,close:28862.43,open:28852.62,high:28877.27,low:28852.4,volume:.00929},{timestamp:168345e7,close:28826.32,open:28862.43,high:28861.44,low:28813.27,volume:.01412},{timestamp:16834509e5,close:28850.14,open:28826.32,high:28850.14,low:28769.06,volume:.01432},{timestamp:16834518e5,close:28798.8,open:28850.14,high:28885.5,low:28798.8,volume:.0163},{timestamp:16834527e5,close:28817.13,open:28798.8,high:28823.46,low:28802.88,volume:.01337},{timestamp:16834536e5,close:28804.78,open:28817.13,high:28825.64,low:28795.21,volume:.0134},{timestamp:16834545e5,close:28823.58,open:28804.78,high:28829.34,low:28801.77,volume:.01303},{timestamp:16834554e5,close:28822.49,open:28823.58,high:28837.02,low:28810.85,volume:.01317},{timestamp:16834563e5,close:28848.62,open:28822.49,high:28861.01,low:28822.07,volume:.00878},{timestamp:16834572e5,close:28805.18,open:28848.62,high:28851.56,low:28805.18,volume:.0074},{timestamp:16834581e5,close:28763.67,open:28805.18,high:28822.54,low:28742.92,volume:.01439},{timestamp:1683459e6,close:28842.14,open:28763.67,high:28896.34,low:28760.42,volume:.01466},{timestamp:16834599e5,close:28840.3,open:28842.14,high:28867.77,low:28819.46,volume:.01692},{timestamp:16834608e5,close:28884.17,open:28840.3,high:28884.17,low:28840.64,volume:.0178},{timestamp:16834617e5,close:28886.29,open:28884.17,high:28908.44,low:28871.01,volume:.01249},{timestamp:16834626e5,close:28912.38,open:28886.29,high:28912.38,low:28878.3,volume:.01388},{timestamp:16834635e5,close:28914.92,open:28912.38,high:28938.38,low:28904.26,volume:.01292},{timestamp:16834644e5,close:28903.83,open:28914.92,high:28920.87,low:28892.42,volume:.01655},{timestamp:16834653e5,close:28920.02,open:28903.83,high:28975.64,low:28903.76,volume:.01394},{timestamp:16834662e5,close:28949.24,open:28920.02,high:28968.36,low:28907.39,volume:.01368},{timestamp:16834671e5,close:28903.09,open:28949.24,high:28967.81,low:28890.18,volume:.01431},{timestamp:1683468e6,close:28903.62,open:28903.09,high:28936.22,low:28903.62,volume:.01494},{timestamp:16834689e5,close:28943.16,open:28903.62,high:28943.59,low:28885.78,volume:.01266},{timestamp:16834698e5,close:29008.07,open:28943.16,high:29030.35,low:28931.96,volume:.01219},{timestamp:16834707e5,close:29033.97,open:29008.07,high:29077.23,low:29001.06,volume:.0196},{timestamp:16834716e5,close:29000.66,open:29033.97,high:29046.14,low:28996.21,volume:.01497},{timestamp:16834725e5,close:28938.76,open:29000.66,high:28999.98,low:28937.83,volume:.01441},{timestamp:16834734e5,close:28921.58,open:28938.76,high:28948.97,low:28906.45,volume:.01399},{timestamp:16834743e5,close:28945.22,open:28921.58,high:28991.16,low:28921.02,volume:.02261},{timestamp:16834752e5,close:28967.78,open:28945.22,high:28970.15,low:28917.28,volume:.01222},{timestamp:16834761e5,close:28913.38,open:28967.78,high:28968.5,low:28870.32,volume:.01893},{timestamp:1683477e6,close:28894.35,open:28913.38,high:28911.49,low:28842.57,volume:.01412},{timestamp:16834779e5,close:28940.55,open:28894.35,high:28940.55,low:28860.6,volume:.01439},{timestamp:16834788e5,close:28965.62,open:28940.55,high:29024.93,low:28945.1,volume:.01345},{timestamp:16834797e5,close:28920.21,open:28965.62,high:28988.56,low:28916.92,volume:.01024},{timestamp:16834806e5,close:28891.44,open:28920.21,high:28934.62,low:28884.1,volume:.01474},{timestamp:16834815e5,close:28904.88,open:28891.44,high:28930.41,low:28879.37,volume:.01308},{timestamp:16834824e5,close:28922.67,open:28904.88,high:28924.9,low:28890.66,volume:.01251},{timestamp:16834833e5,close:28898.85,open:28922.67,high:28924.94,low:28892.6,volume:.01089},{timestamp:16834842e5,close:28921.2,open:28898.85,high:28949.41,low:28892.86,volume:.01691},{timestamp:16834851e5,close:28864.05,open:28921.2,high:28930.35,low:28863.29,volume:.01298},{timestamp:1683486e6,close:28824.28,open:28864.05,high:28881.93,low:28786.17,volume:.01806},{timestamp:16834869e5,close:28865.34,open:28824.28,high:28865.34,low:28823.35,volume:.01273},{timestamp:16834878e5,close:28888.34,open:28865.34,high:28888.34,low:28843.08,volume:.01377},{timestamp:16834887e5,close:28916.62,open:28888.34,high:28923.86,low:28884.24,volume:.01272},{timestamp:16834896e5,close:28936.64,open:28916.62,high:28942.04,low:28911.41,volume:.01138},{timestamp:16834905e5,close:28932,open:28936.64,high:28940.87,low:28920.75,volume:.01788},{timestamp:16834914e5,close:28934.36,open:28932,high:28935.34,low:28900.35,volume:.00962},{timestamp:16834923e5,close:28907.86,open:28934.36,high:28919.15,low:28884.75,volume:.01914},{timestamp:16834932e5,close:28874.58,open:28907.86,high:28912.71,low:28850.79,volume:.01599},{timestamp:16834941e5,close:28916.4,open:28874.58,high:28916.4,low:28867.84,volume:.01656},{timestamp:1683495e6,close:28836.37,open:28916.4,high:28949.46,low:28834.87,volume:.01793},{timestamp:16834959e5,close:28768.1,open:28836.37,high:28850.04,low:28760.01,volume:.01594},{timestamp:16834968e5,close:28778.38,open:28768.1,high:28801.77,low:28729.4,volume:.0121},{timestamp:16834977e5,close:28806.42,open:28778.38,high:28842.6,low:28771.08,volume:.01693},{timestamp:16834986e5,close:28755.52,open:28806.42,high:28806.88,low:28755.52,volume:.01264},{timestamp:16834995e5,close:28767.02,open:28755.52,high:28811.04,low:28755.15,volume:.01525},{timestamp:16835004e5,close:28726.56,open:28767.02,high:28780.19,low:28688.4,volume:.01864},{timestamp:16835013e5,close:28730.59,open:28726.56,high:28784.1,low:28726.64,volume:.01831},{timestamp:16835022e5,close:28703.7,open:28730.59,high:28788.72,low:28703.39,volume:.02091},{timestamp:16835031e5,close:28446.01,open:28703.7,high:28677.77,low:28410.82,volume:.02548},{timestamp:1683504e6,close:28558.61,open:28446.01,high:28581.44,low:28402.48,volume:.02352},{timestamp:16835049e5,close:28580.95,open:28558.61,high:28619.79,low:28512.64,volume:.02293},{timestamp:16835058e5,close:28599.69,open:28580.95,high:28599.69,low:28553.3,volume:.00971},{timestamp:16835067e5,close:28567.91,open:28599.69,high:28599.07,low:28543.35,volume:.01584},{timestamp:16835076e5,close:28544.33,open:28567.91,high:28587.88,low:28544.33,volume:.01281},{timestamp:16835085e5,close:28456.07,open:28544.33,high:28578.07,low:28451.15,volume:.01874},{timestamp:16835094e5,close:28142.71,open:28456.07,high:28578.4,low:28142.71,volume:.0278},{timestamp:16835103e5,close:28222.34,open:28142.71,high:28222.34,low:28104.6,volume:.02266},{timestamp:16835112e5,close:28244.49,open:28222.34,high:28247.34,low:28137.5,volume:.01843},{timestamp:16835121e5,close:28239.41,open:28244.49,high:28275.04,low:28207.24,volume:.01223},{timestamp:1683513e6,close:28228.34,open:28239.41,high:28236.38,low:28176.77,volume:.01835},{timestamp:16835139e5,close:28298.48,open:28228.34,high:28298.48,low:28225.04,volume:.0145},{timestamp:16835148e5,close:28238.59,open:28298.48,high:28285.34,low:28221.99,volume:.01435},{timestamp:16835157e5,close:28157.71,open:28238.59,high:28228.24,low:28152.17,volume:.01625},{timestamp:16835166e5,close:28082.83,open:28157.71,high:28206.77,low:28082.83,volume:.01126},{timestamp:16835175e5,close:28202.81,open:28082.83,high:28202.81,low:28036.4,volume:.01606},{timestamp:16835184e5,close:28167.48,open:28202.81,high:28207.49,low:28162.56,volume:.01313},{timestamp:16835193e5,close:28182.59,open:28167.48,high:28208.06,low:28159.78,volume:.01635},{timestamp:16835202e5,close:28192.3,open:28182.59,high:28226.55,low:28176.74,volume:.01536},{timestamp:16835211e5,close:28129.16,open:28192.3,high:28191.41,low:28116.9,volume:.01409},{timestamp:1683522e6,close:28108.58,open:28129.16,high:28173.66,low:28108.58,volume:.02052},{timestamp:16835229e5,close:28174.82,open:28108.58,high:28205.7,low:28089.27,volume:.01902},{timestamp:16835238e5,close:28240.3,open:28174.82,high:28240.3,low:28177.96,volume:.01276},{timestamp:16835247e5,close:28259.97,open:28240.3,high:28259.97,low:28232.16,volume:.01341},{timestamp:16835256e5,close:28218.64,open:28259.97,high:28258.57,low:28207.6,volume:.01245},{timestamp:16835265e5,close:28233.05,open:28218.64,high:28233.05,low:28205.85,volume:.0155},{timestamp:16835274e5,close:28171.65,open:28233.05,high:28242.43,low:28171.65,volume:.01395},{timestamp:16835283e5,close:28174.96,open:28171.65,high:28194.21,low:28138.04,volume:.01426},{timestamp:16835292e5,close:28137.18,open:28174.96,high:28190.98,low:28121.02,volume:.01365},{timestamp:16835301e5,close:28120.76,open:28137.18,high:28151.53,low:28108.97,volume:.01634},{timestamp:1683531e6,close:28095.71,open:28120.76,high:28133.6,low:28058.51,volume:.02165},{timestamp:16835319e5,close:27978.64,open:28095.71,high:28104.99,low:27855.6,volume:.01479},{timestamp:16835328e5,close:27895.35,open:27978.64,high:27985.6,low:27849.19,volume:.0338},{timestamp:16835337e5,close:27929.84,open:27895.35,high:27932.96,low:27893.2,volume:.01597},{timestamp:16835346e5,close:27890.54,open:27929.84,high:27954.76,low:27843.91,volume:.01777},{timestamp:16835355e5,close:27717.95,open:27890.54,high:27891.92,low:27660.2,volume:.01334},{timestamp:16835364e5,close:27787.2,open:27717.95,high:27787.2,low:27698.15,volume:.01297},{timestamp:16835373e5,close:27887.49,open:27787.2,high:27893.54,low:27777.69,volume:.02096},{timestamp:16835382e5,close:27856.06,open:27887.49,high:27900.23,low:27847.56,volume:.01446},{timestamp:16835391e5,close:27898.2,open:27856.06,high:27927.17,low:27848.14,volume:.01795}])}),nn(()=>I.value,j=>{m.chart&&m.chart.$setTheme(j?Oe.Dark:Oe.Light)}),(j,V)=>{const W=Zi.ElButton;return Ro(),Vo(rn,null,[Do("div",{ref:G=>m.ref=G,class:"chart"},null,512),Do("div",gn,[Dt(W,{type:"primary",onClick:V[0]||(V[0]=G=>{var O;return(O=m.chart)==null?void 0:O.setLocale("en-US")})},{default:Po(()=>[Fo(" en-US ")]),_:1}),Dt(W,{type:"success",onClick:V[1]||(V[1]=G=>{var O;return(O=m.chart)==null?void 0:O.setLocale("zh-TW")})},{default:Po(()=>[Fo(" zh-TW ")]),_:1})])],64)}}});const mn=zo(vn,[["__scopeId","data-v-c523a925"]]),bn=JSON.parse('{"title":"Kline","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"npm/kline.md","lastUpdated":1683948444000}'),fn={name:"npm/kline.md"},yn=an("",6);function _n(U,I,m,j,V,W){const G=mn;return Ro(),Vo("div",null,[yn,Dt(G)])}const Tn=zo(fn,[["render",_n]]);export{bn as __pageData,Tn as default};
