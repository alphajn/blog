import{l as Qe}from"./chunks/el-button.714582fa.js";import{d as la,a6 as oa,o as ge,c as ht,C as J,J as Ke,E as ie,a as ye,t as De,F as Rt,R as ia,D as Bt,G as ra,n as ca,S as pa,U as fa,_ as Cn,V as wn}from"./chunks/framework.8982f19e.js";import"./chunks/index.9098e909.js";/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const da=4,Ot=0,It=1,_a=2;function _e(e){let n=e.length;for(;--n>=0;)e[n]=0}const ha=0,Fn=1,ua=2,ya=3,Da=258,xt=29,Be=256,ke=Be+1+xt,pe=30,kt=19,xn=2*ke+1,Q=15,et=16,ba=7,mt=256,kn=16,mn=17,vn=18,ut=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),We=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ga=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),En=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Aa=512,P=new Array((ke+2)*2);_e(P);const we=new Array(pe*2);_e(we);const me=new Array(Aa);_e(me);const ve=new Array(Da-ya+1);_e(ve);const vt=new Array(xt);_e(vt);const Ge=new Array(pe);_e(Ge);function tt(e,n,t,a,l){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=a,this.max_length=l,this.has_stree=e&&e.length}let Sn,Tn,zn;function nt(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}const Rn=e=>e<256?me[e]:me[256+(e>>>7)],Ee=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},O=(e,n,t)=>{e.bi_valid>et-t?(e.bi_buf|=n<<e.bi_valid&65535,Ee(e,e.bi_buf),e.bi_buf=n>>et-e.bi_valid,e.bi_valid+=t-et):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},U=(e,n,t)=>{O(e,t[n*2],t[n*2+1])},Bn=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},Ca=e=>{e.bi_valid===16?(Ee(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},wa=(e,n)=>{const t=n.dyn_tree,a=n.max_code,l=n.stat_desc.static_tree,s=n.stat_desc.has_stree,r=n.stat_desc.extra_bits,i=n.stat_desc.extra_base,_=n.stat_desc.max_length;let o,c,D,f,p,h,S=0;for(f=0;f<=Q;f++)e.bl_count[f]=0;for(t[e.heap[e.heap_max]*2+1]=0,o=e.heap_max+1;o<xn;o++)c=e.heap[o],f=t[t[c*2+1]*2+1]+1,f>_&&(f=_,S++),t[c*2+1]=f,!(c>a)&&(e.bl_count[f]++,p=0,c>=i&&(p=r[c-i]),h=t[c*2],e.opt_len+=h*(f+p),s&&(e.static_len+=h*(l[c*2+1]+p)));if(S!==0){do{for(f=_-1;e.bl_count[f]===0;)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[_]--,S-=2}while(S>0);for(f=_;f!==0;f--)for(c=e.bl_count[f];c!==0;)D=e.heap[--o],!(D>a)&&(t[D*2+1]!==f&&(e.opt_len+=(f-t[D*2+1])*t[D*2],t[D*2+1]=f),c--)}},On=(e,n,t)=>{const a=new Array(Q+1);let l=0,s,r;for(s=1;s<=Q;s++)l=l+t[s-1]<<1,a[s]=l;for(r=0;r<=n;r++){let i=e[r*2+1];i!==0&&(e[r*2]=Bn(a[i]++,i))}},Fa=()=>{let e,n,t,a,l;const s=new Array(Q+1);for(t=0,a=0;a<xt-1;a++)for(vt[a]=t,e=0;e<1<<ut[a];e++)ve[t++]=a;for(ve[t-1]=a,l=0,a=0;a<16;a++)for(Ge[a]=l,e=0;e<1<<We[a];e++)me[l++]=a;for(l>>=7;a<pe;a++)for(Ge[a]=l<<7,e=0;e<1<<We[a]-7;e++)me[256+l++]=a;for(n=0;n<=Q;n++)s[n]=0;for(e=0;e<=143;)P[e*2+1]=8,e++,s[8]++;for(;e<=255;)P[e*2+1]=9,e++,s[9]++;for(;e<=279;)P[e*2+1]=7,e++,s[7]++;for(;e<=287;)P[e*2+1]=8,e++,s[8]++;for(On(P,ke+1,s),e=0;e<pe;e++)we[e*2+1]=5,we[e*2]=Bn(e,5);Sn=new tt(P,ut,Be+1,ke,Q),Tn=new tt(we,We,0,pe,Q),zn=new tt(new Array(0),ga,0,kt,ba)},In=e=>{let n;for(n=0;n<ke;n++)e.dyn_ltree[n*2]=0;for(n=0;n<pe;n++)e.dyn_dtree[n*2]=0;for(n=0;n<kt;n++)e.bl_tree[n*2]=0;e.dyn_ltree[mt*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Nn=e=>{e.bi_valid>8?Ee(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Nt=(e,n,t,a)=>{const l=n*2,s=t*2;return e[l]<e[s]||e[l]===e[s]&&a[n]<=a[t]},at=(e,n,t)=>{const a=e.heap[t];let l=t<<1;for(;l<=e.heap_len&&(l<e.heap_len&&Nt(n,e.heap[l+1],e.heap[l],e.depth)&&l++,!Nt(n,a,e.heap[l],e.depth));)e.heap[t]=e.heap[l],t=l,l<<=1;e.heap[t]=a},Zt=(e,n,t)=>{let a,l,s=0,r,i;if(e.sym_next!==0)do a=e.pending_buf[e.sym_buf+s++]&255,a+=(e.pending_buf[e.sym_buf+s++]&255)<<8,l=e.pending_buf[e.sym_buf+s++],a===0?U(e,l,n):(r=ve[l],U(e,r+Be+1,n),i=ut[r],i!==0&&(l-=vt[r],O(e,l,i)),a--,r=Rn(a),U(e,r,t),i=We[r],i!==0&&(a-=Ge[r],O(e,a,i)));while(s<e.sym_next);U(e,mt,n)},yt=(e,n)=>{const t=n.dyn_tree,a=n.stat_desc.static_tree,l=n.stat_desc.has_stree,s=n.stat_desc.elems;let r,i,_=-1,o;for(e.heap_len=0,e.heap_max=xn,r=0;r<s;r++)t[r*2]!==0?(e.heap[++e.heap_len]=_=r,e.depth[r]=0):t[r*2+1]=0;for(;e.heap_len<2;)o=e.heap[++e.heap_len]=_<2?++_:0,t[o*2]=1,e.depth[o]=0,e.opt_len--,l&&(e.static_len-=a[o*2+1]);for(n.max_code=_,r=e.heap_len>>1;r>=1;r--)at(e,t,r);o=s;do r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],at(e,t,1),i=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=i,t[o*2]=t[r*2]+t[i*2],e.depth[o]=(e.depth[r]>=e.depth[i]?e.depth[r]:e.depth[i])+1,t[r*2+1]=t[i*2+1]=o,e.heap[1]=o++,at(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],wa(e,n),On(t,_,e.bl_count)},Lt=(e,n,t)=>{let a,l=-1,s,r=n[0*2+1],i=0,_=7,o=4;for(r===0&&(_=138,o=3),n[(t+1)*2+1]=65535,a=0;a<=t;a++)s=r,r=n[(a+1)*2+1],!(++i<_&&s===r)&&(i<o?e.bl_tree[s*2]+=i:s!==0?(s!==l&&e.bl_tree[s*2]++,e.bl_tree[kn*2]++):i<=10?e.bl_tree[mn*2]++:e.bl_tree[vn*2]++,i=0,l=s,r===0?(_=138,o=3):s===r?(_=6,o=3):(_=7,o=4))},$t=(e,n,t)=>{let a,l=-1,s,r=n[0*2+1],i=0,_=7,o=4;for(r===0&&(_=138,o=3),a=0;a<=t;a++)if(s=r,r=n[(a+1)*2+1],!(++i<_&&s===r)){if(i<o)do U(e,s,e.bl_tree);while(--i!==0);else s!==0?(s!==l&&(U(e,s,e.bl_tree),i--),U(e,kn,e.bl_tree),O(e,i-3,2)):i<=10?(U(e,mn,e.bl_tree),O(e,i-3,3)):(U(e,vn,e.bl_tree),O(e,i-11,7));i=0,l=s,r===0?(_=138,o=3):s===r?(_=6,o=3):(_=7,o=4)}},xa=e=>{let n;for(Lt(e,e.dyn_ltree,e.l_desc.max_code),Lt(e,e.dyn_dtree,e.d_desc.max_code),yt(e,e.bl_desc),n=kt-1;n>=3&&e.bl_tree[En[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},ka=(e,n,t,a)=>{let l;for(O(e,n-257,5),O(e,t-1,5),O(e,a-4,4),l=0;l<a;l++)O(e,e.bl_tree[En[l]*2+1],3);$t(e,e.dyn_ltree,n-1),$t(e,e.dyn_dtree,t-1)},ma=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return Ot;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return It;for(t=32;t<Be;t++)if(e.dyn_ltree[t*2]!==0)return It;return Ot};let Ut=!1;const va=e=>{Ut||(Fa(),Ut=!0),e.l_desc=new nt(e.dyn_ltree,Sn),e.d_desc=new nt(e.dyn_dtree,Tn),e.bl_desc=new nt(e.bl_tree,zn),e.bi_buf=0,e.bi_valid=0,In(e)},Zn=(e,n,t,a)=>{O(e,(ha<<1)+(a?1:0),3),Nn(e),Ee(e,t),Ee(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},Ea=e=>{O(e,Fn<<1,3),U(e,mt,P),Ca(e)},Sa=(e,n,t,a)=>{let l,s,r=0;e.level>0?(e.strm.data_type===_a&&(e.strm.data_type=ma(e)),yt(e,e.l_desc),yt(e,e.d_desc),r=xa(e),l=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=l&&(l=s)):l=s=t+5,t+4<=l&&n!==-1?Zn(e,n,t,a):e.strategy===da||s===l?(O(e,(Fn<<1)+(a?1:0),3),Zt(e,P,we)):(O(e,(ua<<1)+(a?1:0),3),ka(e,e.l_desc.max_code+1,e.d_desc.max_code+1,r+1),Zt(e,e.dyn_ltree,e.dyn_dtree)),In(e),a&&Nn(e)},Ta=(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(ve[t]+Be+1)*2]++,e.dyn_dtree[Rn(n)*2]++),e.sym_next===e.sym_end);var za=va,Ra=Zn,Ba=Sa,Oa=Ta,Ia=Ea,Na={_tr_init:za,_tr_stored_block:Ra,_tr_flush_block:Ba,_tr_tally:Oa,_tr_align:Ia};const Za=(e,n,t,a)=>{let l=e&65535|0,s=e>>>16&65535|0,r=0;for(;t!==0;){r=t>2e3?2e3:t,t-=r;do l=l+n[a++]|0,s=s+l|0;while(--r);l%=65521,s%=65521}return l|s<<16|0};var Se=Za;const La=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},$a=new Uint32Array(La()),Ua=(e,n,t,a)=>{const l=$a,s=a+t;e^=-1;for(let r=a;r<s;r++)e=e>>>8^l[(e^n[r])&255];return e^-1};var z=Ua,ne={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},le={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ma,_tr_stored_block:Dt,_tr_flush_block:Ha,_tr_tally:X,_tr_align:qa}=Na,{Z_NO_FLUSH:Y,Z_PARTIAL_FLUSH:Pa,Z_FULL_FLUSH:Ka,Z_FINISH:Z,Z_BLOCK:Mt,Z_OK:R,Z_STREAM_END:Ht,Z_STREAM_ERROR:M,Z_DATA_ERROR:Wa,Z_BUF_ERROR:st,Z_DEFAULT_COMPRESSION:Ga,Z_FILTERED:Xa,Z_HUFFMAN_ONLY:$e,Z_RLE:Ya,Z_FIXED:ja,Z_DEFAULT_STRATEGY:Va,Z_UNKNOWN:Ja,Z_DEFLATED:je}=le,Qa=9,es=15,ts=8,ns=29,as=256,bt=as+1+ns,ss=30,ls=19,os=2*bt+1,is=15,C=3,G=258,H=G+C+1,rs=32,fe=42,Et=57,gt=69,At=73,Ct=91,wt=103,ee=113,Ae=666,B=1,he=2,ae=3,ue=4,cs=3,te=(e,n)=>(e.msg=ne[n],n),qt=e=>e*2-(e>4?9:0),W=e=>{let n=e.length;for(;--n>=0;)e[n]=0},ps=e=>{let n,t,a,l=e.w_size;n=e.hash_size,a=n;do t=e.head[--a],e.head[a]=t>=l?t-l:0;while(--n);n=l,a=n;do t=e.prev[--a],e.prev[a]=t>=l?t-l:0;while(--n)};let fs=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask,j=fs;const I=e=>{const n=e.state;let t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},N=(e,n)=>{Ha(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,I(e.strm)},k=(e,n)=>{e.pending_buf[e.pending++]=n},be=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},Ft=(e,n,t,a)=>{let l=e.avail_in;return l>a&&(l=a),l===0?0:(e.avail_in-=l,n.set(e.input.subarray(e.next_in,e.next_in+l),t),e.state.wrap===1?e.adler=Se(e.adler,n,l,t):e.state.wrap===2&&(e.adler=z(e.adler,n,l,t)),e.next_in+=l,e.total_in+=l,l)},Ln=(e,n)=>{let t=e.max_chain_length,a=e.strstart,l,s,r=e.prev_length,i=e.nice_match;const _=e.strstart>e.w_size-H?e.strstart-(e.w_size-H):0,o=e.window,c=e.w_mask,D=e.prev,f=e.strstart+G;let p=o[a+r-1],h=o[a+r];e.prev_length>=e.good_match&&(t>>=2),i>e.lookahead&&(i=e.lookahead);do if(l=n,!(o[l+r]!==h||o[l+r-1]!==p||o[l]!==o[a]||o[++l]!==o[a+1])){a+=2,l++;do;while(o[++a]===o[++l]&&o[++a]===o[++l]&&o[++a]===o[++l]&&o[++a]===o[++l]&&o[++a]===o[++l]&&o[++a]===o[++l]&&o[++a]===o[++l]&&o[++a]===o[++l]&&a<f);if(s=G-(f-a),a=f-G,s>r){if(e.match_start=n,r=s,s>=i)break;p=o[a+r-1],h=o[a+r]}}while((n=D[n&c])>_&&--t!==0);return r<=e.lookahead?r:e.lookahead},de=e=>{const n=e.w_size;let t,a,l;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-H)&&(e.window.set(e.window.subarray(n,n+n-a),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),ps(e),a+=n),e.strm.avail_in===0)break;if(t=Ft(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=t,e.lookahead+e.insert>=C)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=j(e,e.ins_h,e.window[l+1]);e.insert&&(e.ins_h=j(e,e.ins_h,e.window[l+C-1]),e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<C)););}while(e.lookahead<H&&e.strm.avail_in!==0)},$n=(e,n)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a,l,s,r=0,i=e.strm.avail_in;do{if(a=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,l=e.strstart-e.block_start,a>l+e.strm.avail_in&&(a=l+e.strm.avail_in),a>s&&(a=s),a<t&&(a===0&&n!==Z||n===Y||a!==l+e.strm.avail_in)))break;r=n===Z&&a===l+e.strm.avail_in?1:0,Dt(e,0,0,r),e.pending_buf[e.pending-4]=a,e.pending_buf[e.pending-3]=a>>8,e.pending_buf[e.pending-2]=~a,e.pending_buf[e.pending-1]=~a>>8,I(e.strm),l&&(l>a&&(l=a),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+l),e.strm.next_out),e.strm.next_out+=l,e.strm.avail_out-=l,e.strm.total_out+=l,e.block_start+=l,a-=l),a&&(Ft(e.strm,e.strm.output,e.strm.next_out,a),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a)}while(r===0);return i-=e.strm.avail_in,i&&(i>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=i&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-i,e.strm.next_in),e.strstart),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),r?ue:n!==Y&&n!==Z&&e.strm.avail_in===0&&e.strstart===e.block_start?he:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(Ft(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,t=s>e.w_size?e.w_size:s,l=e.strstart-e.block_start,(l>=t||(l||n===Z)&&n!==Y&&e.strm.avail_in===0&&l<=s)&&(a=l>s?s:l,r=n===Z&&e.strm.avail_in===0&&a===l?1:0,Dt(e,e.block_start,a,r),e.block_start+=a,I(e.strm)),r?ae:B)},lt=(e,n)=>{let t,a;for(;;){if(e.lookahead<H){if(de(e),e.lookahead<H&&n===Y)return B;if(e.lookahead===0)break}if(t=0,e.lookahead>=C&&(e.ins_h=j(e,e.ins_h,e.window[e.strstart+C-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-H&&(e.match_length=Ln(e,t)),e.match_length>=C)if(a=X(e,e.strstart-e.match_start,e.match_length-C),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=C){e.match_length--;do e.strstart++,e.ins_h=j(e,e.ins_h,e.window[e.strstart+C-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=j(e,e.ins_h,e.window[e.strstart+1]);else a=X(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(a&&(N(e,!1),e.strm.avail_out===0))return B}return e.insert=e.strstart<C-1?e.strstart:C-1,n===Z?(N(e,!0),e.strm.avail_out===0?ae:ue):e.sym_next&&(N(e,!1),e.strm.avail_out===0)?B:he},re=(e,n)=>{let t,a,l;for(;;){if(e.lookahead<H){if(de(e),e.lookahead<H&&n===Y)return B;if(e.lookahead===0)break}if(t=0,e.lookahead>=C&&(e.ins_h=j(e,e.ins_h,e.window[e.strstart+C-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=C-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-H&&(e.match_length=Ln(e,t),e.match_length<=5&&(e.strategy===Xa||e.match_length===C&&e.strstart-e.match_start>4096)&&(e.match_length=C-1)),e.prev_length>=C&&e.match_length<=e.prev_length){l=e.strstart+e.lookahead-C,a=X(e,e.strstart-1-e.prev_match,e.prev_length-C),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=l&&(e.ins_h=j(e,e.ins_h,e.window[e.strstart+C-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=C-1,e.strstart++,a&&(N(e,!1),e.strm.avail_out===0))return B}else if(e.match_available){if(a=X(e,0,e.window[e.strstart-1]),a&&N(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return B}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(a=X(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<C-1?e.strstart:C-1,n===Z?(N(e,!0),e.strm.avail_out===0?ae:ue):e.sym_next&&(N(e,!1),e.strm.avail_out===0)?B:he},ds=(e,n)=>{let t,a,l,s;const r=e.window;for(;;){if(e.lookahead<=G){if(de(e),e.lookahead<=G&&n===Y)return B;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=C&&e.strstart>0&&(l=e.strstart-1,a=r[l],a===r[++l]&&a===r[++l]&&a===r[++l])){s=e.strstart+G;do;while(a===r[++l]&&a===r[++l]&&a===r[++l]&&a===r[++l]&&a===r[++l]&&a===r[++l]&&a===r[++l]&&a===r[++l]&&l<s);e.match_length=G-(s-l),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=C?(t=X(e,1,e.match_length-C),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=X(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(N(e,!1),e.strm.avail_out===0))return B}return e.insert=0,n===Z?(N(e,!0),e.strm.avail_out===0?ae:ue):e.sym_next&&(N(e,!1),e.strm.avail_out===0)?B:he},_s=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(de(e),e.lookahead===0)){if(n===Y)return B;break}if(e.match_length=0,t=X(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(N(e,!1),e.strm.avail_out===0))return B}return e.insert=0,n===Z?(N(e,!0),e.strm.avail_out===0?ae:ue):e.sym_next&&(N(e,!1),e.strm.avail_out===0)?B:he};function $(e,n,t,a,l){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=a,this.func=l}const Ce=[new $(0,0,0,0,$n),new $(4,4,8,4,lt),new $(4,5,16,8,lt),new $(4,6,32,32,lt),new $(4,4,16,16,re),new $(8,16,32,32,re),new $(8,16,128,128,re),new $(8,32,128,256,re),new $(32,128,258,1024,re),new $(32,258,258,4096,re)],hs=e=>{e.window_size=2*e.w_size,W(e.head),e.max_lazy_match=Ce[e.level].max_lazy,e.good_match=Ce[e.level].good_length,e.nice_match=Ce[e.level].nice_length,e.max_chain_length=Ce[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=C-1,e.match_available=0,e.ins_h=0};function us(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=je,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(os*2),this.dyn_dtree=new Uint16Array((2*ss+1)*2),this.bl_tree=new Uint16Array((2*ls+1)*2),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(is+1),this.heap=new Uint16Array(2*bt+1),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*bt+1),W(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Oe=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.status!==fe&&n.status!==Et&&n.status!==gt&&n.status!==At&&n.status!==Ct&&n.status!==wt&&n.status!==ee&&n.status!==Ae?1:0},Un=e=>{if(Oe(e))return te(e,M);e.total_in=e.total_out=0,e.data_type=Ja;const n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?Et:n.wrap?fe:ee,e.adler=n.wrap===2?0:1,n.last_flush=-2,Ma(n),R},Mn=e=>{const n=Un(e);return n===R&&hs(e.state),n},ys=(e,n)=>Oe(e)||e.state.wrap!==2?M:(e.state.gzhead=n,R),Hn=(e,n,t,a,l,s)=>{if(!e)return M;let r=1;if(n===Ga&&(n=6),a<0?(r=0,a=-a):a>15&&(r=2,a-=16),l<1||l>Qa||t!==je||a<8||a>15||n<0||n>9||s<0||s>ja||a===8&&r!==1)return te(e,M);a===8&&(a=9);const i=new us;return e.state=i,i.strm=e,i.status=fe,i.wrap=r,i.gzhead=null,i.w_bits=a,i.w_size=1<<i.w_bits,i.w_mask=i.w_size-1,i.hash_bits=l+7,i.hash_size=1<<i.hash_bits,i.hash_mask=i.hash_size-1,i.hash_shift=~~((i.hash_bits+C-1)/C),i.window=new Uint8Array(i.w_size*2),i.head=new Uint16Array(i.hash_size),i.prev=new Uint16Array(i.w_size),i.lit_bufsize=1<<l+6,i.pending_buf_size=i.lit_bufsize*4,i.pending_buf=new Uint8Array(i.pending_buf_size),i.sym_buf=i.lit_bufsize,i.sym_end=(i.lit_bufsize-1)*3,i.level=n,i.strategy=s,i.method=t,Mn(e)},Ds=(e,n)=>Hn(e,n,je,es,ts,Va),bs=(e,n)=>{if(Oe(e)||n>Mt||n<0)return e?te(e,M):M;const t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===Ae&&n!==Z)return te(e,e.avail_out===0?st:M);const a=t.last_flush;if(t.last_flush=n,t.pending!==0){if(I(e),e.avail_out===0)return t.last_flush=-1,R}else if(e.avail_in===0&&qt(n)<=qt(a)&&n!==Z)return te(e,st);if(t.status===Ae&&e.avail_in!==0)return te(e,st);if(t.status===fe&&t.wrap===0&&(t.status=ee),t.status===fe){let l=je+(t.w_bits-8<<4)<<8,s=-1;if(t.strategy>=$e||t.level<2?s=0:t.level<6?s=1:t.level===6?s=2:s=3,l|=s<<6,t.strstart!==0&&(l|=rs),l+=31-l%31,be(t,l),t.strstart!==0&&(be(t,e.adler>>>16),be(t,e.adler&65535)),e.adler=1,t.status=ee,I(e),t.pending!==0)return t.last_flush=-1,R}if(t.status===Et){if(e.adler=0,k(t,31),k(t,139),k(t,8),t.gzhead)k(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),k(t,t.gzhead.time&255),k(t,t.gzhead.time>>8&255),k(t,t.gzhead.time>>16&255),k(t,t.gzhead.time>>24&255),k(t,t.level===9?2:t.strategy>=$e||t.level<2?4:0),k(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(k(t,t.gzhead.extra.length&255),k(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=z(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=gt;else if(k(t,0),k(t,0),k(t,0),k(t,0),k(t,0),k(t,t.level===9?2:t.strategy>=$e||t.level<2?4:0),k(t,cs),t.status=ee,I(e),t.pending!==0)return t.last_flush=-1,R}if(t.status===gt){if(t.gzhead.extra){let l=t.pending,s=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+s>t.pending_buf_size;){let i=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+i),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>l&&(e.adler=z(e.adler,t.pending_buf,t.pending-l,l)),t.gzindex+=i,I(e),t.pending!==0)return t.last_flush=-1,R;l=0,s-=i}let r=new Uint8Array(t.gzhead.extra);t.pending_buf.set(r.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending+=s,t.gzhead.hcrc&&t.pending>l&&(e.adler=z(e.adler,t.pending_buf,t.pending-l,l)),t.gzindex=0}t.status=At}if(t.status===At){if(t.gzhead.name){let l=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>l&&(e.adler=z(e.adler,t.pending_buf,t.pending-l,l)),I(e),t.pending!==0)return t.last_flush=-1,R;l=0}t.gzindex<t.gzhead.name.length?s=t.gzhead.name.charCodeAt(t.gzindex++)&255:s=0,k(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>l&&(e.adler=z(e.adler,t.pending_buf,t.pending-l,l)),t.gzindex=0}t.status=Ct}if(t.status===Ct){if(t.gzhead.comment){let l=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>l&&(e.adler=z(e.adler,t.pending_buf,t.pending-l,l)),I(e),t.pending!==0)return t.last_flush=-1,R;l=0}t.gzindex<t.gzhead.comment.length?s=t.gzhead.comment.charCodeAt(t.gzindex++)&255:s=0,k(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>l&&(e.adler=z(e.adler,t.pending_buf,t.pending-l,l))}t.status=wt}if(t.status===wt){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(I(e),t.pending!==0))return t.last_flush=-1,R;k(t,e.adler&255),k(t,e.adler>>8&255),e.adler=0}if(t.status=ee,I(e),t.pending!==0)return t.last_flush=-1,R}if(e.avail_in!==0||t.lookahead!==0||n!==Y&&t.status!==Ae){let l=t.level===0?$n(t,n):t.strategy===$e?_s(t,n):t.strategy===Ya?ds(t,n):Ce[t.level].func(t,n);if((l===ae||l===ue)&&(t.status=Ae),l===B||l===ae)return e.avail_out===0&&(t.last_flush=-1),R;if(l===he&&(n===Pa?qa(t):n!==Mt&&(Dt(t,0,0,!1),n===Ka&&(W(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),I(e),e.avail_out===0))return t.last_flush=-1,R}return n!==Z?R:t.wrap<=0?Ht:(t.wrap===2?(k(t,e.adler&255),k(t,e.adler>>8&255),k(t,e.adler>>16&255),k(t,e.adler>>24&255),k(t,e.total_in&255),k(t,e.total_in>>8&255),k(t,e.total_in>>16&255),k(t,e.total_in>>24&255)):(be(t,e.adler>>>16),be(t,e.adler&65535)),I(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?R:Ht)},gs=e=>{if(Oe(e))return M;const n=e.state.status;return e.state=null,n===ee?te(e,Wa):R},As=(e,n)=>{let t=n.length;if(Oe(e))return M;const a=e.state,l=a.wrap;if(l===2||l===1&&a.status!==fe||a.lookahead)return M;if(l===1&&(e.adler=Se(e.adler,n,t,0)),a.wrap=0,t>=a.w_size){l===0&&(W(a.head),a.strstart=0,a.block_start=0,a.insert=0);let _=new Uint8Array(a.w_size);_.set(n.subarray(t-a.w_size,t),0),n=_,t=a.w_size}const s=e.avail_in,r=e.next_in,i=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,de(a);a.lookahead>=C;){let _=a.strstart,o=a.lookahead-(C-1);do a.ins_h=j(a,a.ins_h,a.window[_+C-1]),a.prev[_&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=_,_++;while(--o);a.strstart=_,a.lookahead=C-1,de(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=C-1,a.match_available=0,e.next_in=r,e.input=i,e.avail_in=s,a.wrap=l,R};var Cs=Ds,ws=Hn,Fs=Mn,xs=Un,ks=ys,ms=bs,vs=gs,Es=As,Ss="pako deflate (from Nodeca project)",Fe={deflateInit:Cs,deflateInit2:ws,deflateReset:Fs,deflateResetKeep:xs,deflateSetHeader:ks,deflate:ms,deflateEnd:vs,deflateSetDictionary:Es,deflateInfo:Ss};const Ts=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var zs=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const a in t)Ts(t,a)&&(e[a]=t[a])}}return e},Rs=e=>{let n=0;for(let a=0,l=e.length;a<l;a++)n+=e[a].length;const t=new Uint8Array(n);for(let a=0,l=0,s=e.length;a<s;a++){let r=e[a];t.set(r,l),l+=r.length}return t},Ve={assign:zs,flattenChunks:Rs};let qn=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{qn=!1}const Te=new Uint8Array(256);for(let e=0;e<256;e++)Te[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Te[254]=Te[254]=1;var Bs=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,a,l,s,r=e.length,i=0;for(l=0;l<r;l++)t=e.charCodeAt(l),(t&64512)===55296&&l+1<r&&(a=e.charCodeAt(l+1),(a&64512)===56320&&(t=65536+(t-55296<<10)+(a-56320),l++)),i+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(i),s=0,l=0;s<i;l++)t=e.charCodeAt(l),(t&64512)===55296&&l+1<r&&(a=e.charCodeAt(l+1),(a&64512)===56320&&(t=65536+(t-55296<<10)+(a-56320),l++)),t<128?n[s++]=t:t<2048?(n[s++]=192|t>>>6,n[s++]=128|t&63):t<65536?(n[s++]=224|t>>>12,n[s++]=128|t>>>6&63,n[s++]=128|t&63):(n[s++]=240|t>>>18,n[s++]=128|t>>>12&63,n[s++]=128|t>>>6&63,n[s++]=128|t&63);return n};const Os=(e,n)=>{if(n<65534&&e.subarray&&qn)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let a=0;a<n;a++)t+=String.fromCharCode(e[a]);return t};var Is=(e,n)=>{const t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let a,l;const s=new Array(t*2);for(l=0,a=0;a<t;){let r=e[a++];if(r<128){s[l++]=r;continue}let i=Te[r];if(i>4){s[l++]=65533,a+=i-1;continue}for(r&=i===2?31:i===3?15:7;i>1&&a<t;)r=r<<6|e[a++]&63,i--;if(i>1){s[l++]=65533;continue}r<65536?s[l++]=r:(r-=65536,s[l++]=55296|r>>10&1023,s[l++]=56320|r&1023)}return Os(s,l)},Ns=(e,n)=>{n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+Te[e[t]]>n?t:n},ze={string2buf:Bs,buf2string:Is,utf8border:Ns};function Zs(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Pn=Zs;const Kn=Object.prototype.toString,{Z_NO_FLUSH:Ls,Z_SYNC_FLUSH:$s,Z_FULL_FLUSH:Us,Z_FINISH:Ms,Z_OK:Xe,Z_STREAM_END:Hs,Z_DEFAULT_COMPRESSION:qs,Z_DEFAULT_STRATEGY:Ps,Z_DEFLATED:Ks}=le;function Ie(e){this.options=Ve.assign({level:qs,method:Ks,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ps},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Pn,this.strm.avail_out=0;let t=Fe.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==Xe)throw new Error(ne[t]);if(n.header&&Fe.deflateSetHeader(this.strm,n.header),n.dictionary){let a;if(typeof n.dictionary=="string"?a=ze.string2buf(n.dictionary):Kn.call(n.dictionary)==="[object ArrayBuffer]"?a=new Uint8Array(n.dictionary):a=n.dictionary,t=Fe.deflateSetDictionary(this.strm,a),t!==Xe)throw new Error(ne[t]);this._dict_set=!0}}Ie.prototype.push=function(e,n){const t=this.strm,a=this.options.chunkSize;let l,s;if(this.ended)return!1;for(n===~~n?s=n:s=n===!0?Ms:Ls,typeof e=="string"?t.input=ze.string2buf(e):Kn.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(a),t.next_out=0,t.avail_out=a),(s===$s||s===Us)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(l=Fe.deflate(t,s),l===Hs)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),l=Fe.deflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===Xe;if(t.avail_out===0){this.onData(t.output);continue}if(s>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};Ie.prototype.onData=function(e){this.chunks.push(e)};Ie.prototype.onEnd=function(e){e===Xe&&(this.result=Ve.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function St(e,n){const t=new Ie(n);if(t.push(e,!0),t.err)throw t.msg||ne[t.err];return t.result}function Ws(e,n){return n=n||{},n.raw=!0,St(e,n)}function Gs(e,n){return n=n||{},n.gzip=!0,St(e,n)}var Xs=Ie,Ys=St,js=Ws,Vs=Gs,Js=le,Qs={Deflate:Xs,deflate:Ys,deflateRaw:js,gzip:Vs,constants:Js};const Ue=16209,el=16191;var tl=function(n,t){let a,l,s,r,i,_,o,c,D,f,p,h,S,w,b,m,g,d,x,T,u,v,F,y;const A=n.state;a=n.next_in,F=n.input,l=a+(n.avail_in-5),s=n.next_out,y=n.output,r=s-(t-n.avail_out),i=s+(n.avail_out-257),_=A.dmax,o=A.wsize,c=A.whave,D=A.wnext,f=A.window,p=A.hold,h=A.bits,S=A.lencode,w=A.distcode,b=(1<<A.lenbits)-1,m=(1<<A.distbits)-1;e:do{h<15&&(p+=F[a++]<<h,h+=8,p+=F[a++]<<h,h+=8),g=S[p&b];t:for(;;){if(d=g>>>24,p>>>=d,h-=d,d=g>>>16&255,d===0)y[s++]=g&65535;else if(d&16){x=g&65535,d&=15,d&&(h<d&&(p+=F[a++]<<h,h+=8),x+=p&(1<<d)-1,p>>>=d,h-=d),h<15&&(p+=F[a++]<<h,h+=8,p+=F[a++]<<h,h+=8),g=w[p&m];n:for(;;){if(d=g>>>24,p>>>=d,h-=d,d=g>>>16&255,d&16){if(T=g&65535,d&=15,h<d&&(p+=F[a++]<<h,h+=8,h<d&&(p+=F[a++]<<h,h+=8)),T+=p&(1<<d)-1,T>_){n.msg="invalid distance too far back",A.mode=Ue;break e}if(p>>>=d,h-=d,d=s-r,T>d){if(d=T-d,d>c&&A.sane){n.msg="invalid distance too far back",A.mode=Ue;break e}if(u=0,v=f,D===0){if(u+=o-d,d<x){x-=d;do y[s++]=f[u++];while(--d);u=s-T,v=y}}else if(D<d){if(u+=o+D-d,d-=D,d<x){x-=d;do y[s++]=f[u++];while(--d);if(u=0,D<x){d=D,x-=d;do y[s++]=f[u++];while(--d);u=s-T,v=y}}}else if(u+=D-d,d<x){x-=d;do y[s++]=f[u++];while(--d);u=s-T,v=y}for(;x>2;)y[s++]=v[u++],y[s++]=v[u++],y[s++]=v[u++],x-=3;x&&(y[s++]=v[u++],x>1&&(y[s++]=v[u++]))}else{u=s-T;do y[s++]=y[u++],y[s++]=y[u++],y[s++]=y[u++],x-=3;while(x>2);x&&(y[s++]=y[u++],x>1&&(y[s++]=y[u++]))}}else if(d&64){n.msg="invalid distance code",A.mode=Ue;break e}else{g=w[(g&65535)+(p&(1<<d)-1)];continue n}break}}else if(d&64)if(d&32){A.mode=el;break e}else{n.msg="invalid literal/length code",A.mode=Ue;break e}else{g=S[(g&65535)+(p&(1<<d)-1)];continue t}break}}while(a<l&&s<i);x=h>>3,a-=x,h-=x<<3,p&=(1<<h)-1,n.next_in=a,n.next_out=s,n.avail_in=a<l?5+(l-a):5-(a-l),n.avail_out=s<i?257+(i-s):257-(s-i),A.hold=p,A.bits=h};const ce=15,Pt=852,Kt=592,Wt=0,ot=1,Gt=2,nl=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),al=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),sl=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ll=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ol=(e,n,t,a,l,s,r,i)=>{const _=i.bits;let o=0,c=0,D=0,f=0,p=0,h=0,S=0,w=0,b=0,m=0,g,d,x,T,u,v=null,F;const y=new Uint16Array(ce+1),A=new Uint16Array(ce+1);let V=null,zt,Ze,Le;for(o=0;o<=ce;o++)y[o]=0;for(c=0;c<a;c++)y[n[t+c]]++;for(p=_,f=ce;f>=1&&y[f]===0;f--);if(p>f&&(p=f),f===0)return l[s++]=1<<24|64<<16|0,l[s++]=1<<24|64<<16|0,i.bits=1,0;for(D=1;D<f&&y[D]===0;D++);for(p<D&&(p=D),w=1,o=1;o<=ce;o++)if(w<<=1,w-=y[o],w<0)return-1;if(w>0&&(e===Wt||f!==1))return-1;for(A[1]=0,o=1;o<ce;o++)A[o+1]=A[o]+y[o];for(c=0;c<a;c++)n[t+c]!==0&&(r[A[n[t+c]]++]=c);if(e===Wt?(v=V=r,F=20):e===ot?(v=nl,V=al,F=257):(v=sl,V=ll,F=0),m=0,c=0,o=D,u=s,h=p,S=0,x=-1,b=1<<p,T=b-1,e===ot&&b>Pt||e===Gt&&b>Kt)return 1;for(;;){zt=o-S,r[c]+1<F?(Ze=0,Le=r[c]):r[c]>=F?(Ze=V[r[c]-F],Le=v[r[c]-F]):(Ze=32+64,Le=0),g=1<<o-S,d=1<<h,D=d;do d-=g,l[u+(m>>S)+d]=zt<<24|Ze<<16|Le|0;while(d!==0);for(g=1<<o-1;m&g;)g>>=1;if(g!==0?(m&=g-1,m+=g):m=0,c++,--y[o]===0){if(o===f)break;o=n[t+r[c]]}if(o>p&&(m&T)!==x){for(S===0&&(S=p),u+=D,h=o-S,w=1<<h;h+S<f&&(w-=y[h+S],!(w<=0));)h++,w<<=1;if(b+=1<<h,e===ot&&b>Pt||e===Gt&&b>Kt)return 1;x=m&T,l[x]=p<<24|h<<16|u-s|0}}return m!==0&&(l[u+m]=o-S<<24|64<<16|0),i.bits=p,0};var xe=ol;const il=0,Wn=1,Gn=2,{Z_FINISH:Xt,Z_BLOCK:rl,Z_TREES:Me,Z_OK:se,Z_STREAM_END:cl,Z_NEED_DICT:pl,Z_STREAM_ERROR:L,Z_DATA_ERROR:Xn,Z_MEM_ERROR:Yn,Z_BUF_ERROR:fl,Z_DEFLATED:Yt}=le,Je=16180,jt=16181,Vt=16182,Jt=16183,Qt=16184,en=16185,tn=16186,nn=16187,an=16188,sn=16189,Ye=16190,q=16191,it=16192,ln=16193,rt=16194,on=16195,rn=16196,cn=16197,pn=16198,He=16199,qe=16200,fn=16201,dn=16202,_n=16203,hn=16204,un=16205,ct=16206,yn=16207,Dn=16208,E=16209,jn=16210,Vn=16211,dl=852,_l=592,hl=15,ul=hl,bn=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function yl(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const oe=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.mode<Je||n.mode>Vn?1:0},Jn=e=>{if(oe(e))return L;const n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=Je,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(dl),n.distcode=n.distdyn=new Int32Array(_l),n.sane=1,n.back=-1,se},Qn=e=>{if(oe(e))return L;const n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,Jn(e)},ea=(e,n)=>{let t;if(oe(e))return L;const a=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?L:(a.window!==null&&a.wbits!==n&&(a.window=null),a.wrap=t,a.wbits=n,Qn(e))},ta=(e,n)=>{if(!e)return L;const t=new yl;e.state=t,t.strm=e,t.window=null,t.mode=Je;const a=ea(e,n);return a!==se&&(e.state=null),a},Dl=e=>ta(e,ul);let gn=!0,pt,ft;const bl=e=>{if(gn){pt=new Int32Array(512),ft=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(xe(Wn,e.lens,0,288,pt,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;xe(Gn,e.lens,0,32,ft,0,e.work,{bits:5}),gn=!1}e.lencode=pt,e.lenbits=9,e.distcode=ft,e.distbits=5},na=(e,n,t,a)=>{let l;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),a>=s.wsize?(s.window.set(n.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(l=s.wsize-s.wnext,l>a&&(l=a),s.window.set(n.subarray(t-a,t-a+l),s.wnext),a-=l,a?(s.window.set(n.subarray(t-a,t),0),s.wnext=a,s.whave=s.wsize):(s.wnext+=l,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=l))),0},gl=(e,n)=>{let t,a,l,s,r,i,_,o,c,D,f,p,h,S,w=0,b,m,g,d,x,T,u,v;const F=new Uint8Array(4);let y,A;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(oe(e)||!e.output||!e.input&&e.avail_in!==0)return L;t=e.state,t.mode===q&&(t.mode=it),r=e.next_out,l=e.output,_=e.avail_out,s=e.next_in,a=e.input,i=e.avail_in,o=t.hold,c=t.bits,D=i,f=_,v=se;e:for(;;)switch(t.mode){case Je:if(t.wrap===0){t.mode=it;break}for(;c<16;){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}if(t.wrap&2&&o===35615){t.wbits===0&&(t.wbits=15),t.check=0,F[0]=o&255,F[1]=o>>>8&255,t.check=z(t.check,F,2,0),o=0,c=0,t.mode=jt;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((o&255)<<8)+(o>>8))%31){e.msg="incorrect header check",t.mode=E;break}if((o&15)!==Yt){e.msg="unknown compression method",t.mode=E;break}if(o>>>=4,c-=4,u=(o&15)+8,t.wbits===0&&(t.wbits=u),u>15||u>t.wbits){e.msg="invalid window size",t.mode=E;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=o&512?sn:q,o=0,c=0;break;case jt:for(;c<16;){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}if(t.flags=o,(t.flags&255)!==Yt){e.msg="unknown compression method",t.mode=E;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=E;break}t.head&&(t.head.text=o>>8&1),t.flags&512&&t.wrap&4&&(F[0]=o&255,F[1]=o>>>8&255,t.check=z(t.check,F,2,0)),o=0,c=0,t.mode=Vt;case Vt:for(;c<32;){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}t.head&&(t.head.time=o),t.flags&512&&t.wrap&4&&(F[0]=o&255,F[1]=o>>>8&255,F[2]=o>>>16&255,F[3]=o>>>24&255,t.check=z(t.check,F,4,0)),o=0,c=0,t.mode=Jt;case Jt:for(;c<16;){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}t.head&&(t.head.xflags=o&255,t.head.os=o>>8),t.flags&512&&t.wrap&4&&(F[0]=o&255,F[1]=o>>>8&255,t.check=z(t.check,F,2,0)),o=0,c=0,t.mode=Qt;case Qt:if(t.flags&1024){for(;c<16;){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}t.length=o,t.head&&(t.head.extra_len=o),t.flags&512&&t.wrap&4&&(F[0]=o&255,F[1]=o>>>8&255,t.check=z(t.check,F,2,0)),o=0,c=0}else t.head&&(t.head.extra=null);t.mode=en;case en:if(t.flags&1024&&(p=t.length,p>i&&(p=i),p&&(t.head&&(u=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(a.subarray(s,s+p),u)),t.flags&512&&t.wrap&4&&(t.check=z(t.check,a,p,s)),i-=p,s+=p,t.length-=p),t.length))break e;t.length=0,t.mode=tn;case tn:if(t.flags&2048){if(i===0)break e;p=0;do u=a[s+p++],t.head&&u&&t.length<65536&&(t.head.name+=String.fromCharCode(u));while(u&&p<i);if(t.flags&512&&t.wrap&4&&(t.check=z(t.check,a,p,s)),i-=p,s+=p,u)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=nn;case nn:if(t.flags&4096){if(i===0)break e;p=0;do u=a[s+p++],t.head&&u&&t.length<65536&&(t.head.comment+=String.fromCharCode(u));while(u&&p<i);if(t.flags&512&&t.wrap&4&&(t.check=z(t.check,a,p,s)),i-=p,s+=p,u)break e}else t.head&&(t.head.comment=null);t.mode=an;case an:if(t.flags&512){for(;c<16;){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}if(t.wrap&4&&o!==(t.check&65535)){e.msg="header crc mismatch",t.mode=E;break}o=0,c=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=q;break;case sn:for(;c<32;){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}e.adler=t.check=bn(o),o=0,c=0,t.mode=Ye;case Ye:if(t.havedict===0)return e.next_out=r,e.avail_out=_,e.next_in=s,e.avail_in=i,t.hold=o,t.bits=c,pl;e.adler=t.check=1,t.mode=q;case q:if(n===rl||n===Me)break e;case it:if(t.last){o>>>=c&7,c-=c&7,t.mode=ct;break}for(;c<3;){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}switch(t.last=o&1,o>>>=1,c-=1,o&3){case 0:t.mode=ln;break;case 1:if(bl(t),t.mode=He,n===Me){o>>>=2,c-=2;break e}break;case 2:t.mode=rn;break;case 3:e.msg="invalid block type",t.mode=E}o>>>=2,c-=2;break;case ln:for(o>>>=c&7,c-=c&7;c<32;){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}if((o&65535)!==(o>>>16^65535)){e.msg="invalid stored block lengths",t.mode=E;break}if(t.length=o&65535,o=0,c=0,t.mode=rt,n===Me)break e;case rt:t.mode=on;case on:if(p=t.length,p){if(p>i&&(p=i),p>_&&(p=_),p===0)break e;l.set(a.subarray(s,s+p),r),i-=p,s+=p,_-=p,r+=p,t.length-=p;break}t.mode=q;break;case rn:for(;c<14;){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}if(t.nlen=(o&31)+257,o>>>=5,c-=5,t.ndist=(o&31)+1,o>>>=5,c-=5,t.ncode=(o&15)+4,o>>>=4,c-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=E;break}t.have=0,t.mode=cn;case cn:for(;t.have<t.ncode;){for(;c<3;){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}t.lens[V[t.have++]]=o&7,o>>>=3,c-=3}for(;t.have<19;)t.lens[V[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,y={bits:t.lenbits},v=xe(il,t.lens,0,19,t.lencode,0,t.work,y),t.lenbits=y.bits,v){e.msg="invalid code lengths set",t.mode=E;break}t.have=0,t.mode=pn;case pn:for(;t.have<t.nlen+t.ndist;){for(;w=t.lencode[o&(1<<t.lenbits)-1],b=w>>>24,m=w>>>16&255,g=w&65535,!(b<=c);){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}if(g<16)o>>>=b,c-=b,t.lens[t.have++]=g;else{if(g===16){for(A=b+2;c<A;){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}if(o>>>=b,c-=b,t.have===0){e.msg="invalid bit length repeat",t.mode=E;break}u=t.lens[t.have-1],p=3+(o&3),o>>>=2,c-=2}else if(g===17){for(A=b+3;c<A;){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}o>>>=b,c-=b,u=0,p=3+(o&7),o>>>=3,c-=3}else{for(A=b+7;c<A;){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}o>>>=b,c-=b,u=0,p=11+(o&127),o>>>=7,c-=7}if(t.have+p>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=E;break}for(;p--;)t.lens[t.have++]=u}}if(t.mode===E)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=E;break}if(t.lenbits=9,y={bits:t.lenbits},v=xe(Wn,t.lens,0,t.nlen,t.lencode,0,t.work,y),t.lenbits=y.bits,v){e.msg="invalid literal/lengths set",t.mode=E;break}if(t.distbits=6,t.distcode=t.distdyn,y={bits:t.distbits},v=xe(Gn,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,y),t.distbits=y.bits,v){e.msg="invalid distances set",t.mode=E;break}if(t.mode=He,n===Me)break e;case He:t.mode=qe;case qe:if(i>=6&&_>=258){e.next_out=r,e.avail_out=_,e.next_in=s,e.avail_in=i,t.hold=o,t.bits=c,tl(e,f),r=e.next_out,l=e.output,_=e.avail_out,s=e.next_in,a=e.input,i=e.avail_in,o=t.hold,c=t.bits,t.mode===q&&(t.back=-1);break}for(t.back=0;w=t.lencode[o&(1<<t.lenbits)-1],b=w>>>24,m=w>>>16&255,g=w&65535,!(b<=c);){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}if(m&&!(m&240)){for(d=b,x=m,T=g;w=t.lencode[T+((o&(1<<d+x)-1)>>d)],b=w>>>24,m=w>>>16&255,g=w&65535,!(d+b<=c);){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}o>>>=d,c-=d,t.back+=d}if(o>>>=b,c-=b,t.back+=b,t.length=g,m===0){t.mode=un;break}if(m&32){t.back=-1,t.mode=q;break}if(m&64){e.msg="invalid literal/length code",t.mode=E;break}t.extra=m&15,t.mode=fn;case fn:if(t.extra){for(A=t.extra;c<A;){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}t.length+=o&(1<<t.extra)-1,o>>>=t.extra,c-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=dn;case dn:for(;w=t.distcode[o&(1<<t.distbits)-1],b=w>>>24,m=w>>>16&255,g=w&65535,!(b<=c);){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}if(!(m&240)){for(d=b,x=m,T=g;w=t.distcode[T+((o&(1<<d+x)-1)>>d)],b=w>>>24,m=w>>>16&255,g=w&65535,!(d+b<=c);){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}o>>>=d,c-=d,t.back+=d}if(o>>>=b,c-=b,t.back+=b,m&64){e.msg="invalid distance code",t.mode=E;break}t.offset=g,t.extra=m&15,t.mode=_n;case _n:if(t.extra){for(A=t.extra;c<A;){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}t.offset+=o&(1<<t.extra)-1,o>>>=t.extra,c-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=E;break}t.mode=hn;case hn:if(_===0)break e;if(p=f-_,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=E;break}p>t.wnext?(p-=t.wnext,h=t.wsize-p):h=t.wnext-p,p>t.length&&(p=t.length),S=t.window}else S=l,h=r-t.offset,p=t.length;p>_&&(p=_),_-=p,t.length-=p;do l[r++]=S[h++];while(--p);t.length===0&&(t.mode=qe);break;case un:if(_===0)break e;l[r++]=t.length,_--,t.mode=qe;break;case ct:if(t.wrap){for(;c<32;){if(i===0)break e;i--,o|=a[s++]<<c,c+=8}if(f-=_,e.total_out+=f,t.total+=f,t.wrap&4&&f&&(e.adler=t.check=t.flags?z(t.check,l,f,r-f):Se(t.check,l,f,r-f)),f=_,t.wrap&4&&(t.flags?o:bn(o))!==t.check){e.msg="incorrect data check",t.mode=E;break}o=0,c=0}t.mode=yn;case yn:if(t.wrap&&t.flags){for(;c<32;){if(i===0)break e;i--,o+=a[s++]<<c,c+=8}if(t.wrap&4&&o!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=E;break}o=0,c=0}t.mode=Dn;case Dn:v=cl;break e;case E:v=Xn;break e;case jn:return Yn;case Vn:default:return L}return e.next_out=r,e.avail_out=_,e.next_in=s,e.avail_in=i,t.hold=o,t.bits=c,(t.wsize||f!==e.avail_out&&t.mode<E&&(t.mode<ct||n!==Xt))&&na(e,e.output,e.next_out,f-e.avail_out),D-=e.avail_in,f-=e.avail_out,e.total_in+=D,e.total_out+=f,t.total+=f,t.wrap&4&&f&&(e.adler=t.check=t.flags?z(t.check,l,f,e.next_out-f):Se(t.check,l,f,e.next_out-f)),e.data_type=t.bits+(t.last?64:0)+(t.mode===q?128:0)+(t.mode===He||t.mode===rt?256:0),(D===0&&f===0||n===Xt)&&v===se&&(v=fl),v},Al=e=>{if(oe(e))return L;let n=e.state;return n.window&&(n.window=null),e.state=null,se},Cl=(e,n)=>{if(oe(e))return L;const t=e.state;return t.wrap&2?(t.head=n,n.done=!1,se):L},wl=(e,n)=>{const t=n.length;let a,l,s;return oe(e)||(a=e.state,a.wrap!==0&&a.mode!==Ye)?L:a.mode===Ye&&(l=1,l=Se(l,n,t,0),l!==a.check)?Xn:(s=na(e,n,t,t),s?(a.mode=jn,Yn):(a.havedict=1,se))};var Fl=Qn,xl=ea,kl=Jn,ml=Dl,vl=ta,El=gl,Sl=Al,Tl=Cl,zl=wl,Rl="pako inflate (from Nodeca project)",K={inflateReset:Fl,inflateReset2:xl,inflateResetKeep:kl,inflateInit:ml,inflateInit2:vl,inflate:El,inflateEnd:Sl,inflateGetHeader:Tl,inflateSetDictionary:zl,inflateInfo:Rl};function Bl(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Ol=Bl;const aa=Object.prototype.toString,{Z_NO_FLUSH:Il,Z_FINISH:Nl,Z_OK:Re,Z_STREAM_END:dt,Z_NEED_DICT:_t,Z_STREAM_ERROR:Zl,Z_DATA_ERROR:An,Z_MEM_ERROR:Ll}=le;function Ne(e){this.options=Ve.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Pn,this.strm.avail_out=0;let t=K.inflateInit2(this.strm,n.windowBits);if(t!==Re)throw new Error(ne[t]);if(this.header=new Ol,K.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=ze.string2buf(n.dictionary):aa.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=K.inflateSetDictionary(this.strm,n.dictionary),t!==Re)))throw new Error(ne[t])}Ne.prototype.push=function(e,n){const t=this.strm,a=this.options.chunkSize,l=this.options.dictionary;let s,r,i;if(this.ended)return!1;for(n===~~n?r=n:r=n===!0?Nl:Il,aa.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(a),t.next_out=0,t.avail_out=a),s=K.inflate(t,r),s===_t&&l&&(s=K.inflateSetDictionary(t,l),s===Re?s=K.inflate(t,r):s===An&&(s=_t));t.avail_in>0&&s===dt&&t.state.wrap>0&&e[t.next_in]!==0;)K.inflateReset(t),s=K.inflate(t,r);switch(s){case Zl:case An:case _t:case Ll:return this.onEnd(s),this.ended=!0,!1}if(i=t.avail_out,t.next_out&&(t.avail_out===0||s===dt))if(this.options.to==="string"){let _=ze.utf8border(t.output,t.next_out),o=t.next_out-_,c=ze.buf2string(t.output,_);t.next_out=o,t.avail_out=a-o,o&&t.output.set(t.output.subarray(_,_+o),0),this.onData(c)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===Re&&i===0)){if(s===dt)return s=K.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Ne.prototype.onData=function(e){this.chunks.push(e)};Ne.prototype.onEnd=function(e){e===Re&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ve.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Tt(e,n){const t=new Ne(n);if(t.push(e),t.err)throw t.msg||ne[t.err];return t.result}function $l(e,n){return n=n||{},n.raw=!0,Tt(e,n)}var Ul=Ne,Ml=Tt,Hl=$l,ql=Tt,Pl=le,Kl={Inflate:Ul,inflate:Ml,inflateRaw:Hl,ungzip:ql,constants:Pl};const{Deflate:Wl,deflate:Gl,deflateRaw:Xl,gzip:Yl}=Qs,{Inflate:jl,inflate:Vl,inflateRaw:Jl,ungzip:Ql}=Kl;var eo=Wl,to=Gl,no=Xl,ao=Yl,so=jl,lo=Vl,oo=Jl,io=Ql,ro=le,co={Deflate:eo,deflate:to,deflateRaw:no,gzip:ao,Inflate:so,inflate:lo,inflateRaw:oo,ungzip:io,constants:ro},po=(e=>(e.action="event",e))(po||{}),fo=(e=>(e.req="req",e.sub="sub",e.unsub="unsub",e.ping="ping",e.pong="pong",e))(fo||{});const Pe=e=>{let n=`${e.event}@${e.params.channel}`;return e.params.id&&(n+=`@${e.params.id}`),n};class _o{constructor(n,t){this.callback={},this.queue=[],this.retry=0,this.url=n,this.options={name:"ws",connect:!0,retry:4,retryTime:2e3,heart:!1,heartTime:5e3,listenOnLine:!0,protocols:"",onCreate:()=>{},onOpen:()=>{},onClose:()=>{},...t},this.options.connect&&this.init(),this.listenOnLine()}init(n){if(n&&(this.url=n),!this.url)throw new Error("socket链接地址不能为空");if(this.ws&&[0,1].includes(this.ws.readyState))return;const{protocols:t}=this.options;this.log(`${this.options.name}-开始连接`),this.options.onCreate(this.retry),this.ws=t?new WebSocket(this.url,t):new WebSocket(this.url),this.ws.binaryType="arraybuffer",this.initEvent()}send(n,t){var l,s;if(((l=this.ws)==null?void 0:l.readyState)!==1){n.event!=="unsub"&&this.queue.push({data:n,callback:t});return}if(n.event==="unsub"){const r=Pe({...n,event:"sub"});(s=this.callback[r])!=null&&s.length&&(this.log(`发送数据
${JSON.stringify(n,null,2)}`,"green"),this.ws.send(JSON.stringify(n)),delete this.callback[r]),t({...n,success:!0});return}const a=Pe(n);this.callback[a]||(this.callback[a]=[]),this.callback[a].push({data:n,callback:t}),this.callback[a].length===1&&(this.log(`发送数据
${JSON.stringify(n,null,2)}`,"green"),this.ws.send(JSON.stringify(n)))}close(){this.ws&&([2,3].includes(this.ws.readyState)||(this.ws.close(4e3),this.resetQueue()))}initEvent(){this.ws&&(this.ws.onopen=()=>{this.log(`${this.options.name}-已连接`,"green"),this.options.onOpen(this.retry),this.queue.length&&(this.queue.forEach(({data:n,callback:t})=>{this.send(n,t)}),this.queue=[]),this.options.heart&&this.heart({event:"pong",params:{channel:"pong"}})},this.ws.onmessage=n=>{let t={};try{const a=new Uint8Array(n.data),l=co.inflate(a,{to:"string"});t=JSON.parse(l),t.ping?t.event="ping":(t.event=t.event_rep==="rep"?"req":"sub",t.params={channel:t.channel})}catch(a){this.log("返回数据解析出错","error"),this.log(a);return}t.event==="ping"?this.heart(t):this.message(t)},this.ws.onclose=n=>{this.options.onClose(n.code===4e3),n.code!==4e3&&(this.resetQueue(),this.reconnect())})}message(n){if(!n.event)return;const t=Pe(n),a=this.callback[t];if(this.log("返回数据","green"),this.log(n),!(!a||!a.length)){if(n.event==="unsub"){const l=Pe({...n,action:"sub"});delete this.callback[l]}a.forEach(l=>{typeof l.callback=="function"&&l.callback({...n,success:n.status==="ok"})}),(n.event==="req"||n.event==="unsub")&&delete this.callback[t]}}heart(n){var t;if(this.options.heart)n.event==="pong"&&(this.heartTimer&&clearTimeout(this.heartTimer),this.heartTimer=setTimeout(()=>{var l;const a={ping:Date.now()};(l=this.ws)==null||l.send(JSON.stringify(a)),this.checkHeart()},this.options.heartTime));else if(n.event==="ping"){const a={pong:parseInt(String(Date.now()/1e3),10)};(t=this.ws)==null||t.send(JSON.stringify(a))}}checkHeart(){this.checkHeartTimer&&clearTimeout(this.checkHeartTimer),this.checkHeartTimer=setTimeout(()=>{var n,t;((n=this.ws)==null?void 0:n.readyState)===1&&((t=this.ws)==null||t.close())},this.options.heartTime-1e3)}resetQueue(){Object.keys(this.callback).forEach(n=>{this.callback[n].forEach(t=>this.queue.push(t))}),this.callback={}}reconnect(){navigator.onLine&&(this.retry+=1,clearTimeout(this.heartTimer),clearTimeout(this.checkHeartTimer),this.retry<=this.options.retry?setTimeout(()=>{this.log(`重试连接，第${this.retry}次`,"error"),this.init()},this.options.retryTime):(this.log("重试连接失败","error"),this.retry=0))}listenOnLine(){this.options.listenOnLine&&(window.addEventListener("online",()=>{this.log("有网重连"),this.init()},!1),window.addEventListener("offline",()=>{var n;((n=this.ws)==null?void 0:n.readyState)===1&&(this.log("无网关闭","error"),this.ws.close(3e3)),this.retry=0},!1))}log(n,t){if(sessionStorage.getItem("ws-debug")){const a="color: #fff; padding: 2px 6px; border-radius: 0 4px 4px 0;",l={title:`${a} background-color: #2c3e50; border-radius: 4px 0 0 4px;`,info:`${a} background-color: #409eff;`,green:`${a} background-color: #3eaf7c;`,error:`${a} background-color: #f56c6c;`};typeof n=="string"?console.info(`%c${this.options.name}-debug%c${n}`,l.title,l[t||"info"]):console.info(n)}}}const sa=e=>(pa("data-v-6b31cde0"),e=e(),fa(),e),ho={class:"flex mb-10px"},uo=sa(()=>J("span",{class:"text-red-600"}," ws状态: ",-1)),yo=sa(()=>J("span",{class:"ml-24px text-green-600"}," 连接耗时: ",-1)),Do={class:"flex justify-between items-center"},bo={class:"text-purple-700 font-bold"},go={class:"flex"},Ao={class:"text-green-700 text-14px !m-0px"},Co="wss://ws.meex.com/kline-api/ws",wo=la({__name:"Ws",setup(e){let n=0;const t=oa({status:"关闭",connect_time:"--",sends:{overview:{title:"获取行情数据",loading:!1,subing:!1,data:null,update:!1,timer:null,send:{event:"req",params:{channel:"review"}}},ticker:{title:"获取最新行情数据",loading:!1,subing:!1,data:null,update:!1,timer:null,send:{event:"sub",params:{channel:"market_btcusdt_ticker"}}},pending_order:{title:"盘口挂单",loading:!1,subing:!1,data:null,update:!1,timer:null,send:{event:"sub",params:{channel:"market_btcusdt_depth_step0"}}},deal_req:{title:"成交-req",loading:!1,subing:!1,data:null,update:!1,timer:null,send:{event:"req",params:{channel:"market_btcusdt_trade_ticker",top:100}}},deal_sub:{title:"成交-订阅",loading:!1,subing:!1,data:null,update:!1,timer:null,send:{event:"sub",params:{channel:"market_btcusdt_trade_ticker",top:100}}},kline_req:{title:"kline-req",loading:!1,subing:!1,data:null,update:!1,timer:null,send:{event:"req",params:{channel:"market_btcusdt_kline_60min"}}},kline_sub:{title:"kline-sub",loading:!1,subing:!1,data:null,update:!1,timer:null,send:{event:"sub",params:{channel:"market_btcusdt_kline_60min"}}}}}),a=new _o(Co,{retry:100,onCreate:s=>{t.connect_time="--",t.status=s===0?"连接中":"重连中",n=Date.now()},onOpen:()=>{t.status="已连接",t.connect_time=String(Date.now()-n)},onClose:()=>{t.status="关闭"}}),l={send(s){const r=t.sends[s];r.loading=!0,r.send.event==="sub"&&(r.subing=!0),a.send(r.send,i=>{r.data=i,r.loading=!1,this.setUpdateStyle(r)})},unSub(s){const r=t.sends[s];r.send.event==="sub"&&(r.subing=!1),a.send({...r.send,event:"unsub"},()=>{r.data=null})},setUpdateStyle(s){s.data&&(s.update=!0,s.timer&&clearTimeout(s.timer),setTimeout(()=>{s.update=!1},300))}};return(s,r)=>{const i=Qe.ElText,_=Qe.ElButton,o=Qe.ElCard;return ge(),ht(Rt,null,[J("div",ho,[uo,Ke(i,{class:"!ml-10px font-bold",type:"primary"},{default:ie(()=>[ye(De(t.status),1)]),_:1}),yo,Ke(i,{class:"!ml-10px font-bold",type:"primary"},{default:ie(()=>[ye(De(t.connect_time)+" ms ",1)]),_:1})]),(ge(!0),ht(Rt,null,ia(Object.entries(t.sends),([c,D])=>(ge(),Bt(o,{key:c,class:ca(["box-card mt-8px",{"has-update":D.update}])},{header:ie(()=>[J("div",Do,[J("span",bo,De(D.title),1),J("div",go,[D.send.event==="sub"&&D.subing?(ge(),Bt(_,{key:0,type:"danger",onClick:f=>l.unSub(c)},{default:ie(()=>[ye(" 取消 ")]),_:2},1032,["onClick"])):ra("",!0),Ke(_,{disabled:D.subing,loading:D.loading,type:"primary",onClick:f=>l.send(c)},{default:ie(()=>[ye(" 发送 ")]),_:2},1032,["disabled","loading","onClick"])])]),J("p",Ao," 发送数据: "+De(D.send),1)]),default:ie(()=>[ye(" "+De(D.data),1)]),_:2},1032,["class"]))),128))],64)}}});const Fo=Cn(wo,[["__scopeId","data-v-6b31cde0"]]),zo=JSON.parse('{"title":"Socket","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"npm/ws.md","lastUpdated":1685932023000}'),xo={name:"npm/ws.md"},ko=wn('<h1 id="socket" tabindex="-1">Socket <a class="header-anchor" href="#socket" aria-label="Permalink to &quot;Socket&quot;">​</a></h1><p>通用的Scoket，主要功能:</p><ol><li>默认自动创建ws建连。</li><li>支持手动初始化<code>options.connect = false</code>, 初始化时执行 <code>init()</code>。</li><li>支持ws不可用时缓存订阅队列，ws建连之后自动发送缓存的订阅。</li><li>支持多个同样订阅只发送一次，成功之后同步执行回调。</li><li>支持自动/主动心跳功能。</li><li>支持断线自动重连功能。</li><li>解析<code>pako</code>压缩数据流。</li></ol><h2 id="install" tabindex="-1">install <a class="header-anchor" href="#install" aria-label="Permalink to &quot;install&quot;">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@fe/socket</span></span></code></pre></div><h2 id="demo" tabindex="-1">Demo <a class="header-anchor" href="#demo" aria-label="Permalink to &quot;Demo&quot;">​</a></h2>',6),mo=wn(`<h2 id="使用" tabindex="-1">使用 <a class="header-anchor" href="#使用" aria-label="Permalink to &quot;使用&quot;">​</a></h2><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Socket </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@fe/socket</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> Ws </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Socket</span><span style="color:#A6ACCD;">(url</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> options)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;"># 或者使用</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">useSocket</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@fe/socket</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> init</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> send</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> close </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">useSocket</span><span style="color:#A6ACCD;">(url</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> options)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="查看log" tabindex="-1">查看log <a class="header-anchor" href="#查看log" aria-label="Permalink to &quot;查看log&quot;">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">sessionStorage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ws-debug</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-label="Permalink to &quot;参数&quot;">​</a></h2><h3 id="url" tabindex="-1">url <a class="header-anchor" href="#url" aria-label="Permalink to &quot;url&quot;">​</a></h3><p>链接 WebSocket 服务器将响应的 URL：<code>ws://ws.abc.com</code> 或 <code>wss://ws.abc.com</code>。</p><ul><li>类型 <code>string | URL</code></li><li>示例</li></ul><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> url </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">wss://ws.abc.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 或者</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> url </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">URL</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/kline</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ws://ws.abc.com/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ws://ws.abc.com/kline</span></span></code></pre></div><h3 id="options" tabindex="-1">options <a class="header-anchor" href="#options" aria-label="Permalink to &quot;options&quot;">​</a></h3><p>初始化Socket时使用的配置选项。</p><h4 id="类型" tabindex="-1">类型 <a class="header-anchor" href="#类型" aria-label="Permalink to &quot;类型&quot;">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Options</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">connect</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">protocols</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#A6ACCD;">[] </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">undefined</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">retry</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">retryTime</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">heart</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">heartTime</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">listenOnLine</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">onCreate</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">retryNumber</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">onOpen</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">retryNumber</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">onClose</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">isManual</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="详细说明" tabindex="-1">详细说明 <a class="header-anchor" href="#详细说明" aria-label="Permalink to &quot;详细说明&quot;">​</a></h3><table><thead><tr><th>参数</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><strong>name</strong></td><td>ws</td><td>ws链接名称，主要用来查看区分多个ws的debug信息</td></tr><tr><td><strong>connect</strong></td><td>true</td><td>创建Socket时是否自动初始化，如果设置为 <code>false</code> 时需要手动调用 <code>init</code> 方式初始化</td></tr><tr><td><strong>protocols</strong></td><td></td><td>一个协议字符串或者一个包含协议字符串的数组, 具体查看 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WebSocket/WebSocket" target="_blank" rel="noreferrer">WebSocket</a></td></tr><tr><td><strong>retry</strong></td><td>4</td><td>自动重连次数，非手动关闭ws时执行</td></tr><tr><td><strong>retryTime</strong></td><td>2000</td><td>自动重连间隔时间，以<code>秒</code>为单位</td></tr><tr><td><strong>heart</strong></td><td>false</td><td>是否主动探测心跳，如果需要主动探测心跳需要设置为 \`true</td></tr><tr><td><strong>heartTime</strong></td><td>5000</td><td>主动探测心跳间隔，以<code>秒</code>为单位</td></tr><tr><td><strong>listenOnLine</strong></td><td>true</td><td>是否监听网络状态，监听<code>online 或 offline</code>事件</td></tr><tr><td><strong>onCreate</strong></td><td>retryNumber</td><td>创建Socket事件,<code>retryNumber</code>: 重试次数</td></tr><tr><td><strong>onOpen</strong></td><td>retryNumber</td><td>创建成功事件,<code>retryNumber</code>: 重试次数</td></tr><tr><td><strong>onClose</strong></td><td>isManual</td><td>关闭事件,<code>isManual</code>: 是否手动关闭</td></tr></tbody></table><h2 id="函数" tabindex="-1">函数 <a class="header-anchor" href="#函数" aria-label="Permalink to &quot;函数&quot;">​</a></h2><h3 id="init" tabindex="-1">init() <a class="header-anchor" href="#init" aria-label="Permalink to &quot;init()&quot;">​</a></h3><p>手动初始化ws。</p><ul><li>类型</li></ul><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">init</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">url</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Url</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span></span></code></pre></div><ul><li>示例</li></ul><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Socket </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@fe/socket</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> Ws </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Socket</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ws://ws.api.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">connect</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 手动初始化并添加token</span></span>
<span class="line"><span style="color:#A6ACCD;">Ws</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">init</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ws://ws.api.com?token=asdf</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="send" tabindex="-1">send() <a class="header-anchor" href="#send" aria-label="Permalink to &quot;send()&quot;">​</a></h3><p>订阅发送数据。</p><ul><li>类型</li></ul><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">enum</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ActionKey</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    action </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">event</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">enum</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Action</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    req </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">req</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    sub </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sub</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    unsub </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">unsub</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    ping </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ping</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    pong </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pong</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SendData</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    [ActionKey</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">action]</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#FFCB6B;">Action</span><span style="color:#89DDFF;">}\`</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 订阅动作</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">params</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">channel</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 特殊字段用来区分订阅</span></span>
<span class="line"><span style="color:#A6ACCD;">        [</span><span style="color:#A6ACCD;font-style:italic;">propName</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SendCb</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">send</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">data</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SendData</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">callback</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SendCb</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span></span></code></pre></div><ul><li>示例</li></ul><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Socket </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@fe/socket</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> Ws </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Socket</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ws://ws.api.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> sendData </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">event</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sub</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">params</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">channel</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">kline_5min_btcusdt</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        id: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">market</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> Ws.send(sendData</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> (data) </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// TODO::</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="close" tabindex="-1">close() <a class="header-anchor" href="#close" aria-label="Permalink to &quot;close()&quot;">​</a></h3><p>手动关闭ws。</p><ul><li>类型</li></ul><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">close</span><span style="color:#89DDFF;">():</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span></span></code></pre></div>`,32);function vo(e,n,t,a,l,s){const r=Fo;return ge(),ht("div",null,[ko,Ke(r),mo])}const Ro=Cn(xo,[["render",vo]]);export{zo as __pageData,Ro as default};
